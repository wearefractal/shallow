<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>V8 API Reference Guide: /home/codex/apps/v8/src/objects.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo.jpg"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">V8 API Reference Guide
   
   </div>
   <div id="projectbrief">If this is out of date tweet @Contra</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('objects_8h.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/codex/apps/v8/src/objects.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="objects_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright 2012 the V8 project authors. All rights reserved.</span>
<a name="l00002"></a>00002 <span class="comment">// Redistribution and use in source and binary forms, with or without</span>
<a name="l00003"></a>00003 <span class="comment">// modification, are permitted provided that the following conditions are</span>
<a name="l00004"></a>00004 <span class="comment">// met:</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">//     * Redistributions of source code must retain the above copyright</span>
<a name="l00007"></a>00007 <span class="comment">//       notice, this list of conditions and the following disclaimer.</span>
<a name="l00008"></a>00008 <span class="comment">//     * Redistributions in binary form must reproduce the above</span>
<a name="l00009"></a>00009 <span class="comment">//       copyright notice, this list of conditions and the following</span>
<a name="l00010"></a>00010 <span class="comment">//       disclaimer in the documentation and/or other materials provided</span>
<a name="l00011"></a>00011 <span class="comment">//       with the distribution.</span>
<a name="l00012"></a>00012 <span class="comment">//     * Neither the name of Google Inc. nor the names of its</span>
<a name="l00013"></a>00013 <span class="comment">//       contributors may be used to endorse or promote products derived</span>
<a name="l00014"></a>00014 <span class="comment">//       from this software without specific prior written permission.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00017"></a>00017 <span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00018"></a>00018 <span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00019"></a>00019 <span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00020"></a>00020 <span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00021"></a>00021 <span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00022"></a>00022 <span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00023"></a>00023 <span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00024"></a>00024 <span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00025"></a>00025 <span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00026"></a>00026 <span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#ifndef V8_OBJECTS_H_</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define V8_OBJECTS_H_</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="allocation_8h.html">allocation.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="builtins_8h.html">builtins.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="list_8h.html">list.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="property-details_8h.html">property-details.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="smart-array-pointer_8h.html">smart-array-pointer.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="unicode-inl_8h.html">unicode-inl.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#if V8_TARGET_ARCH_ARM</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="constants-arm_8h.html">arm/constants-arm.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#elif V8_TARGET_ARCH_MIPS</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="constants-mips_8h.html">mips/constants-mips.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#endif</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="v8checks_8h.html">v8checks.h</a>&quot;</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">//</span>
<a name="l00046"></a>00046 <span class="comment">// Most object types in the V8 JavaScript are described in this file.</span>
<a name="l00047"></a>00047 <span class="comment">//</span>
<a name="l00048"></a>00048 <span class="comment">// Inheritance hierarchy:</span>
<a name="l00049"></a>00049 <span class="comment">// - MaybeObject    (an object or a failure)</span>
<a name="l00050"></a>00050 <span class="comment">//   - Failure      (immediate for marking failed operation)</span>
<a name="l00051"></a>00051 <span class="comment">//   - Object</span>
<a name="l00052"></a>00052 <span class="comment">//     - Smi          (immediate small integer)</span>
<a name="l00053"></a>00053 <span class="comment">//     - HeapObject   (superclass for everything allocated in the heap)</span>
<a name="l00054"></a>00054 <span class="comment">//       - JSReceiver  (suitable for property access)</span>
<a name="l00055"></a>00055 <span class="comment">//         - JSObject</span>
<a name="l00056"></a>00056 <span class="comment">//           - JSArray</span>
<a name="l00057"></a>00057 <span class="comment">//           - JSSet</span>
<a name="l00058"></a>00058 <span class="comment">//           - JSMap</span>
<a name="l00059"></a>00059 <span class="comment">//           - JSWeakMap</span>
<a name="l00060"></a>00060 <span class="comment">//           - JSRegExp</span>
<a name="l00061"></a>00061 <span class="comment">//           - JSFunction</span>
<a name="l00062"></a>00062 <span class="comment">//           - JSModule</span>
<a name="l00063"></a>00063 <span class="comment">//           - GlobalObject</span>
<a name="l00064"></a>00064 <span class="comment">//             - JSGlobalObject</span>
<a name="l00065"></a>00065 <span class="comment">//             - JSBuiltinsObject</span>
<a name="l00066"></a>00066 <span class="comment">//           - JSGlobalProxy</span>
<a name="l00067"></a>00067 <span class="comment">//           - JSValue</span>
<a name="l00068"></a>00068 <span class="comment">//             - JSDate</span>
<a name="l00069"></a>00069 <span class="comment">//           - JSMessageObject</span>
<a name="l00070"></a>00070 <span class="comment">//         - JSProxy</span>
<a name="l00071"></a>00071 <span class="comment">//           - JSFunctionProxy</span>
<a name="l00072"></a>00072 <span class="comment">//       - FixedArrayBase</span>
<a name="l00073"></a>00073 <span class="comment">//         - ByteArray</span>
<a name="l00074"></a>00074 <span class="comment">//         - FixedArray</span>
<a name="l00075"></a>00075 <span class="comment">//           - DescriptorArray</span>
<a name="l00076"></a>00076 <span class="comment">//           - HashTable</span>
<a name="l00077"></a>00077 <span class="comment">//             - Dictionary</span>
<a name="l00078"></a>00078 <span class="comment">//             - SymbolTable</span>
<a name="l00079"></a>00079 <span class="comment">//             - CompilationCacheTable</span>
<a name="l00080"></a>00080 <span class="comment">//             - CodeCacheHashTable</span>
<a name="l00081"></a>00081 <span class="comment">//             - MapCache</span>
<a name="l00082"></a>00082 <span class="comment">//           - Context</span>
<a name="l00083"></a>00083 <span class="comment">//           - JSFunctionResultCache</span>
<a name="l00084"></a>00084 <span class="comment">//           - ScopeInfo</span>
<a name="l00085"></a>00085 <span class="comment">//         - FixedDoubleArray</span>
<a name="l00086"></a>00086 <span class="comment">//         - ExternalArray</span>
<a name="l00087"></a>00087 <span class="comment">//           - ExternalPixelArray</span>
<a name="l00088"></a>00088 <span class="comment">//           - ExternalByteArray</span>
<a name="l00089"></a>00089 <span class="comment">//           - ExternalUnsignedByteArray</span>
<a name="l00090"></a>00090 <span class="comment">//           - ExternalShortArray</span>
<a name="l00091"></a>00091 <span class="comment">//           - ExternalUnsignedShortArray</span>
<a name="l00092"></a>00092 <span class="comment">//           - ExternalIntArray</span>
<a name="l00093"></a>00093 <span class="comment">//           - ExternalUnsignedIntArray</span>
<a name="l00094"></a>00094 <span class="comment">//           - ExternalFloatArray</span>
<a name="l00095"></a>00095 <span class="comment">//       - String</span>
<a name="l00096"></a>00096 <span class="comment">//         - SeqString</span>
<a name="l00097"></a>00097 <span class="comment">//           - SeqAsciiString</span>
<a name="l00098"></a>00098 <span class="comment">//           - SeqTwoByteString</span>
<a name="l00099"></a>00099 <span class="comment">//         - SlicedString</span>
<a name="l00100"></a>00100 <span class="comment">//         - ConsString</span>
<a name="l00101"></a>00101 <span class="comment">//         - ExternalString</span>
<a name="l00102"></a>00102 <span class="comment">//           - ExternalAsciiString</span>
<a name="l00103"></a>00103 <span class="comment">//           - ExternalTwoByteString</span>
<a name="l00104"></a>00104 <span class="comment">//       - HeapNumber</span>
<a name="l00105"></a>00105 <span class="comment">//       - Code</span>
<a name="l00106"></a>00106 <span class="comment">//       - Map</span>
<a name="l00107"></a>00107 <span class="comment">//       - Oddball</span>
<a name="l00108"></a>00108 <span class="comment">//       - Foreign</span>
<a name="l00109"></a>00109 <span class="comment">//       - SharedFunctionInfo</span>
<a name="l00110"></a>00110 <span class="comment">//       - Struct</span>
<a name="l00111"></a>00111 <span class="comment">//         - AccessorInfo</span>
<a name="l00112"></a>00112 <span class="comment">//         - AccessorPair</span>
<a name="l00113"></a>00113 <span class="comment">//         - AccessCheckInfo</span>
<a name="l00114"></a>00114 <span class="comment">//         - InterceptorInfo</span>
<a name="l00115"></a>00115 <span class="comment">//         - CallHandlerInfo</span>
<a name="l00116"></a>00116 <span class="comment">//         - TemplateInfo</span>
<a name="l00117"></a>00117 <span class="comment">//           - FunctionTemplateInfo</span>
<a name="l00118"></a>00118 <span class="comment">//           - ObjectTemplateInfo</span>
<a name="l00119"></a>00119 <span class="comment">//         - Script</span>
<a name="l00120"></a>00120 <span class="comment">//         - SignatureInfo</span>
<a name="l00121"></a>00121 <span class="comment">//         - TypeSwitchInfo</span>
<a name="l00122"></a>00122 <span class="comment">//         - DebugInfo</span>
<a name="l00123"></a>00123 <span class="comment">//         - BreakPointInfo</span>
<a name="l00124"></a>00124 <span class="comment">//         - CodeCache</span>
<a name="l00125"></a>00125 <span class="comment">//</span>
<a name="l00126"></a>00126 <span class="comment">// Formats of Object*:</span>
<a name="l00127"></a>00127 <span class="comment">//  Smi:        [31 bit signed int] 0</span>
<a name="l00128"></a>00128 <span class="comment">//  HeapObject: [32 bit direct pointer] (4 byte aligned) | 01</span>
<a name="l00129"></a>00129 <span class="comment">//  Failure:    [30 bit signed int] 11</span>
<a name="l00130"></a>00130 
<a name="l00131"></a>00131 <span class="keyword">namespace </span>v8 {
<a name="l00132"></a>00132 <span class="keyword">namespace </span>internal {
<a name="l00133"></a>00133 
<a name="l00134"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">00134</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> {
<a name="l00135"></a>00135   <span class="comment">// The &quot;fast&quot; kind for elements that only contain SMI values. Must be first</span>
<a name="l00136"></a>00136   <span class="comment">// to make it possible to efficiently check maps for this kind.</span>
<a name="l00137"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a59f3078cced73b7f91c16693eb276f35">00137</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a59f3078cced73b7f91c16693eb276f35">FAST_SMI_ONLY_ELEMENTS</a>,
<a name="l00138"></a>00138 
<a name="l00139"></a>00139   <span class="comment">// The &quot;fast&quot; kind for tagged values. Must be second to make it possible to</span>
<a name="l00140"></a>00140   <span class="comment">// efficiently check maps for this and the FAST_SMI_ONLY_ELEMENTS kind</span>
<a name="l00141"></a>00141   <span class="comment">// together at once.</span>
<a name="l00142"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a02e35be424bf2b17338a33a8a0786862">00142</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a02e35be424bf2b17338a33a8a0786862">FAST_ELEMENTS</a>,
<a name="l00143"></a>00143 
<a name="l00144"></a>00144   <span class="comment">// The &quot;fast&quot; kind for unwrapped, non-tagged double values.</span>
<a name="l00145"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a941eaf33944f2b09406243fd90036d61">00145</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a941eaf33944f2b09406243fd90036d61">FAST_DOUBLE_ELEMENTS</a>,
<a name="l00146"></a>00146 
<a name="l00147"></a>00147   <span class="comment">// The &quot;slow&quot; kind.</span>
<a name="l00148"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ace123a96977080e9fd831f0f40e97a37">00148</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ace123a96977080e9fd831f0f40e97a37">DICTIONARY_ELEMENTS</a>,
<a name="l00149"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ac5f83fcbde8af492c2028fcc107aedb0">00149</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ac5f83fcbde8af492c2028fcc107aedb0">NON_STRICT_ARGUMENTS_ELEMENTS</a>,
<a name="l00150"></a>00150   <span class="comment">// The &quot;fast&quot; kind for external arrays</span>
<a name="l00151"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a25210971c8615909160f9ff3ad61c7ba">00151</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a25210971c8615909160f9ff3ad61c7ba">EXTERNAL_BYTE_ELEMENTS</a>,
<a name="l00152"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aaea818120aeccd42d385518d93c5a472">00152</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aaea818120aeccd42d385518d93c5a472">EXTERNAL_UNSIGNED_BYTE_ELEMENTS</a>,
<a name="l00153"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31abf660b70ae29b3039d182fcb47344d08">00153</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31abf660b70ae29b3039d182fcb47344d08">EXTERNAL_SHORT_ELEMENTS</a>,
<a name="l00154"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a89e3810d641b08657d8d608f24fd14ee">00154</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a89e3810d641b08657d8d608f24fd14ee">EXTERNAL_UNSIGNED_SHORT_ELEMENTS</a>,
<a name="l00155"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31acb4ea67c9e164e155e82eaa50eeb72cb">00155</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31acb4ea67c9e164e155e82eaa50eeb72cb">EXTERNAL_INT_ELEMENTS</a>,
<a name="l00156"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aba14518de8048309b301ab7d62b7ad7e">00156</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aba14518de8048309b301ab7d62b7ad7e">EXTERNAL_UNSIGNED_INT_ELEMENTS</a>,
<a name="l00157"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ad795c43fc9dc87f4deb9081ab8b36f0b">00157</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ad795c43fc9dc87f4deb9081ab8b36f0b">EXTERNAL_FLOAT_ELEMENTS</a>,
<a name="l00158"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ae7e379bfdefc2cd762a00a8c4db1c062">00158</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ae7e379bfdefc2cd762a00a8c4db1c062">EXTERNAL_DOUBLE_ELEMENTS</a>,
<a name="l00159"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aaabf8801b7a387dcf6dcb6882a03b756">00159</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aaabf8801b7a387dcf6dcb6882a03b756">EXTERNAL_PIXEL_ELEMENTS</a>,
<a name="l00160"></a>00160 
<a name="l00161"></a>00161   <span class="comment">// Derived constants from ElementsKind</span>
<a name="l00162"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31afce7db7873cd53dd41f3402d3e902639">00162</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31afce7db7873cd53dd41f3402d3e902639">FIRST_EXTERNAL_ARRAY_ELEMENTS_KIND</a> = <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a25210971c8615909160f9ff3ad61c7ba">EXTERNAL_BYTE_ELEMENTS</a>,
<a name="l00163"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a2245fe41b2c5fb2fdc6470d9ac09735f">00163</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a2245fe41b2c5fb2fdc6470d9ac09735f">LAST_EXTERNAL_ARRAY_ELEMENTS_KIND</a> = <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aaabf8801b7a387dcf6dcb6882a03b756">EXTERNAL_PIXEL_ELEMENTS</a>,
<a name="l00164"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aa41b525aca006b163969491a675199fd">00164</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aa41b525aca006b163969491a675199fd">FIRST_ELEMENTS_KIND</a> = <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a59f3078cced73b7f91c16693eb276f35">FAST_SMI_ONLY_ELEMENTS</a>,
<a name="l00165"></a><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a25b486cd6fd27d07282cc298ef9ec94d">00165</a>   <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a25b486cd6fd27d07282cc298ef9ec94d">LAST_ELEMENTS_KIND</a> = <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aaabf8801b7a387dcf6dcb6882a03b756">EXTERNAL_PIXEL_ELEMENTS</a>
<a name="l00166"></a>00166 };
<a name="l00167"></a>00167 
<a name="l00168"></a><a class="code" href="namespacev8_1_1internal.html#adb6017d1e2df849364075bc3a7d89aa1">00168</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#adb6017d1e2df849364075bc3a7d89aa1">CompareMapMode</a> {
<a name="l00169"></a><a class="code" href="namespacev8_1_1internal.html#adb6017d1e2df849364075bc3a7d89aa1a497ac71104c77348286c6dcd6ba8d2ba">00169</a>   <a class="code" href="namespacev8_1_1internal.html#adb6017d1e2df849364075bc3a7d89aa1a497ac71104c77348286c6dcd6ba8d2ba">REQUIRE_EXACT_MAP</a>,
<a name="l00170"></a><a class="code" href="namespacev8_1_1internal.html#adb6017d1e2df849364075bc3a7d89aa1a8cec262d8973091bc4b11feecc690e83">00170</a>   <a class="code" href="namespacev8_1_1internal.html#adb6017d1e2df849364075bc3a7d89aa1a8cec262d8973091bc4b11feecc690e83">ALLOW_ELEMENT_TRANSITION_MAPS</a>
<a name="l00171"></a>00171 };
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="namespacev8_1_1internal.html#a0237e72e3d150637b124de995ec11959">00173</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a0237e72e3d150637b124de995ec11959">KeyedAccessGrowMode</a> {
<a name="l00174"></a><a class="code" href="namespacev8_1_1internal.html#a0237e72e3d150637b124de995ec11959a47af5b17ee2a7bf1f5cf59e0a1f72474">00174</a>   <a class="code" href="namespacev8_1_1internal.html#a0237e72e3d150637b124de995ec11959a47af5b17ee2a7bf1f5cf59e0a1f72474">DO_NOT_ALLOW_JSARRAY_GROWTH</a>,
<a name="l00175"></a><a class="code" href="namespacev8_1_1internal.html#a0237e72e3d150637b124de995ec11959a4c0b255f1dfb209a0878054a85fe7fdb">00175</a>   <a class="code" href="namespacev8_1_1internal.html#a0237e72e3d150637b124de995ec11959a4c0b255f1dfb209a0878054a85fe7fdb">ALLOW_JSARRAY_GROWTH</a>
<a name="l00176"></a>00176 };
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="namespacev8_1_1internal.html#a59f61913183055e580d8711263ed8eae">00178</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a59f61913183055e580d8711263ed8eae">kElementsKindCount</a> = <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a25b486cd6fd27d07282cc298ef9ec94d">LAST_ELEMENTS_KIND</a> - <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31aa41b525aca006b163969491a675199fd">FIRST_ELEMENTS_KIND</a> + 1;
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#ac67ea683d902931299d0d5b25df58054">PrintElementsKind</a>(FILE* out, <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> kind);
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#a3385b29114f02665568e3b85945e9d10">IsMoreGeneralElementsKindTransition</a>(<a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> from_kind,
<a name="l00183"></a>00183                                                 <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> to_kind);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185 <span class="comment">// Setter that skips the write barrier if mode is SKIP_WRITE_BARRIER.</span>
<a name="l00186"></a><a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">00186</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">WriteBarrierMode</a> { <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a6719428bfb5874884bca62eb8fe3de75">SKIP_WRITE_BARRIER</a>, <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a> };
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 <span class="comment">// PropertyNormalizationMode is used to specify whether to keep</span>
<a name="l00190"></a>00190 <span class="comment">// inobject properties when normalizing properties of a JSObject.</span>
<a name="l00191"></a><a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237a">00191</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237a">PropertyNormalizationMode</a> {
<a name="l00192"></a><a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237aac5a8bff008f8e182215fa48828c8cdb5">00192</a>   <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237aac5a8bff008f8e182215fa48828c8cdb5">CLEAR_INOBJECT_PROPERTIES</a>,
<a name="l00193"></a><a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237aa2218bc18b86468072fce6605e688330f">00193</a>   <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237aa2218bc18b86468072fce6605e688330f">KEEP_INOBJECT_PROPERTIES</a>
<a name="l00194"></a>00194 };
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="comment">// NormalizedMapSharingMode is used to specify whether a map may be shared</span>
<a name="l00198"></a>00198 <span class="comment">// by different objects with normalized properties.</span>
<a name="l00199"></a><a class="code" href="namespacev8_1_1internal.html#a747acea02464a243c466783120c0f3d0">00199</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a747acea02464a243c466783120c0f3d0">NormalizedMapSharingMode</a> {
<a name="l00200"></a><a class="code" href="namespacev8_1_1internal.html#a747acea02464a243c466783120c0f3d0ad0b8dd2e854370a6d3e67c3de7690a64">00200</a>   <a class="code" href="namespacev8_1_1internal.html#a747acea02464a243c466783120c0f3d0ad0b8dd2e854370a6d3e67c3de7690a64">UNIQUE_NORMALIZED_MAP</a>,
<a name="l00201"></a><a class="code" href="namespacev8_1_1internal.html#a747acea02464a243c466783120c0f3d0aefbc873dabf30f2e12f6f9215e9ccd46">00201</a>   <a class="code" href="namespacev8_1_1internal.html#a747acea02464a243c466783120c0f3d0aefbc873dabf30f2e12f6f9215e9ccd46">SHARED_NORMALIZED_MAP</a>
<a name="l00202"></a>00202 };
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 
<a name="l00205"></a>00205 <span class="comment">// Indicates whether a get method should implicitly create the object looked up.</span>
<a name="l00206"></a><a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6">00206</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6">CreationFlag</a> {
<a name="l00207"></a><a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6aba71a3d1b809a3752b316d88a5a4d6f8">00207</a>   <a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6aba71a3d1b809a3752b316d88a5a4d6f8">ALLOW_CREATION</a>,
<a name="l00208"></a><a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6ae758e18a2fa20b09ee208ddd598a832f">00208</a>   <a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6ae758e18a2fa20b09ee208ddd598a832f">OMIT_CREATION</a>
<a name="l00209"></a>00209 };
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 <span class="comment">// Instance size sentinel for objects of variable size.</span>
<a name="l00213"></a><a class="code" href="namespacev8_1_1internal.html#a67d120bf8a8f82f8b1a4075a607ecc55">00213</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a67d120bf8a8f82f8b1a4075a607ecc55">kVariableSizeSentinel</a> = 0;
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="comment">// All Maps have a field instance_type containing a InstanceType.</span>
<a name="l00217"></a>00217 <span class="comment">// It describes the type of the instances.</span>
<a name="l00218"></a>00218 <span class="comment">//</span>
<a name="l00219"></a>00219 <span class="comment">// As an example, a JavaScript object is a heap object and its map</span>
<a name="l00220"></a>00220 <span class="comment">// instance_type is JS_OBJECT_TYPE.</span>
<a name="l00221"></a>00221 <span class="comment">//</span>
<a name="l00222"></a>00222 <span class="comment">// The names of the string instance types are intended to systematically</span>
<a name="l00223"></a>00223 <span class="comment">// mirror their encoding in the instance_type field of the map.  The default</span>
<a name="l00224"></a>00224 <span class="comment">// encoding is considered TWO_BYTE.  It is not mentioned in the name.  ASCII</span>
<a name="l00225"></a>00225 <span class="comment">// encoding is mentioned explicitly in the name.  Likewise, the default</span>
<a name="l00226"></a>00226 <span class="comment">// representation is considered sequential.  It is not mentioned in the</span>
<a name="l00227"></a>00227 <span class="comment">// name.  The other representations (e.g. CONS, EXTERNAL) are explicitly</span>
<a name="l00228"></a>00228 <span class="comment">// mentioned.  Finally, the string is either a SYMBOL_TYPE (if it is a</span>
<a name="l00229"></a>00229 <span class="comment">// symbol) or a STRING_TYPE (if it is not a symbol).</span>
<a name="l00230"></a>00230 <span class="comment">//</span>
<a name="l00231"></a>00231 <span class="comment">// NOTE: The following things are some that depend on the string types having</span>
<a name="l00232"></a>00232 <span class="comment">// instance_types that are less than those of all other types:</span>
<a name="l00233"></a>00233 <span class="comment">// HeapObject::Size, HeapObject::IterateBody, the typeof operator, and</span>
<a name="l00234"></a>00234 <span class="comment">// Object::IsString.</span>
<a name="l00235"></a>00235 <span class="comment">//</span>
<a name="l00236"></a>00236 <span class="comment">// NOTE: Everything following JS_VALUE_TYPE is considered a</span>
<a name="l00237"></a>00237 <span class="comment">// JSObject for GC purposes. The first four entries here have typeof</span>
<a name="l00238"></a>00238 <span class="comment">// &#39;object&#39;, whereas JS_FUNCTION_TYPE has typeof &#39;function&#39;.</span>
<a name="l00239"></a><a class="code" href="objects_8h.html#afc65e486282922fa17fbd6b3a41694ba">00239</a> <span class="preprocessor">#define INSTANCE_TYPE_LIST_ALL(V)                                              \</span>
<a name="l00240"></a>00240 <span class="preprocessor">  V(SYMBOL_TYPE)                                                               \</span>
<a name="l00241"></a>00241 <span class="preprocessor">  V(ASCII_SYMBOL_TYPE)                                                         \</span>
<a name="l00242"></a>00242 <span class="preprocessor">  V(CONS_SYMBOL_TYPE)                                                          \</span>
<a name="l00243"></a>00243 <span class="preprocessor">  V(CONS_ASCII_SYMBOL_TYPE)                                                    \</span>
<a name="l00244"></a>00244 <span class="preprocessor">  V(EXTERNAL_SYMBOL_TYPE)                                                      \</span>
<a name="l00245"></a>00245 <span class="preprocessor">  V(EXTERNAL_SYMBOL_WITH_ASCII_DATA_TYPE)                                      \</span>
<a name="l00246"></a>00246 <span class="preprocessor">  V(EXTERNAL_ASCII_SYMBOL_TYPE)                                                \</span>
<a name="l00247"></a>00247 <span class="preprocessor">  V(SHORT_EXTERNAL_SYMBOL_TYPE)                                                \</span>
<a name="l00248"></a>00248 <span class="preprocessor">  V(SHORT_EXTERNAL_SYMBOL_WITH_ASCII_DATA_TYPE)                                \</span>
<a name="l00249"></a>00249 <span class="preprocessor">  V(SHORT_EXTERNAL_ASCII_SYMBOL_TYPE)                                          \</span>
<a name="l00250"></a>00250 <span class="preprocessor">  V(STRING_TYPE)                                                               \</span>
<a name="l00251"></a>00251 <span class="preprocessor">  V(ASCII_STRING_TYPE)                                                         \</span>
<a name="l00252"></a>00252 <span class="preprocessor">  V(CONS_STRING_TYPE)                                                          \</span>
<a name="l00253"></a>00253 <span class="preprocessor">  V(CONS_ASCII_STRING_TYPE)                                                    \</span>
<a name="l00254"></a>00254 <span class="preprocessor">  V(SLICED_STRING_TYPE)                                                        \</span>
<a name="l00255"></a>00255 <span class="preprocessor">  V(EXTERNAL_STRING_TYPE)                                                      \</span>
<a name="l00256"></a>00256 <span class="preprocessor">  V(EXTERNAL_STRING_WITH_ASCII_DATA_TYPE)                                      \</span>
<a name="l00257"></a>00257 <span class="preprocessor">  V(EXTERNAL_ASCII_STRING_TYPE)                                                \</span>
<a name="l00258"></a>00258 <span class="preprocessor">  V(SHORT_EXTERNAL_STRING_TYPE)                                                \</span>
<a name="l00259"></a>00259 <span class="preprocessor">  V(SHORT_EXTERNAL_STRING_WITH_ASCII_DATA_TYPE)                                \</span>
<a name="l00260"></a>00260 <span class="preprocessor">  V(SHORT_EXTERNAL_ASCII_STRING_TYPE)                                          \</span>
<a name="l00261"></a>00261 <span class="preprocessor">  V(PRIVATE_EXTERNAL_ASCII_STRING_TYPE)                                        \</span>
<a name="l00262"></a>00262 <span class="preprocessor">                                                                               \</span>
<a name="l00263"></a>00263 <span class="preprocessor">  V(MAP_TYPE)                                                                  \</span>
<a name="l00264"></a>00264 <span class="preprocessor">  V(CODE_TYPE)                                                                 \</span>
<a name="l00265"></a>00265 <span class="preprocessor">  V(ODDBALL_TYPE)                                                              \</span>
<a name="l00266"></a>00266 <span class="preprocessor">  V(JS_GLOBAL_PROPERTY_CELL_TYPE)                                              \</span>
<a name="l00267"></a>00267 <span class="preprocessor">                                                                               \</span>
<a name="l00268"></a>00268 <span class="preprocessor">  V(HEAP_NUMBER_TYPE)                                                          \</span>
<a name="l00269"></a>00269 <span class="preprocessor">  V(FOREIGN_TYPE)                                                              \</span>
<a name="l00270"></a>00270 <span class="preprocessor">  V(BYTE_ARRAY_TYPE)                                                           \</span>
<a name="l00271"></a>00271 <span class="preprocessor">  V(FREE_SPACE_TYPE)                                                           \</span>
<a name="l00272"></a>00272 <span class="preprocessor">  </span><span class="comment">/* Note: the order of these external array */</span>                                \
<a name="l00273"></a>00273   <span class="comment">/* types is relied upon in */</span>                                                \
<a name="l00274"></a>00274   <span class="comment">/* Object::IsExternalArray(). */</span>                                             \
<a name="l00275"></a>00275   V(EXTERNAL_BYTE_ARRAY_TYPE)                                                  \
<a name="l00276"></a>00276   V(EXTERNAL_UNSIGNED_BYTE_ARRAY_TYPE)                                         \
<a name="l00277"></a>00277   V(EXTERNAL_SHORT_ARRAY_TYPE)                                                 \
<a name="l00278"></a>00278   V(EXTERNAL_UNSIGNED_SHORT_ARRAY_TYPE)                                        \
<a name="l00279"></a>00279   V(EXTERNAL_INT_ARRAY_TYPE)                                                   \
<a name="l00280"></a>00280   V(EXTERNAL_UNSIGNED_INT_ARRAY_TYPE)                                          \
<a name="l00281"></a>00281   V(EXTERNAL_FLOAT_ARRAY_TYPE)                                                 \
<a name="l00282"></a>00282   V(EXTERNAL_PIXEL_ARRAY_TYPE)                                                 \
<a name="l00283"></a>00283   V(FILLER_TYPE)                                                               \
<a name="l00284"></a>00284                                                                                \
<a name="l00285"></a>00285   V(ACCESSOR_INFO_TYPE)                                                        \
<a name="l00286"></a>00286   V(ACCESSOR_PAIR_TYPE)                                                        \
<a name="l00287"></a>00287   V(ACCESS_CHECK_INFO_TYPE)                                                    \
<a name="l00288"></a>00288   V(INTERCEPTOR_INFO_TYPE)                                                     \
<a name="l00289"></a>00289   V(CALL_HANDLER_INFO_TYPE)                                                    \
<a name="l00290"></a>00290   V(FUNCTION_TEMPLATE_INFO_TYPE)                                               \
<a name="l00291"></a>00291   V(OBJECT_TEMPLATE_INFO_TYPE)                                                 \
<a name="l00292"></a>00292   V(SIGNATURE_INFO_TYPE)                                                       \
<a name="l00293"></a>00293   V(TYPE_SWITCH_INFO_TYPE)                                                     \
<a name="l00294"></a>00294   V(SCRIPT_TYPE)                                                               \
<a name="l00295"></a>00295   V(CODE_CACHE_TYPE)                                                           \
<a name="l00296"></a>00296   V(POLYMORPHIC_CODE_CACHE_TYPE)                                               \
<a name="l00297"></a>00297   V(TYPE_FEEDBACK_INFO_TYPE)                                                   \
<a name="l00298"></a>00298   V(ALIASED_ARGUMENTS_ENTRY_TYPE)                                              \
<a name="l00299"></a>00299                                                                                \
<a name="l00300"></a>00300   V(FIXED_ARRAY_TYPE)                                                          \
<a name="l00301"></a>00301   V(FIXED_DOUBLE_ARRAY_TYPE)                                                   \
<a name="l00302"></a>00302   V(SHARED_FUNCTION_INFO_TYPE)                                                 \
<a name="l00303"></a>00303                                                                                \
<a name="l00304"></a>00304   V(JS_MESSAGE_OBJECT_TYPE)                                                    \
<a name="l00305"></a>00305                                                                                \
<a name="l00306"></a>00306   V(JS_VALUE_TYPE)                                                             \
<a name="l00307"></a>00307   V(JS_DATE_TYPE)                                                              \
<a name="l00308"></a>00308   V(JS_OBJECT_TYPE)                                                            \
<a name="l00309"></a>00309   V(JS_CONTEXT_EXTENSION_OBJECT_TYPE)                                          \
<a name="l00310"></a>00310   V(JS_MODULE_TYPE)                                                            \
<a name="l00311"></a>00311   V(JS_GLOBAL_OBJECT_TYPE)                                                     \
<a name="l00312"></a>00312   V(JS_BUILTINS_OBJECT_TYPE)                                                   \
<a name="l00313"></a>00313   V(JS_GLOBAL_PROXY_TYPE)                                                      \
<a name="l00314"></a>00314   V(JS_ARRAY_TYPE)                                                             \
<a name="l00315"></a>00315   V(JS_PROXY_TYPE)                                                             \
<a name="l00316"></a>00316   V(JS_WEAK_MAP_TYPE)                                                          \
<a name="l00317"></a>00317   V(JS_REGEXP_TYPE)                                                            \
<a name="l00318"></a>00318                                                                                \
<a name="l00319"></a>00319   V(JS_FUNCTION_TYPE)                                                          \
<a name="l00320"></a>00320   V(JS_FUNCTION_PROXY_TYPE)                                                    \
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 <span class="preprocessor">#ifdef ENABLE_DEBUGGER_SUPPORT</span>
<a name="l00323"></a>00323 <span class="preprocessor"></span><span class="preprocessor">#define INSTANCE_TYPE_LIST_DEBUGGER(V)                                         \</span>
<a name="l00324"></a>00324 <span class="preprocessor">  V(DEBUG_INFO_TYPE)                                                           \</span>
<a name="l00325"></a>00325 <span class="preprocessor">  V(BREAK_POINT_INFO_TYPE)</span>
<a name="l00326"></a>00326 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00327"></a><a class="code" href="objects_8h.html#a1565bf03168221f2073c48f56b01620e">00327</a> <span class="preprocessor"></span><span class="preprocessor">#define INSTANCE_TYPE_LIST_DEBUGGER(V)</span>
<a name="l00328"></a>00328 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00329"></a>00329 <span class="preprocessor"></span>
<a name="l00330"></a><a class="code" href="objects_8h.html#a08f0e6d9ef2bb3e1927e95551a37e589">00330</a> <span class="preprocessor">#define INSTANCE_TYPE_LIST(V)                                                  \</span>
<a name="l00331"></a>00331 <span class="preprocessor">  INSTANCE_TYPE_LIST_ALL(V)                                                    \</span>
<a name="l00332"></a>00332 <span class="preprocessor">  INSTANCE_TYPE_LIST_DEBUGGER(V)</span>
<a name="l00333"></a>00333 <span class="preprocessor"></span>
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 <span class="comment">// Since string types are not consecutive, this macro is used to</span>
<a name="l00336"></a>00336 <span class="comment">// iterate over them.</span>
<a name="l00337"></a><a class="code" href="objects_8h.html#a5095df7631964f8d566dc6a3b092bc6b">00337</a> <span class="preprocessor">#define STRING_TYPE_LIST(V)                                                    \</span>
<a name="l00338"></a>00338 <span class="preprocessor">  V(SYMBOL_TYPE,                                                               \</span>
<a name="l00339"></a>00339 <span class="preprocessor">    kVariableSizeSentinel,                                                     \</span>
<a name="l00340"></a>00340 <span class="preprocessor">    symbol,                                                                    \</span>
<a name="l00341"></a>00341 <span class="preprocessor">    Symbol)                                                                    \</span>
<a name="l00342"></a>00342 <span class="preprocessor">  V(ASCII_SYMBOL_TYPE,                                                         \</span>
<a name="l00343"></a>00343 <span class="preprocessor">    kVariableSizeSentinel,                                                     \</span>
<a name="l00344"></a>00344 <span class="preprocessor">    ascii_symbol,                                                              \</span>
<a name="l00345"></a>00345 <span class="preprocessor">    AsciiSymbol)                                                               \</span>
<a name="l00346"></a>00346 <span class="preprocessor">  V(CONS_SYMBOL_TYPE,                                                          \</span>
<a name="l00347"></a>00347 <span class="preprocessor">    ConsString::kSize,                                                         \</span>
<a name="l00348"></a>00348 <span class="preprocessor">    cons_symbol,                                                               \</span>
<a name="l00349"></a>00349 <span class="preprocessor">    ConsSymbol)                                                                \</span>
<a name="l00350"></a>00350 <span class="preprocessor">  V(CONS_ASCII_SYMBOL_TYPE,                                                    \</span>
<a name="l00351"></a>00351 <span class="preprocessor">    ConsString::kSize,                                                         \</span>
<a name="l00352"></a>00352 <span class="preprocessor">    cons_ascii_symbol,                                                         \</span>
<a name="l00353"></a>00353 <span class="preprocessor">    ConsAsciiSymbol)                                                           \</span>
<a name="l00354"></a>00354 <span class="preprocessor">  V(EXTERNAL_SYMBOL_TYPE,                                                      \</span>
<a name="l00355"></a>00355 <span class="preprocessor">    ExternalTwoByteString::kSize,                                              \</span>
<a name="l00356"></a>00356 <span class="preprocessor">    external_symbol,                                                           \</span>
<a name="l00357"></a>00357 <span class="preprocessor">    ExternalSymbol)                                                            \</span>
<a name="l00358"></a>00358 <span class="preprocessor">  V(EXTERNAL_SYMBOL_WITH_ASCII_DATA_TYPE,                                      \</span>
<a name="l00359"></a>00359 <span class="preprocessor">    ExternalTwoByteString::kSize,                                              \</span>
<a name="l00360"></a>00360 <span class="preprocessor">    external_symbol_with_ascii_data,                                           \</span>
<a name="l00361"></a>00361 <span class="preprocessor">    ExternalSymbolWithAsciiData)                                               \</span>
<a name="l00362"></a>00362 <span class="preprocessor">  V(EXTERNAL_ASCII_SYMBOL_TYPE,                                                \</span>
<a name="l00363"></a>00363 <span class="preprocessor">    ExternalAsciiString::kSize,                                                \</span>
<a name="l00364"></a>00364 <span class="preprocessor">    external_ascii_symbol,                                                     \</span>
<a name="l00365"></a>00365 <span class="preprocessor">    ExternalAsciiSymbol)                                                       \</span>
<a name="l00366"></a>00366 <span class="preprocessor">  V(SHORT_EXTERNAL_SYMBOL_TYPE,                                                \</span>
<a name="l00367"></a>00367 <span class="preprocessor">    ExternalTwoByteString::kShortSize,                                         \</span>
<a name="l00368"></a>00368 <span class="preprocessor">    short_external_symbol,                                                     \</span>
<a name="l00369"></a>00369 <span class="preprocessor">    ShortExternalSymbol)                                                       \</span>
<a name="l00370"></a>00370 <span class="preprocessor">  V(SHORT_EXTERNAL_SYMBOL_WITH_ASCII_DATA_TYPE,                                \</span>
<a name="l00371"></a>00371 <span class="preprocessor">    ExternalTwoByteString::kShortSize,                                         \</span>
<a name="l00372"></a>00372 <span class="preprocessor">    short_external_symbol_with_ascii_data,                                     \</span>
<a name="l00373"></a>00373 <span class="preprocessor">    ShortExternalSymbolWithAsciiData)                                          \</span>
<a name="l00374"></a>00374 <span class="preprocessor">  V(SHORT_EXTERNAL_ASCII_SYMBOL_TYPE,                                          \</span>
<a name="l00375"></a>00375 <span class="preprocessor">    ExternalAsciiString::kShortSize,                                           \</span>
<a name="l00376"></a>00376 <span class="preprocessor">    short_external_ascii_symbol,                                               \</span>
<a name="l00377"></a>00377 <span class="preprocessor">    ShortExternalAsciiSymbol)                                                  \</span>
<a name="l00378"></a>00378 <span class="preprocessor">  V(STRING_TYPE,                                                               \</span>
<a name="l00379"></a>00379 <span class="preprocessor">    kVariableSizeSentinel,                                                     \</span>
<a name="l00380"></a>00380 <span class="preprocessor">    string,                                                                    \</span>
<a name="l00381"></a>00381 <span class="preprocessor">    String)                                                                    \</span>
<a name="l00382"></a>00382 <span class="preprocessor">  V(ASCII_STRING_TYPE,                                                         \</span>
<a name="l00383"></a>00383 <span class="preprocessor">    kVariableSizeSentinel,                                                     \</span>
<a name="l00384"></a>00384 <span class="preprocessor">    ascii_string,                                                              \</span>
<a name="l00385"></a>00385 <span class="preprocessor">    AsciiString)                                                               \</span>
<a name="l00386"></a>00386 <span class="preprocessor">  V(CONS_STRING_TYPE,                                                          \</span>
<a name="l00387"></a>00387 <span class="preprocessor">    ConsString::kSize,                                                         \</span>
<a name="l00388"></a>00388 <span class="preprocessor">    cons_string,                                                               \</span>
<a name="l00389"></a>00389 <span class="preprocessor">    ConsString)                                                                \</span>
<a name="l00390"></a>00390 <span class="preprocessor">  V(CONS_ASCII_STRING_TYPE,                                                    \</span>
<a name="l00391"></a>00391 <span class="preprocessor">    ConsString::kSize,                                                         \</span>
<a name="l00392"></a>00392 <span class="preprocessor">    cons_ascii_string,                                                         \</span>
<a name="l00393"></a>00393 <span class="preprocessor">    ConsAsciiString)                                                           \</span>
<a name="l00394"></a>00394 <span class="preprocessor">  V(SLICED_STRING_TYPE,                                                        \</span>
<a name="l00395"></a>00395 <span class="preprocessor">    SlicedString::kSize,                                                       \</span>
<a name="l00396"></a>00396 <span class="preprocessor">    sliced_string,                                                             \</span>
<a name="l00397"></a>00397 <span class="preprocessor">    SlicedString)                                                              \</span>
<a name="l00398"></a>00398 <span class="preprocessor">  V(SLICED_ASCII_STRING_TYPE,                                                  \</span>
<a name="l00399"></a>00399 <span class="preprocessor">    SlicedString::kSize,                                                       \</span>
<a name="l00400"></a>00400 <span class="preprocessor">    sliced_ascii_string,                                                       \</span>
<a name="l00401"></a>00401 <span class="preprocessor">    SlicedAsciiString)                                                         \</span>
<a name="l00402"></a>00402 <span class="preprocessor">  V(EXTERNAL_STRING_TYPE,                                                      \</span>
<a name="l00403"></a>00403 <span class="preprocessor">    ExternalTwoByteString::kSize,                                              \</span>
<a name="l00404"></a>00404 <span class="preprocessor">    external_string,                                                           \</span>
<a name="l00405"></a>00405 <span class="preprocessor">    ExternalString)                                                            \</span>
<a name="l00406"></a>00406 <span class="preprocessor">  V(EXTERNAL_STRING_WITH_ASCII_DATA_TYPE,                                      \</span>
<a name="l00407"></a>00407 <span class="preprocessor">    ExternalTwoByteString::kSize,                                              \</span>
<a name="l00408"></a>00408 <span class="preprocessor">    external_string_with_ascii_data,                                           \</span>
<a name="l00409"></a>00409 <span class="preprocessor">    ExternalStringWithAsciiData)                                               \</span>
<a name="l00410"></a>00410 <span class="preprocessor">  V(EXTERNAL_ASCII_STRING_TYPE,                                                \</span>
<a name="l00411"></a>00411 <span class="preprocessor">    ExternalAsciiString::kSize,                                                \</span>
<a name="l00412"></a>00412 <span class="preprocessor">    external_ascii_string,                                                     \</span>
<a name="l00413"></a>00413 <span class="preprocessor">    ExternalAsciiString)                                                       \</span>
<a name="l00414"></a>00414 <span class="preprocessor">  V(SHORT_EXTERNAL_STRING_TYPE,                                                \</span>
<a name="l00415"></a>00415 <span class="preprocessor">    ExternalTwoByteString::kShortSize,                                         \</span>
<a name="l00416"></a>00416 <span class="preprocessor">    short_external_string,                                                     \</span>
<a name="l00417"></a>00417 <span class="preprocessor">    ShortExternalString)                                                       \</span>
<a name="l00418"></a>00418 <span class="preprocessor">  V(SHORT_EXTERNAL_STRING_WITH_ASCII_DATA_TYPE,                                \</span>
<a name="l00419"></a>00419 <span class="preprocessor">    ExternalTwoByteString::kShortSize,                                         \</span>
<a name="l00420"></a>00420 <span class="preprocessor">    short_external_string_with_ascii_data,                                     \</span>
<a name="l00421"></a>00421 <span class="preprocessor">    ShortExternalStringWithAsciiData)                                          \</span>
<a name="l00422"></a>00422 <span class="preprocessor">  V(SHORT_EXTERNAL_ASCII_STRING_TYPE,                                          \</span>
<a name="l00423"></a>00423 <span class="preprocessor">    ExternalAsciiString::kShortSize,                                           \</span>
<a name="l00424"></a>00424 <span class="preprocessor">    short_external_ascii_string,                                               \</span>
<a name="l00425"></a>00425 <span class="preprocessor">    ShortExternalAsciiString)</span>
<a name="l00426"></a>00426 <span class="preprocessor"></span>
<a name="l00427"></a>00427 <span class="comment">// A struct is a simple object a set of object-valued fields.  Including an</span>
<a name="l00428"></a>00428 <span class="comment">// object type in this causes the compiler to generate most of the boilerplate</span>
<a name="l00429"></a>00429 <span class="comment">// code for the class including allocation and garbage collection routines,</span>
<a name="l00430"></a>00430 <span class="comment">// casts and predicates.  All you need to define is the class, methods and</span>
<a name="l00431"></a>00431 <span class="comment">// object verification routines.  Easy, no?</span>
<a name="l00432"></a>00432 <span class="comment">//</span>
<a name="l00433"></a>00433 <span class="comment">// Note that for subtle reasons related to the ordering or numerical values of</span>
<a name="l00434"></a>00434 <span class="comment">// type tags, elements in this list have to be added to the INSTANCE_TYPE_LIST</span>
<a name="l00435"></a>00435 <span class="comment">// manually.</span>
<a name="l00436"></a><a class="code" href="objects_8h.html#a10ca6319c7393a9a8a684aca7505453c">00436</a> <span class="preprocessor">#define STRUCT_LIST_ALL(V)                                                     \</span>
<a name="l00437"></a>00437 <span class="preprocessor">  V(ACCESSOR_INFO, AccessorInfo, accessor_info)                                \</span>
<a name="l00438"></a>00438 <span class="preprocessor">  V(ACCESSOR_PAIR, AccessorPair, accessor_pair)                                \</span>
<a name="l00439"></a>00439 <span class="preprocessor">  V(ACCESS_CHECK_INFO, AccessCheckInfo, access_check_info)                     \</span>
<a name="l00440"></a>00440 <span class="preprocessor">  V(INTERCEPTOR_INFO, InterceptorInfo, interceptor_info)                       \</span>
<a name="l00441"></a>00441 <span class="preprocessor">  V(CALL_HANDLER_INFO, CallHandlerInfo, call_handler_info)                     \</span>
<a name="l00442"></a>00442 <span class="preprocessor">  V(FUNCTION_TEMPLATE_INFO, FunctionTemplateInfo, function_template_info)      \</span>
<a name="l00443"></a>00443 <span class="preprocessor">  V(OBJECT_TEMPLATE_INFO, ObjectTemplateInfo, object_template_info)            \</span>
<a name="l00444"></a>00444 <span class="preprocessor">  V(SIGNATURE_INFO, SignatureInfo, signature_info)                             \</span>
<a name="l00445"></a>00445 <span class="preprocessor">  V(TYPE_SWITCH_INFO, TypeSwitchInfo, type_switch_info)                        \</span>
<a name="l00446"></a>00446 <span class="preprocessor">  V(SCRIPT, Script, script)                                                    \</span>
<a name="l00447"></a>00447 <span class="preprocessor">  V(CODE_CACHE, CodeCache, code_cache)                                         \</span>
<a name="l00448"></a>00448 <span class="preprocessor">  V(POLYMORPHIC_CODE_CACHE, PolymorphicCodeCache, polymorphic_code_cache)      \</span>
<a name="l00449"></a>00449 <span class="preprocessor">  V(TYPE_FEEDBACK_INFO, TypeFeedbackInfo, type_feedback_info)                  \</span>
<a name="l00450"></a>00450 <span class="preprocessor">  V(ALIASED_ARGUMENTS_ENTRY, AliasedArgumentsEntry, aliased_arguments_entry)</span>
<a name="l00451"></a>00451 <span class="preprocessor"></span>
<a name="l00452"></a>00452 <span class="preprocessor">#ifdef ENABLE_DEBUGGER_SUPPORT</span>
<a name="l00453"></a>00453 <span class="preprocessor"></span><span class="preprocessor">#define STRUCT_LIST_DEBUGGER(V)                                                \</span>
<a name="l00454"></a>00454 <span class="preprocessor">  V(DEBUG_INFO, DebugInfo, debug_info)                                         \</span>
<a name="l00455"></a>00455 <span class="preprocessor">  V(BREAK_POINT_INFO, BreakPointInfo, break_point_info)</span>
<a name="l00456"></a>00456 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00457"></a><a class="code" href="objects_8h.html#a00dcbb32e470f0bf29740a7570392bf6">00457</a> <span class="preprocessor"></span><span class="preprocessor">#define STRUCT_LIST_DEBUGGER(V)</span>
<a name="l00458"></a>00458 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00459"></a>00459 <span class="preprocessor"></span>
<a name="l00460"></a><a class="code" href="objects_8h.html#a3b5399155f391d070485d8310f9d2e95">00460</a> <span class="preprocessor">#define STRUCT_LIST(V)                                                         \</span>
<a name="l00461"></a>00461 <span class="preprocessor">  STRUCT_LIST_ALL(V)                                                           \</span>
<a name="l00462"></a>00462 <span class="preprocessor">  STRUCT_LIST_DEBUGGER(V)</span>
<a name="l00463"></a>00463 <span class="preprocessor"></span>
<a name="l00464"></a>00464 <span class="comment">// We use the full 8 bits of the instance_type field to encode heap object</span>
<a name="l00465"></a>00465 <span class="comment">// instance types.  The high-order bit (bit 7) is set if the object is not a</span>
<a name="l00466"></a>00466 <span class="comment">// string, and cleared if it is a string.</span>
<a name="l00467"></a><a class="code" href="namespacev8_1_1internal.html#ad40ee42b25937bea6fc3c37563c5d5e7">00467</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#ad40ee42b25937bea6fc3c37563c5d5e7">kIsNotStringMask</a> = 0x80;
<a name="l00468"></a><a class="code" href="namespacev8_1_1internal.html#a60ac386f239cb613471c93f6bdbee515">00468</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a60ac386f239cb613471c93f6bdbee515">kStringTag</a> = 0x0;
<a name="l00469"></a><a class="code" href="namespacev8_1_1internal.html#a4647d28796af03ca465680673c78c13f">00469</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a4647d28796af03ca465680673c78c13f">kNotStringTag</a> = 0x80;
<a name="l00470"></a>00470 
<a name="l00471"></a>00471 <span class="comment">// Bit 6 indicates that the object is a symbol (if set) or not (if cleared).</span>
<a name="l00472"></a>00472 <span class="comment">// There are not enough types that the non-string types (with bit 7 set) can</span>
<a name="l00473"></a>00473 <span class="comment">// have bit 6 set too.</span>
<a name="l00474"></a><a class="code" href="namespacev8_1_1internal.html#aace04e755f465dab274d1dcbe002ee39">00474</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#aace04e755f465dab274d1dcbe002ee39">kIsSymbolMask</a> = 0x40;
<a name="l00475"></a><a class="code" href="namespacev8_1_1internal.html#a2a7b3dbc7dea96eeff5b437d4e275698">00475</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a2a7b3dbc7dea96eeff5b437d4e275698">kNotSymbolTag</a> = 0x0;
<a name="l00476"></a><a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">00476</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> = 0x40;
<a name="l00477"></a>00477 
<a name="l00478"></a>00478 <span class="comment">// If bit 7 is clear then bit 2 indicates whether the string consists of</span>
<a name="l00479"></a>00479 <span class="comment">// two-byte characters or one-byte characters.</span>
<a name="l00480"></a><a class="code" href="namespacev8_1_1internal.html#a086b3379b539247245ed2461818f4b0a">00480</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a086b3379b539247245ed2461818f4b0a">kStringEncodingMask</a> = 0x4;
<a name="l00481"></a><a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">00481</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> = 0x0;
<a name="l00482"></a><a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">00482</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> = 0x4;
<a name="l00483"></a>00483 
<a name="l00484"></a>00484 <span class="comment">// If bit 7 is clear, the low-order 2 bits indicate the representation</span>
<a name="l00485"></a>00485 <span class="comment">// of the string.</span>
<a name="l00486"></a><a class="code" href="namespacev8_1_1internal.html#a8c7025922648a3d8255feed2005d3595">00486</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a8c7025922648a3d8255feed2005d3595">kStringRepresentationMask</a> = 0x03;
<a name="l00487"></a><a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3">00487</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3">StringRepresentationTag</a> {
<a name="l00488"></a><a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a19b148253914cd4f3ccaf680ba52968f">00488</a>   <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a19b148253914cd4f3ccaf680ba52968f">kSeqStringTag</a> = 0x0,
<a name="l00489"></a><a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">00489</a>   <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a> = 0x1,
<a name="l00490"></a><a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">00490</a>   <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> = 0x2,
<a name="l00491"></a><a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ad20b0b337d27d5c026040a5ddde26056">00491</a>   <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ad20b0b337d27d5c026040a5ddde26056">kSlicedStringTag</a> = 0x3
<a name="l00492"></a>00492 };
<a name="l00493"></a><a class="code" href="namespacev8_1_1internal.html#af01e6d46ba1b26e35f7d0943a504b9e3">00493</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#af01e6d46ba1b26e35f7d0943a504b9e3">kIsIndirectStringMask</a> = 0x1;
<a name="l00494"></a><a class="code" href="namespacev8_1_1internal.html#aa9d0b031d8330c5cf4829b3f26e937eb">00494</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#aa9d0b031d8330c5cf4829b3f26e937eb">kIsIndirectStringTag</a> = 0x1;
<a name="l00495"></a>00495 <a class="code" href="namespacev8_1_1internal.html#a8f1d7efef0b73dcfa52966120189258c">STATIC_ASSERT</a>((<a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a19b148253914cd4f3ccaf680ba52968f">kSeqStringTag</a> &amp; <a class="code" href="namespacev8_1_1internal.html#af01e6d46ba1b26e35f7d0943a504b9e3">kIsIndirectStringMask</a>) == 0);
<a name="l00496"></a>00496 <a class="code" href="namespacev8_1_1internal.html#a8f1d7efef0b73dcfa52966120189258c">STATIC_ASSERT</a>((<a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> &amp; <a class="code" href="namespacev8_1_1internal.html#af01e6d46ba1b26e35f7d0943a504b9e3">kIsIndirectStringMask</a>) == 0);
<a name="l00497"></a>00497 <a class="code" href="namespacev8_1_1internal.html#a8f1d7efef0b73dcfa52966120189258c">STATIC_ASSERT</a>(
<a name="l00498"></a>00498     (<a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a> &amp; <a class="code" href="namespacev8_1_1internal.html#af01e6d46ba1b26e35f7d0943a504b9e3">kIsIndirectStringMask</a>) == <a class="code" href="namespacev8_1_1internal.html#aa9d0b031d8330c5cf4829b3f26e937eb">kIsIndirectStringTag</a>);
<a name="l00499"></a>00499 <a class="code" href="namespacev8_1_1internal.html#a8f1d7efef0b73dcfa52966120189258c">STATIC_ASSERT</a>(
<a name="l00500"></a>00500     (<a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ad20b0b337d27d5c026040a5ddde26056">kSlicedStringTag</a> &amp; <a class="code" href="namespacev8_1_1internal.html#af01e6d46ba1b26e35f7d0943a504b9e3">kIsIndirectStringMask</a>) == <a class="code" href="namespacev8_1_1internal.html#aa9d0b031d8330c5cf4829b3f26e937eb">kIsIndirectStringTag</a>);
<a name="l00501"></a>00501 
<a name="l00502"></a>00502 <span class="comment">// Use this mask to distinguish between cons and slice only after making</span>
<a name="l00503"></a>00503 <span class="comment">// sure that the string is one of the two (an indirect string).</span>
<a name="l00504"></a><a class="code" href="namespacev8_1_1internal.html#a91da0af9f80c5e4a0a824e7fca65f1da">00504</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a91da0af9f80c5e4a0a824e7fca65f1da">kSlicedNotConsMask</a> = <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ad20b0b337d27d5c026040a5ddde26056">kSlicedStringTag</a> &amp; ~<a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>;
<a name="l00505"></a>00505 <a class="code" href="namespacev8_1_1internal.html#a8f1d7efef0b73dcfa52966120189258c">STATIC_ASSERT</a>(<a class="code" href="utils_8h.html#a52d277cbf33f76350b2fcb21c24640ee">IS_POWER_OF_TWO</a>(<a class="code" href="namespacev8_1_1internal.html#a91da0af9f80c5e4a0a824e7fca65f1da">kSlicedNotConsMask</a>) &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#a91da0af9f80c5e4a0a824e7fca65f1da">kSlicedNotConsMask</a> != 0);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507 <span class="comment">// If bit 7 is clear, then bit 3 indicates whether this two-byte</span>
<a name="l00508"></a>00508 <span class="comment">// string actually contains ASCII data.</span>
<a name="l00509"></a><a class="code" href="namespacev8_1_1internal.html#a43bb4d61b0391d3091289533bf17aa87">00509</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a43bb4d61b0391d3091289533bf17aa87">kAsciiDataHintMask</a> = 0x08;
<a name="l00510"></a><a class="code" href="namespacev8_1_1internal.html#a4a7a54ae001bcd470924fa699ca5d83d">00510</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a4a7a54ae001bcd470924fa699ca5d83d">kAsciiDataHintTag</a> = 0x08;
<a name="l00511"></a>00511 
<a name="l00512"></a>00512 <span class="comment">// If bit 7 is clear and string representation indicates an external string,</span>
<a name="l00513"></a>00513 <span class="comment">// then bit 4 indicates whether the data pointer is cached.</span>
<a name="l00514"></a><a class="code" href="namespacev8_1_1internal.html#a7cfa77035742442c4d7fb03c7a379a35">00514</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a7cfa77035742442c4d7fb03c7a379a35">kShortExternalStringMask</a> = 0x10;
<a name="l00515"></a><a class="code" href="namespacev8_1_1internal.html#a371ca69a442c3846140a5cc8c732d496">00515</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a371ca69a442c3846140a5cc8c732d496">kShortExternalStringTag</a> = 0x10;
<a name="l00516"></a>00516 
<a name="l00517"></a>00517 
<a name="l00518"></a>00518 <span class="comment">// A ConsString with an empty string as the right side is a candidate</span>
<a name="l00519"></a>00519 <span class="comment">// for being shortcut by the garbage collector unless it is a</span>
<a name="l00520"></a>00520 <span class="comment">// symbol. It&#39;s not common to have non-flat symbols, so we do not</span>
<a name="l00521"></a>00521 <span class="comment">// shortcut them thereby avoiding turning symbols into strings. See</span>
<a name="l00522"></a>00522 <span class="comment">// heap.cc and mark-compact.cc.</span>
<a name="l00523"></a><a class="code" href="namespacev8_1_1internal.html#a39ba9cd4fbe89e17733e8905f1b95d62">00523</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a39ba9cd4fbe89e17733e8905f1b95d62">kShortcutTypeMask</a> =
<a name="l00524"></a>00524     <a class="code" href="namespacev8_1_1internal.html#ad40ee42b25937bea6fc3c37563c5d5e7">kIsNotStringMask</a> |
<a name="l00525"></a>00525     <a class="code" href="namespacev8_1_1internal.html#aace04e755f465dab274d1dcbe002ee39">kIsSymbolMask</a> |
<a name="l00526"></a>00526     <a class="code" href="namespacev8_1_1internal.html#a8c7025922648a3d8255feed2005d3595">kStringRepresentationMask</a>;
<a name="l00527"></a><a class="code" href="namespacev8_1_1internal.html#a9dc0cc1f630045fe1ad2352b3cc60737">00527</a> <span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a9dc0cc1f630045fe1ad2352b3cc60737">kShortcutTypeTag</a> = <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>;
<a name="l00528"></a>00528 
<a name="l00529"></a>00529 
<a name="l00530"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9b">00530</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9b">InstanceType</a> {
<a name="l00531"></a>00531   <span class="comment">// String types.</span>
<a name="l00532"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bace0a4dfff29c0605733353f9f96de86f">00532</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bace0a4dfff29c0605733353f9f96de86f">SYMBOL_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a19b148253914cd4f3ccaf680ba52968f">kSeqStringTag</a>,
<a name="l00533"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baf85a00a50cb28967f632c717ccb7379b">00533</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baf85a00a50cb28967f632c717ccb7379b">ASCII_SYMBOL_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a19b148253914cd4f3ccaf680ba52968f">kSeqStringTag</a>,
<a name="l00534"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8c9730687b808150de6228684ce7048a">00534</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8c9730687b808150de6228684ce7048a">CONS_SYMBOL_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>,
<a name="l00535"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae96ee60058add0a541c8a6781baba405">00535</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae96ee60058add0a541c8a6781baba405">CONS_ASCII_SYMBOL_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>,
<a name="l00536"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba0fc7f2dd95b8dbb72d95e4a85b5d0fd1">00536</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba0fc7f2dd95b8dbb72d95e4a85b5d0fd1">SHORT_EXTERNAL_SYMBOL_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> |
<a name="l00537"></a>00537                                <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a371ca69a442c3846140a5cc8c732d496">kShortExternalStringTag</a>,
<a name="l00538"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba923314216590543e0fc451d42246c6d8">00538</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba923314216590543e0fc451d42246c6d8">SHORT_EXTERNAL_SYMBOL_WITH_ASCII_DATA_TYPE</a> =
<a name="l00539"></a>00539       <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> |
<a name="l00540"></a>00540       <a class="code" href="namespacev8_1_1internal.html#a4a7a54ae001bcd470924fa699ca5d83d">kAsciiDataHintTag</a> | <a class="code" href="namespacev8_1_1internal.html#a371ca69a442c3846140a5cc8c732d496">kShortExternalStringTag</a>,
<a name="l00541"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba4bae852cb15f9c85ae21c128ac21a097">00541</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba4bae852cb15f9c85ae21c128ac21a097">SHORT_EXTERNAL_ASCII_SYMBOL_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> |
<a name="l00542"></a>00542                                      <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> | <a class="code" href="namespacev8_1_1internal.html#a371ca69a442c3846140a5cc8c732d496">kShortExternalStringTag</a>,
<a name="l00543"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8a70796f8f8d7abbbe8363f332c8b48b">00543</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8a70796f8f8d7abbbe8363f332c8b48b">EXTERNAL_SYMBOL_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a>,
<a name="l00544"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba3574cfa53c0b0d0bb66393f760fcefa5">00544</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba3574cfa53c0b0d0bb66393f760fcefa5">EXTERNAL_SYMBOL_WITH_ASCII_DATA_TYPE</a> =
<a name="l00545"></a>00545       <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a4a7a54ae001bcd470924fa699ca5d83d">kAsciiDataHintTag</a>,
<a name="l00546"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba58365ddb08181382a6301f8697008604">00546</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba58365ddb08181382a6301f8697008604">EXTERNAL_ASCII_SYMBOL_TYPE</a> =
<a name="l00547"></a>00547       <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#ad307348e5ba319fa4a696b0e7fea3c2b">kSymbolTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a>,
<a name="l00548"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba854be38df08c02d82e6c4e2a2e1e3eea">00548</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba854be38df08c02d82e6c4e2a2e1e3eea">STRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a19b148253914cd4f3ccaf680ba52968f">kSeqStringTag</a>,
<a name="l00549"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba9350c190508198a3d5811fec5ad02319">00549</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba9350c190508198a3d5811fec5ad02319">ASCII_STRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a19b148253914cd4f3ccaf680ba52968f">kSeqStringTag</a>,
<a name="l00550"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bacda1fc04af72a1249187e48c5f00ebe2">00550</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bacda1fc04af72a1249187e48c5f00ebe2">CONS_STRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>,
<a name="l00551"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba957b3f58e8c55220ec4b4f660386e32a">00551</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba957b3f58e8c55220ec4b4f660386e32a">CONS_ASCII_STRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>,
<a name="l00552"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba1ff55f43f29872c68cce30834d453ce1">00552</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba1ff55f43f29872c68cce30834d453ce1">SLICED_STRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ad20b0b337d27d5c026040a5ddde26056">kSlicedStringTag</a>,
<a name="l00553"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2425b90484cb260495562ff5b5346d75">00553</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2425b90484cb260495562ff5b5346d75">SLICED_ASCII_STRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ad20b0b337d27d5c026040a5ddde26056">kSlicedStringTag</a>,
<a name="l00554"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bafc1665b14d6f33ba03e2d372d5192a9a">00554</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bafc1665b14d6f33ba03e2d372d5192a9a">SHORT_EXTERNAL_STRING_TYPE</a> =
<a name="l00555"></a>00555       <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a371ca69a442c3846140a5cc8c732d496">kShortExternalStringTag</a>,
<a name="l00556"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2a9c518cc60d9c6b36f6603f065a32ef">00556</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2a9c518cc60d9c6b36f6603f065a32ef">SHORT_EXTERNAL_STRING_WITH_ASCII_DATA_TYPE</a> =
<a name="l00557"></a>00557       <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> |
<a name="l00558"></a>00558       <a class="code" href="namespacev8_1_1internal.html#a4a7a54ae001bcd470924fa699ca5d83d">kAsciiDataHintTag</a> | <a class="code" href="namespacev8_1_1internal.html#a371ca69a442c3846140a5cc8c732d496">kShortExternalStringTag</a>,
<a name="l00559"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baaa22739d0900e33be71f8cd1400e83fb">00559</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baaa22739d0900e33be71f8cd1400e83fb">SHORT_EXTERNAL_ASCII_STRING_TYPE</a> =
<a name="l00560"></a>00560       <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a371ca69a442c3846140a5cc8c732d496">kShortExternalStringTag</a>,
<a name="l00561"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba0a7a5c028e33ec7b65c557aa056e70e8">00561</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba0a7a5c028e33ec7b65c557aa056e70e8">EXTERNAL_STRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a>,
<a name="l00562"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9badb29a4890fab744bf76d0af4e8042238">00562</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9badb29a4890fab744bf76d0af4e8042238">EXTERNAL_STRING_WITH_ASCII_DATA_TYPE</a> =
<a name="l00563"></a>00563       <a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a4a7a54ae001bcd470924fa699ca5d83d">kAsciiDataHintTag</a>,
<a name="l00564"></a>00564   <span class="comment">// LAST_STRING_TYPE</span>
<a name="l00565"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bad6331458c0f972748b3a50c3348e8536">00565</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bad6331458c0f972748b3a50c3348e8536">EXTERNAL_ASCII_STRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a395af914cc9eaeffc87b05cf853d09a5">kAsciiStringTag</a> | <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3ae21aa34e012725397bccbe350a5963ae">kExternalStringTag</a>,
<a name="l00566"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae4de844c3da2801fb8887139a605a9c5">00566</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae4de844c3da2801fb8887139a605a9c5">PRIVATE_EXTERNAL_ASCII_STRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bad6331458c0f972748b3a50c3348e8536">EXTERNAL_ASCII_STRING_TYPE</a>,
<a name="l00567"></a>00567 
<a name="l00568"></a>00568   <span class="comment">// Objects allocated in their own spaces (never in new space).</span>
<a name="l00569"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba16c632a4aa6e66f4ebb14b88ddb7c107">00569</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba16c632a4aa6e66f4ebb14b88ddb7c107">MAP_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a4647d28796af03ca465680673c78c13f">kNotStringTag</a>,  <span class="comment">// FIRST_NONSTRING_TYPE</span>
<a name="l00570"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba831858992a20f0c66d3dc496244a57cd">00570</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba831858992a20f0c66d3dc496244a57cd">CODE_TYPE</a>,
<a name="l00571"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba740f50696f0623df2c57dbefe2c92856">00571</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba740f50696f0623df2c57dbefe2c92856">ODDBALL_TYPE</a>,
<a name="l00572"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bab2cee31837c819dd6a3da70100ddf6d2">00572</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bab2cee31837c819dd6a3da70100ddf6d2">JS_GLOBAL_PROPERTY_CELL_TYPE</a>,
<a name="l00573"></a>00573 
<a name="l00574"></a>00574   <span class="comment">// &quot;Data&quot;, objects that cannot contain non-map-word pointers to heap</span>
<a name="l00575"></a>00575   <span class="comment">// objects.</span>
<a name="l00576"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba96fa9e185263c9ed13b73fb358f97cc3">00576</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba96fa9e185263c9ed13b73fb358f97cc3">HEAP_NUMBER_TYPE</a>,
<a name="l00577"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baf7e49288175bf1dc774fe888eadb9305">00577</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baf7e49288175bf1dc774fe888eadb9305">FOREIGN_TYPE</a>,
<a name="l00578"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba6a5d9a5f88247147d93b6c78d54e2b16">00578</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba6a5d9a5f88247147d93b6c78d54e2b16">BYTE_ARRAY_TYPE</a>,
<a name="l00579"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba57f309bd34d9e9b541b397e5f8a465cf">00579</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba57f309bd34d9e9b541b397e5f8a465cf">FREE_SPACE_TYPE</a>,
<a name="l00580"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2edd4f8c87674faf8bbab655a978eea6">00580</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2edd4f8c87674faf8bbab655a978eea6">EXTERNAL_BYTE_ARRAY_TYPE</a>,  <span class="comment">// FIRST_EXTERNAL_ARRAY_TYPE</span>
<a name="l00581"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bad188fdb28282621a2b826983d4a5389e">00581</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bad188fdb28282621a2b826983d4a5389e">EXTERNAL_UNSIGNED_BYTE_ARRAY_TYPE</a>,
<a name="l00582"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bacfb80d565fd6bd7a98a7f38d1413ab10">00582</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bacfb80d565fd6bd7a98a7f38d1413ab10">EXTERNAL_SHORT_ARRAY_TYPE</a>,
<a name="l00583"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba41fd44cf07ee00e7eb1bd036c59ada65">00583</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba41fd44cf07ee00e7eb1bd036c59ada65">EXTERNAL_UNSIGNED_SHORT_ARRAY_TYPE</a>,
<a name="l00584"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba02e934ffea18f07f8060b4eaa2fe710d">00584</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba02e934ffea18f07f8060b4eaa2fe710d">EXTERNAL_INT_ARRAY_TYPE</a>,
<a name="l00585"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae70ab7546d3704450a7b31e751579522">00585</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae70ab7546d3704450a7b31e751579522">EXTERNAL_UNSIGNED_INT_ARRAY_TYPE</a>,
<a name="l00586"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baae4ca43bbf300e9b007a9f5086cc4944">00586</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baae4ca43bbf300e9b007a9f5086cc4944">EXTERNAL_FLOAT_ARRAY_TYPE</a>,
<a name="l00587"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba75d5a0bb218fbb4ade56b826f2961768">00587</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba75d5a0bb218fbb4ade56b826f2961768">EXTERNAL_DOUBLE_ARRAY_TYPE</a>,
<a name="l00588"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba4d50169b7e7fd7a372bc223fb2284b8c">00588</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba4d50169b7e7fd7a372bc223fb2284b8c">EXTERNAL_PIXEL_ARRAY_TYPE</a>,  <span class="comment">// LAST_EXTERNAL_ARRAY_TYPE</span>
<a name="l00589"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba330f45ef17d72952af1772d7bbe92d22">00589</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba330f45ef17d72952af1772d7bbe92d22">FIXED_DOUBLE_ARRAY_TYPE</a>,
<a name="l00590"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba3f573014549c6f17a69eab24967331ec">00590</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba3f573014549c6f17a69eab24967331ec">FILLER_TYPE</a>,  <span class="comment">// LAST_DATA_TYPE</span>
<a name="l00591"></a>00591 
<a name="l00592"></a>00592   <span class="comment">// Structs.</span>
<a name="l00593"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba0f0a0334e309af77f3c249d9c3dd9bd0">00593</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba0f0a0334e309af77f3c249d9c3dd9bd0">ACCESSOR_INFO_TYPE</a>,
<a name="l00594"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baad524d4289f6a082d039fb3c2463f047">00594</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baad524d4289f6a082d039fb3c2463f047">ACCESSOR_PAIR_TYPE</a>,
<a name="l00595"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9badb274ef0a4fcec874d6bb7b773469a59">00595</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9badb274ef0a4fcec874d6bb7b773469a59">ACCESS_CHECK_INFO_TYPE</a>,
<a name="l00596"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba08b8c13b80b27bca1f88c298e75f19e2">00596</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba08b8c13b80b27bca1f88c298e75f19e2">INTERCEPTOR_INFO_TYPE</a>,
<a name="l00597"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bab5d83ef853ceae585a1a198f8efcc93c">00597</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bab5d83ef853ceae585a1a198f8efcc93c">CALL_HANDLER_INFO_TYPE</a>,
<a name="l00598"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baae99fe5adeafb586dce8dcf94cdef466">00598</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baae99fe5adeafb586dce8dcf94cdef466">FUNCTION_TEMPLATE_INFO_TYPE</a>,
<a name="l00599"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba08653a1c6005659ccd2dbccc6fa390f1">00599</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba08653a1c6005659ccd2dbccc6fa390f1">OBJECT_TEMPLATE_INFO_TYPE</a>,
<a name="l00600"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8775a9c20495f207ae8ee0954fe54f75">00600</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8775a9c20495f207ae8ee0954fe54f75">SIGNATURE_INFO_TYPE</a>,
<a name="l00601"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba5752928586ebb167077025ed30d44ccc">00601</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba5752928586ebb167077025ed30d44ccc">TYPE_SWITCH_INFO_TYPE</a>,
<a name="l00602"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bac5e180f93d161bae816110ba0d8acb4f">00602</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bac5e180f93d161bae816110ba0d8acb4f">SCRIPT_TYPE</a>,
<a name="l00603"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bacef2cf4f8b2559e3333e53cd300d0c0a">00603</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bacef2cf4f8b2559e3333e53cd300d0c0a">CODE_CACHE_TYPE</a>,
<a name="l00604"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baf2d0e0f19dc99b9cc21d2b64d1a3973b">00604</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baf2d0e0f19dc99b9cc21d2b64d1a3973b">POLYMORPHIC_CODE_CACHE_TYPE</a>,
<a name="l00605"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baff0802ba9cd00a7294f95f3c1983e47c">00605</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baff0802ba9cd00a7294f95f3c1983e47c">TYPE_FEEDBACK_INFO_TYPE</a>,
<a name="l00606"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bab0b08a33d98d2b34eb8c2960a81c1ab3">00606</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bab0b08a33d98d2b34eb8c2960a81c1ab3">ALIASED_ARGUMENTS_ENTRY_TYPE</a>,
<a name="l00607"></a>00607   <span class="comment">// The following two instance types are only used when ENABLE_DEBUGGER_SUPPORT</span>
<a name="l00608"></a>00608   <span class="comment">// is defined. However as include/v8.h contain some of the instance type</span>
<a name="l00609"></a>00609   <span class="comment">// constants always having them avoids them getting different numbers</span>
<a name="l00610"></a>00610   <span class="comment">// depending on whether ENABLE_DEBUGGER_SUPPORT is defined or not.</span>
<a name="l00611"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba9b1a29762b054b843f5e6f11ed70ab71">00611</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba9b1a29762b054b843f5e6f11ed70ab71">DEBUG_INFO_TYPE</a>,
<a name="l00612"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae2e46de8bf0b2c6913b71bad2e9752a8">00612</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae2e46de8bf0b2c6913b71bad2e9752a8">BREAK_POINT_INFO_TYPE</a>,
<a name="l00613"></a>00613 
<a name="l00614"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba39473faf73ce0cd443ae648d3cce8789">00614</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba39473faf73ce0cd443ae648d3cce8789">FIXED_ARRAY_TYPE</a>,
<a name="l00615"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baa641631c3401714e8c281be50b6966bf">00615</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baa641631c3401714e8c281be50b6966bf">SHARED_FUNCTION_INFO_TYPE</a>,
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba9d6a17c42a3c5270d37f47ac4f320a5e">00617</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba9d6a17c42a3c5270d37f47ac4f320a5e">JS_MESSAGE_OBJECT_TYPE</a>,
<a name="l00618"></a>00618 
<a name="l00619"></a>00619   <span class="comment">// All the following types are subtypes of JSReceiver, which corresponds to</span>
<a name="l00620"></a>00620   <span class="comment">// objects in the JS sense. The first and the last type in this range are</span>
<a name="l00621"></a>00621   <span class="comment">// the two forms of function. This organization enables using the same</span>
<a name="l00622"></a>00622   <span class="comment">// compares for checking the JS_RECEIVER/SPEC_OBJECT range and the</span>
<a name="l00623"></a>00623   <span class="comment">// NONCALLABLE_JS_OBJECT range.</span>
<a name="l00624"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baa36a334204e3052f8a60280165b3428e">00624</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baa36a334204e3052f8a60280165b3428e">JS_FUNCTION_PROXY_TYPE</a>,  <span class="comment">// FIRST_JS_RECEIVER_TYPE, FIRST_JS_PROXY_TYPE</span>
<a name="l00625"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bad23975c337c253aacbf8506676619e61">00625</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bad23975c337c253aacbf8506676619e61">JS_PROXY_TYPE</a>,  <span class="comment">// LAST_JS_PROXY_TYPE</span>
<a name="l00626"></a>00626 
<a name="l00627"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2213ff88d275df812cd3b8957417a6a7">00627</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2213ff88d275df812cd3b8957417a6a7">JS_VALUE_TYPE</a>,  <span class="comment">// FIRST_JS_OBJECT_TYPE</span>
<a name="l00628"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2e66e5e096c4f891ddcd30366eba0b7a">00628</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2e66e5e096c4f891ddcd30366eba0b7a">JS_DATE_TYPE</a>,
<a name="l00629"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba43f5dfa425c87e281fceb1712f7362d0">00629</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba43f5dfa425c87e281fceb1712f7362d0">JS_OBJECT_TYPE</a>,
<a name="l00630"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8990b219fdce715e4b98291836b5f29e">00630</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8990b219fdce715e4b98291836b5f29e">JS_CONTEXT_EXTENSION_OBJECT_TYPE</a>,
<a name="l00631"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba3b9a7709e658cd6275779df4103ff134">00631</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba3b9a7709e658cd6275779df4103ff134">JS_MODULE_TYPE</a>,
<a name="l00632"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bab3e0d6733ab3dfdedfbccb0561918913">00632</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bab3e0d6733ab3dfdedfbccb0561918913">JS_GLOBAL_OBJECT_TYPE</a>,
<a name="l00633"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae1b2f92b2f1b24effaff90e0da566bdf">00633</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bae1b2f92b2f1b24effaff90e0da566bdf">JS_BUILTINS_OBJECT_TYPE</a>,
<a name="l00634"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2e9121f13dca8845626e2e385a114e7b">00634</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2e9121f13dca8845626e2e385a114e7b">JS_GLOBAL_PROXY_TYPE</a>,
<a name="l00635"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba352596be1f9f68f43211e7dd411b3c5b">00635</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba352596be1f9f68f43211e7dd411b3c5b">JS_ARRAY_TYPE</a>,
<a name="l00636"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba4bda2cb9081ed9cd2bfa85afc3389e5b">00636</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba4bda2cb9081ed9cd2bfa85afc3389e5b">JS_SET_TYPE</a>,
<a name="l00637"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba554e34e051fd7848272446a358780300">00637</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba554e34e051fd7848272446a358780300">JS_MAP_TYPE</a>,
<a name="l00638"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baff610d49a1c8a564187b350f77ad56c5">00638</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baff610d49a1c8a564187b350f77ad56c5">JS_WEAK_MAP_TYPE</a>,
<a name="l00639"></a>00639 
<a name="l00640"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba156709984ee4bd44d4f62d94c94942d1">00640</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba156709984ee4bd44d4f62d94c94942d1">JS_REGEXP_TYPE</a>,
<a name="l00641"></a>00641 
<a name="l00642"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba9fadbf559d191d3620d1bd54804926d3">00642</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba9fadbf559d191d3620d1bd54804926d3">JS_FUNCTION_TYPE</a>,  <span class="comment">// LAST_JS_OBJECT_TYPE, LAST_JS_RECEIVER_TYPE</span>
<a name="l00643"></a>00643 
<a name="l00644"></a>00644   <span class="comment">// Pseudo-types</span>
<a name="l00645"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7fab538205885bab140a4f3866c35fad">00645</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7fab538205885bab140a4f3866c35fad">FIRST_TYPE</a> = 0x0,
<a name="l00646"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9badc185a3c3f94edb13394c0c545746580">00646</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9badc185a3c3f94edb13394c0c545746580">LAST_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba9fadbf559d191d3620d1bd54804926d3">JS_FUNCTION_TYPE</a>,
<a name="l00647"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bafce8039871fa721329aea6edecb720a1">00647</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bafce8039871fa721329aea6edecb720a1">INVALID_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7fab538205885bab140a4f3866c35fad">FIRST_TYPE</a> - 1,
<a name="l00648"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba48f06886eb1334924ce3cdeea8e1a307">00648</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba48f06886eb1334924ce3cdeea8e1a307">FIRST_NONSTRING_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba16c632a4aa6e66f4ebb14b88ddb7c107">MAP_TYPE</a>,
<a name="l00649"></a>00649   <span class="comment">// Boundaries for testing for an external array.</span>
<a name="l00650"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baa4957dc54577cd2513040068f8afbc6b">00650</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baa4957dc54577cd2513040068f8afbc6b">FIRST_EXTERNAL_ARRAY_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2edd4f8c87674faf8bbab655a978eea6">EXTERNAL_BYTE_ARRAY_TYPE</a>,
<a name="l00651"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baff866aa6531b1be307c824cec2e602a3">00651</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baff866aa6531b1be307c824cec2e602a3">LAST_EXTERNAL_ARRAY_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba4d50169b7e7fd7a372bc223fb2284b8c">EXTERNAL_PIXEL_ARRAY_TYPE</a>,
<a name="l00652"></a>00652   <span class="comment">// Boundary for promotion to old data space/old pointer space.</span>
<a name="l00653"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba952cea9faae3c6376b7f3673f860c545">00653</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba952cea9faae3c6376b7f3673f860c545">LAST_DATA_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba3f573014549c6f17a69eab24967331ec">FILLER_TYPE</a>,
<a name="l00654"></a>00654   <span class="comment">// Boundary for objects represented as JSReceiver (i.e. JSObject or JSProxy).</span>
<a name="l00655"></a>00655   <span class="comment">// Note that there is no range for JSObject or JSProxy, since their subtypes</span>
<a name="l00656"></a>00656   <span class="comment">// are not continuous in this enum! The enum ranges instead reflect the</span>
<a name="l00657"></a>00657   <span class="comment">// external class names, where proxies are treated as either ordinary objects,</span>
<a name="l00658"></a>00658   <span class="comment">// or functions.</span>
<a name="l00659"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8ad3f7de45b31aca8dabc89ab5bfbf18">00659</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8ad3f7de45b31aca8dabc89ab5bfbf18">FIRST_JS_RECEIVER_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baa36a334204e3052f8a60280165b3428e">JS_FUNCTION_PROXY_TYPE</a>,
<a name="l00660"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7ff787954e90e585e43aacd0aa58be09">00660</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7ff787954e90e585e43aacd0aa58be09">LAST_JS_RECEIVER_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9badc185a3c3f94edb13394c0c545746580">LAST_TYPE</a>,
<a name="l00661"></a>00661   <span class="comment">// Boundaries for testing the types represented as JSObject</span>
<a name="l00662"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba92fa84892ddc2426c5a9c3d300c245e7">00662</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba92fa84892ddc2426c5a9c3d300c245e7">FIRST_JS_OBJECT_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba2213ff88d275df812cd3b8957417a6a7">JS_VALUE_TYPE</a>,
<a name="l00663"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba93c11a6cfa7b8efdbce600188fd0e2e1">00663</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba93c11a6cfa7b8efdbce600188fd0e2e1">LAST_JS_OBJECT_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9badc185a3c3f94edb13394c0c545746580">LAST_TYPE</a>,
<a name="l00664"></a>00664   <span class="comment">// Boundaries for testing the types represented as JSProxy</span>
<a name="l00665"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba314251cdc6e758ca76f6bb2df7697898">00665</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba314251cdc6e758ca76f6bb2df7697898">FIRST_JS_PROXY_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baa36a334204e3052f8a60280165b3428e">JS_FUNCTION_PROXY_TYPE</a>,
<a name="l00666"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baf623985dc665ae60f7247ab51c8946aa">00666</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baf623985dc665ae60f7247ab51c8946aa">LAST_JS_PROXY_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bad23975c337c253aacbf8506676619e61">JS_PROXY_TYPE</a>,
<a name="l00667"></a>00667   <span class="comment">// Boundaries for testing whether the type is a JavaScript object.</span>
<a name="l00668"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7901b42d11811a1ee0cdfada87ade918">00668</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7901b42d11811a1ee0cdfada87ade918">FIRST_SPEC_OBJECT_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba8ad3f7de45b31aca8dabc89ab5bfbf18">FIRST_JS_RECEIVER_TYPE</a>,
<a name="l00669"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7d0a071ac3d2edad0d0c9b2dcffd7e32">00669</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7d0a071ac3d2edad0d0c9b2dcffd7e32">LAST_SPEC_OBJECT_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7ff787954e90e585e43aacd0aa58be09">LAST_JS_RECEIVER_TYPE</a>,
<a name="l00670"></a>00670   <span class="comment">// Boundaries for testing the types for which typeof is &quot;object&quot;.</span>
<a name="l00671"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba30e7d76cbe81c76b2067dd17c67d9cdb">00671</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba30e7d76cbe81c76b2067dd17c67d9cdb">FIRST_NONCALLABLE_SPEC_OBJECT_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9bad23975c337c253aacbf8506676619e61">JS_PROXY_TYPE</a>,
<a name="l00672"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba14d55c2b09a5fad3d85f6f74c122d889">00672</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba14d55c2b09a5fad3d85f6f74c122d889">LAST_NONCALLABLE_SPEC_OBJECT_TYPE</a> = <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba156709984ee4bd44d4f62d94c94942d1">JS_REGEXP_TYPE</a>,
<a name="l00673"></a>00673   <span class="comment">// Note that the types for which typeof is &quot;function&quot; are not continuous.</span>
<a name="l00674"></a>00674   <span class="comment">// Define this so that we can put assertions on discrete checks.</span>
<a name="l00675"></a><a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba1be91af2c8c4b516412a2b08ecd95472">00675</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba1be91af2c8c4b516412a2b08ecd95472">NUM_OF_CALLABLE_SPEC_OBJECT_TYPES</a> = 2
<a name="l00676"></a>00676 };
<a name="l00677"></a>00677 
<a name="l00678"></a><a class="code" href="namespacev8_1_1internal.html#ad64c3e71c3f0cdace60f106cb34df562">00678</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#ad64c3e71c3f0cdace60f106cb34df562">kExternalArrayTypeCount</a> =
<a name="l00679"></a>00679     <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baff866aa6531b1be307c824cec2e602a3">LAST_EXTERNAL_ARRAY_TYPE</a> - <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baa4957dc54577cd2513040068f8afbc6b">FIRST_EXTERNAL_ARRAY_TYPE</a> + 1;
<a name="l00680"></a>00680 
<a name="l00681"></a>00681 <a class="code" href="namespacev8_1_1internal.html#a478475eb268390f7e94ac23b9c4c1e5f">STATIC_CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba43f5dfa425c87e281fceb1712f7362d0">JS_OBJECT_TYPE</a> == <a class="code" href="classv8_1_1internal_1_1_internals.html#a56b7062df5d9a7df491137d4c3341bcc">Internals::kJSObjectType</a>);
<a name="l00682"></a>00682 <a class="code" href="namespacev8_1_1internal.html#a478475eb268390f7e94ac23b9c4c1e5f">STATIC_CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba48f06886eb1334924ce3cdeea8e1a307">FIRST_NONSTRING_TYPE</a> == <a class="code" href="classv8_1_1internal_1_1_internals.html#a6f4a54927b01a11f444fb2f00b47ca1d">Internals::kFirstNonstringType</a>);
<a name="l00683"></a>00683 <a class="code" href="namespacev8_1_1internal.html#a478475eb268390f7e94ac23b9c4c1e5f">STATIC_CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba740f50696f0623df2c57dbefe2c92856">ODDBALL_TYPE</a> == <a class="code" href="classv8_1_1internal_1_1_internals.html#a13081e936f8c96472f1b1496c70d4dc1">Internals::kOddballType</a>);
<a name="l00684"></a>00684 <a class="code" href="namespacev8_1_1internal.html#a478475eb268390f7e94ac23b9c4c1e5f">STATIC_CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9baf7e49288175bf1dc774fe888eadb9305">FOREIGN_TYPE</a> == <a class="code" href="classv8_1_1internal_1_1_internals.html#a263195f36f9e8ee64af70dc267a85d55">Internals::kForeignType</a>);
<a name="l00685"></a>00685 
<a name="l00686"></a>00686 
<a name="l00687"></a><a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884">00687</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884">CompareResult</a> {
<a name="l00688"></a><a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884a8c7debbf068b8c28089c963b925c3175">00688</a>   <a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884a8c7debbf068b8c28089c963b925c3175">LESS</a>      = -1,
<a name="l00689"></a><a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884ab3e4014b60806c47a89b425b024c08b3">00689</a>   <a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884ab3e4014b60806c47a89b425b024c08b3">EQUAL</a>     =  0,
<a name="l00690"></a><a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884acf19f36a87c5f33be5005f2801a8b254">00690</a>   <a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884acf19f36a87c5f33be5005f2801a8b254">GREATER</a>   =  1,
<a name="l00691"></a>00691 
<a name="l00692"></a><a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884afe4fa0378f49a29394c41b7263f39a91">00692</a>   <a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884afe4fa0378f49a29394c41b7263f39a91">NOT_EQUAL</a> = <a class="code" href="namespacev8_1_1internal.html#a31e5655cd403e20d0238e6f32584a884acf19f36a87c5f33be5005f2801a8b254">GREATER</a>
<a name="l00693"></a>00693 };
<a name="l00694"></a>00694 
<a name="l00695"></a>00695 
<a name="l00696"></a><a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">00696</a> <span class="preprocessor">#define DECL_BOOLEAN_ACCESSORS(name)   \</span>
<a name="l00697"></a>00697 <span class="preprocessor">  inline bool name();                  \</span>
<a name="l00698"></a>00698 <span class="preprocessor">  inline void set_##name(bool value);  \</span>
<a name="l00699"></a>00699 <span class="preprocessor"></span>
<a name="l00700"></a>00700 <span class="preprocessor"></span>
<a name="l00701"></a><a class="code" href="objects_8h.html#af72827f2a11cb7034ddc532270faf6ca">00701</a> <span class="preprocessor">#define DECL_ACCESSORS(name, type)                                      \</span>
<a name="l00702"></a>00702 <span class="preprocessor">  inline type* name();                                                  \</span>
<a name="l00703"></a>00703 <span class="preprocessor">  inline void set_##name(type* value,                                   \</span>
<a name="l00704"></a>00704 <span class="preprocessor">                         WriteBarrierMode mode = UPDATE_WRITE_BARRIER); \</span>
<a name="l00705"></a>00705 <span class="preprocessor"></span>
<a name="l00706"></a>00706 <span class="preprocessor"></span>
<a name="l00707"></a>00707 <span class="keyword">class </span>DictionaryElementsAccessor;
<a name="l00708"></a>00708 <span class="keyword">class </span>ElementsAccessor;
<a name="l00709"></a>00709 <span class="keyword">class </span>FixedArrayBase;
<a name="l00710"></a>00710 <span class="keyword">class </span>ObjectVisitor;
<a name="l00711"></a>00711 <span class="keyword">class </span>StringStream;
<a name="l00712"></a>00712 <span class="keyword">class </span>Failure;
<a name="l00713"></a>00713 
<a name="l00714"></a><a class="code" href="structv8_1_1internal_1_1_value_info.html">00714</a> <span class="keyword">struct </span><a class="code" href="structv8_1_1internal_1_1_value_info.html">ValueInfo</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_malloced.html">Malloced</a> {
<a name="l00715"></a><a class="code" href="structv8_1_1internal_1_1_value_info.html#aca36782a696220e3f4e5fa229e7f104d">00715</a>   <a class="code" href="structv8_1_1internal_1_1_value_info.html#aca36782a696220e3f4e5fa229e7f104d">ValueInfo</a>() : <a class="code" href="structv8_1_1internal_1_1_value_info.html#af00eb0696bbbda76a5d6a70fdc438f59">type</a>(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9ba7fab538205885bab140a4f3866c35fad">FIRST_TYPE</a>), <a class="code" href="structv8_1_1internal_1_1_value_info.html#ad073c4464ba73cf521a42ef30f23c579">ptr</a>(<a class="code" href="namespacev8_1_1internal.html#a5c7edd76ae40d6f54c6a23a039b15551">NULL</a>), <a class="code" href="structv8_1_1internal_1_1_value_info.html#a2c98e4eb60bce8e29862d0bc2a4f2f4d">str</a>(<a class="code" href="namespacev8_1_1internal.html#a5c7edd76ae40d6f54c6a23a039b15551">NULL</a>), <a class="code" href="structv8_1_1internal_1_1_value_info.html#a44e72a4cceb2b9c869b240f4294743c3">number</a>(0) { }
<a name="l00716"></a><a class="code" href="structv8_1_1internal_1_1_value_info.html#af00eb0696bbbda76a5d6a70fdc438f59">00716</a>   <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9b">InstanceType</a> <a class="code" href="structv8_1_1internal_1_1_value_info.html#af00eb0696bbbda76a5d6a70fdc438f59">type</a>;
<a name="l00717"></a><a class="code" href="structv8_1_1internal_1_1_value_info.html#ad073c4464ba73cf521a42ef30f23c579">00717</a>   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="structv8_1_1internal_1_1_value_info.html#ad073c4464ba73cf521a42ef30f23c579">ptr</a>;
<a name="l00718"></a><a class="code" href="structv8_1_1internal_1_1_value_info.html#a2c98e4eb60bce8e29862d0bc2a4f2f4d">00718</a>   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structv8_1_1internal_1_1_value_info.html#a2c98e4eb60bce8e29862d0bc2a4f2f4d">str</a>;
<a name="l00719"></a><a class="code" href="structv8_1_1internal_1_1_value_info.html#a44e72a4cceb2b9c869b240f4294743c3">00719</a>   <span class="keywordtype">double</span> <a class="code" href="structv8_1_1internal_1_1_value_info.html#a44e72a4cceb2b9c869b240f4294743c3">number</a>;
<a name="l00720"></a>00720 };
<a name="l00721"></a>00721 
<a name="l00722"></a>00722 
<a name="l00723"></a>00723 <span class="comment">// A template-ized version of the IsXXX functions.</span>
<a name="l00724"></a>00724 <span class="keyword">template</span> &lt;<span class="keyword">class</span> C&gt; <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> Is(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l00725"></a>00725 
<a name="l00726"></a>00726 
<a name="l00727"></a>00727 <span class="keyword">class </span>MaybeObject <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html">BASE_EMBEDDED</a> {
<a name="l00728"></a>00728  <span class="keyword">public</span>:
<a name="l00729"></a>00729   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsFailure();
<a name="l00730"></a>00730   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsRetryAfterGC();
<a name="l00731"></a>00731   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsOutOfMemory();
<a name="l00732"></a>00732   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsException();
<a name="l00733"></a>00733   <a class="code" href="namespacev8_1_1internal.html#a8c46580ca791cef8aa667666d75ef35d">INLINE</a>(<span class="keywordtype">bool</span> IsTheHole());
<a name="l00734"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a9ce18d53fb9e212474ac9e0e8923cfc7">00734</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a9ce18d53fb9e212474ac9e0e8923cfc7">ToObject</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** obj) {
<a name="l00735"></a>00735     <span class="keywordflow">if</span> (IsFailure()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00736"></a>00736     *obj = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l00737"></a>00737     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00738"></a>00738   }
<a name="l00739"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#aa89356d8fa24037ec0d161391ee4bbe2">00739</a>   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>* <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#aa89356d8fa24037ec0d161391ee4bbe2">ToFailureUnchecked</a>() {
<a name="l00740"></a>00740     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(IsFailure());
<a name="l00741"></a>00741     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l00742"></a>00742   }
<a name="l00743"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#aeb8dbc99afce0bba30a4c59059c65b76">00743</a>   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#aeb8dbc99afce0bba30a4c59059c65b76">ToObjectUnchecked</a>() {
<a name="l00744"></a>00744     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(!IsFailure());
<a name="l00745"></a>00745     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l00746"></a>00746   }
<a name="l00747"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a1f517862802f343cba2c41a476b1c22c">00747</a>   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a1f517862802f343cba2c41a476b1c22c">ToObjectChecked</a>() {
<a name="l00748"></a>00748     <a class="code" href="checks_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!IsFailure());
<a name="l00749"></a>00749     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l00750"></a>00750   }
<a name="l00751"></a>00751 
<a name="l00752"></a>00752   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00753"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a5aab37d7b5cbf9c845e4dbcfc48ceeb0">00753</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a5aab37d7b5cbf9c845e4dbcfc48ceeb0">To</a>(<a class="code" href="token_8cc.html#aeb3b320679bdd784c8fc3b5f2aa813a9">T</a>** obj) {
<a name="l00754"></a>00754     <span class="keywordflow">if</span> (IsFailure()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00755"></a>00755     *obj = T::cast(reinterpret_cast&lt;Object*&gt;(<span class="keyword">this</span>));
<a name="l00756"></a>00756     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00757"></a>00757   }
<a name="l00758"></a>00758 
<a name="l00759"></a>00759 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l00760"></a>00760 <span class="preprocessor"></span>  <span class="comment">// Prints this object with details.</span>
<a name="l00761"></a>00761   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Print</a>() {
<a name="l00762"></a>00762     <a class="code" href="lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Print</a>(stdout);
<a name="l00763"></a>00763   }
<a name="l00764"></a>00764   <span class="keyword">inline</span> <span class="keywordtype">void</span> PrintLn() {
<a name="l00765"></a>00765     PrintLn(stdout);
<a name="l00766"></a>00766   }
<a name="l00767"></a>00767   <span class="keywordtype">void</span> <a class="code" href="lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Print</a>(FILE* out);
<a name="l00768"></a>00768   <span class="keywordtype">void</span> PrintLn(FILE* out);
<a name="l00769"></a>00769 <span class="preprocessor">#endif</span>
<a name="l00770"></a>00770 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l00771"></a>00771 <span class="preprocessor"></span>  <span class="comment">// Verifies the object.</span>
<a name="l00772"></a>00772   <span class="keywordtype">void</span> Verify();
<a name="l00773"></a>00773 <span class="preprocessor">#endif</span>
<a name="l00774"></a>00774 <span class="preprocessor"></span>};
<a name="l00775"></a>00775 
<a name="l00776"></a>00776 
<a name="l00777"></a><a class="code" href="objects_8h.html#abe3762a9cb34ffde3492d30c4e3381ad">00777</a> <span class="preprocessor">#define OBJECT_TYPE_LIST(V)                    \</span>
<a name="l00778"></a>00778 <span class="preprocessor">  V(Smi)                                       \</span>
<a name="l00779"></a>00779 <span class="preprocessor">  V(HeapObject)                                \</span>
<a name="l00780"></a>00780 <span class="preprocessor">  V(Number)                                    \</span>
<a name="l00781"></a>00781 <span class="preprocessor"></span>
<a name="l00782"></a><a class="code" href="objects_8h.html#a2bc780537858a4278e56a734d25b9820">00782</a> <span class="preprocessor"></span><span class="preprocessor">#define HEAP_OBJECT_TYPE_LIST(V)               \</span>
<a name="l00783"></a>00783 <span class="preprocessor">  V(HeapNumber)                                \</span>
<a name="l00784"></a>00784 <span class="preprocessor">  V(String)                                    \</span>
<a name="l00785"></a>00785 <span class="preprocessor">  V(Symbol)                                    \</span>
<a name="l00786"></a>00786 <span class="preprocessor">  V(SeqString)                                 \</span>
<a name="l00787"></a>00787 <span class="preprocessor">  V(ExternalString)                            \</span>
<a name="l00788"></a>00788 <span class="preprocessor">  V(ConsString)                                \</span>
<a name="l00789"></a>00789 <span class="preprocessor">  V(SlicedString)                              \</span>
<a name="l00790"></a>00790 <span class="preprocessor">  V(ExternalTwoByteString)                     \</span>
<a name="l00791"></a>00791 <span class="preprocessor">  V(ExternalAsciiString)                       \</span>
<a name="l00792"></a>00792 <span class="preprocessor">  V(SeqTwoByteString)                          \</span>
<a name="l00793"></a>00793 <span class="preprocessor">  V(SeqAsciiString)                            \</span>
<a name="l00794"></a>00794 <span class="preprocessor">                                               \</span>
<a name="l00795"></a>00795 <span class="preprocessor">  V(ExternalArray)                             \</span>
<a name="l00796"></a>00796 <span class="preprocessor">  V(ExternalByteArray)                         \</span>
<a name="l00797"></a>00797 <span class="preprocessor">  V(ExternalUnsignedByteArray)                 \</span>
<a name="l00798"></a>00798 <span class="preprocessor">  V(ExternalShortArray)                        \</span>
<a name="l00799"></a>00799 <span class="preprocessor">  V(ExternalUnsignedShortArray)                \</span>
<a name="l00800"></a>00800 <span class="preprocessor">  V(ExternalIntArray)                          \</span>
<a name="l00801"></a>00801 <span class="preprocessor">  V(ExternalUnsignedIntArray)                  \</span>
<a name="l00802"></a>00802 <span class="preprocessor">  V(ExternalFloatArray)                        \</span>
<a name="l00803"></a>00803 <span class="preprocessor">  V(ExternalDoubleArray)                       \</span>
<a name="l00804"></a>00804 <span class="preprocessor">  V(ExternalPixelArray)                        \</span>
<a name="l00805"></a>00805 <span class="preprocessor">  V(ByteArray)                                 \</span>
<a name="l00806"></a>00806 <span class="preprocessor">  V(FreeSpace)                                 \</span>
<a name="l00807"></a>00807 <span class="preprocessor">  V(JSReceiver)                                \</span>
<a name="l00808"></a>00808 <span class="preprocessor">  V(JSObject)                                  \</span>
<a name="l00809"></a>00809 <span class="preprocessor">  V(JSContextExtensionObject)                  \</span>
<a name="l00810"></a>00810 <span class="preprocessor">  V(JSModule)                                  \</span>
<a name="l00811"></a>00811 <span class="preprocessor">  V(Map)                                       \</span>
<a name="l00812"></a>00812 <span class="preprocessor">  V(DescriptorArray)                           \</span>
<a name="l00813"></a>00813 <span class="preprocessor">  V(DeoptimizationInputData)                   \</span>
<a name="l00814"></a>00814 <span class="preprocessor">  V(DeoptimizationOutputData)                  \</span>
<a name="l00815"></a>00815 <span class="preprocessor">  V(TypeFeedbackCells)                         \</span>
<a name="l00816"></a>00816 <span class="preprocessor">  V(FixedArray)                                \</span>
<a name="l00817"></a>00817 <span class="preprocessor">  V(FixedDoubleArray)                          \</span>
<a name="l00818"></a>00818 <span class="preprocessor">  V(Context)                                   \</span>
<a name="l00819"></a>00819 <span class="preprocessor">  V(GlobalContext)                             \</span>
<a name="l00820"></a>00820 <span class="preprocessor">  V(ModuleContext)                             \</span>
<a name="l00821"></a>00821 <span class="preprocessor">  V(ScopeInfo)                                 \</span>
<a name="l00822"></a>00822 <span class="preprocessor">  V(JSFunction)                                \</span>
<a name="l00823"></a>00823 <span class="preprocessor">  V(Code)                                      \</span>
<a name="l00824"></a>00824 <span class="preprocessor">  V(Oddball)                                   \</span>
<a name="l00825"></a>00825 <span class="preprocessor">  V(SharedFunctionInfo)                        \</span>
<a name="l00826"></a>00826 <span class="preprocessor">  V(JSValue)                                   \</span>
<a name="l00827"></a>00827 <span class="preprocessor">  V(JSDate)                                    \</span>
<a name="l00828"></a>00828 <span class="preprocessor">  V(JSMessageObject)                           \</span>
<a name="l00829"></a>00829 <span class="preprocessor">  V(StringWrapper)                             \</span>
<a name="l00830"></a>00830 <span class="preprocessor">  V(Foreign)                                   \</span>
<a name="l00831"></a>00831 <span class="preprocessor">  V(Boolean)                                   \</span>
<a name="l00832"></a>00832 <span class="preprocessor">  V(JSArray)                                   \</span>
<a name="l00833"></a>00833 <span class="preprocessor">  V(JSProxy)                                   \</span>
<a name="l00834"></a>00834 <span class="preprocessor">  V(JSFunctionProxy)                           \</span>
<a name="l00835"></a>00835 <span class="preprocessor">  V(JSSet)                                     \</span>
<a name="l00836"></a>00836 <span class="preprocessor">  V(JSMap)                                     \</span>
<a name="l00837"></a>00837 <span class="preprocessor">  V(JSWeakMap)                                 \</span>
<a name="l00838"></a>00838 <span class="preprocessor">  V(JSRegExp)                                  \</span>
<a name="l00839"></a>00839 <span class="preprocessor">  V(HashTable)                                 \</span>
<a name="l00840"></a>00840 <span class="preprocessor">  V(Dictionary)                                \</span>
<a name="l00841"></a>00841 <span class="preprocessor">  V(SymbolTable)                               \</span>
<a name="l00842"></a>00842 <span class="preprocessor">  V(JSFunctionResultCache)                     \</span>
<a name="l00843"></a>00843 <span class="preprocessor">  V(NormalizedMapCache)                        \</span>
<a name="l00844"></a>00844 <span class="preprocessor">  V(CompilationCacheTable)                     \</span>
<a name="l00845"></a>00845 <span class="preprocessor">  V(CodeCacheHashTable)                        \</span>
<a name="l00846"></a>00846 <span class="preprocessor">  V(PolymorphicCodeCacheHashTable)             \</span>
<a name="l00847"></a>00847 <span class="preprocessor">  V(MapCache)                                  \</span>
<a name="l00848"></a>00848 <span class="preprocessor">  V(Primitive)                                 \</span>
<a name="l00849"></a>00849 <span class="preprocessor">  V(GlobalObject)                              \</span>
<a name="l00850"></a>00850 <span class="preprocessor">  V(JSGlobalObject)                            \</span>
<a name="l00851"></a>00851 <span class="preprocessor">  V(JSBuiltinsObject)                          \</span>
<a name="l00852"></a>00852 <span class="preprocessor">  V(JSGlobalProxy)                             \</span>
<a name="l00853"></a>00853 <span class="preprocessor">  V(UndetectableObject)                        \</span>
<a name="l00854"></a>00854 <span class="preprocessor">  V(AccessCheckNeeded)                         \</span>
<a name="l00855"></a>00855 <span class="preprocessor">  V(JSGlobalPropertyCell)                      \</span>
<a name="l00856"></a>00856 <span class="preprocessor"></span>
<a name="l00857"></a>00857 <span class="preprocessor"></span>
<a name="l00858"></a>00858 <span class="keyword">class </span>JSReceiver;
<a name="l00859"></a>00859 
<a name="l00860"></a>00860 <span class="comment">// Object is the abstract superclass for all classes in the</span>
<a name="l00861"></a>00861 <span class="comment">// object hierarchy.</span>
<a name="l00862"></a>00862 <span class="comment">// Object does not use any virtual functions to avoid the</span>
<a name="l00863"></a>00863 <span class="comment">// allocation of the C++ vtable.</span>
<a name="l00864"></a>00864 <span class="comment">// Since Smi and Failure are subclasses of Object no</span>
<a name="l00865"></a>00865 <span class="comment">// data members can be present in Object.</span>
<a name="l00866"></a><a class="code" href="classv8_1_1internal_1_1_object.html">00866</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_object.html">Object</a> : <span class="keyword">public</span> MaybeObject {
<a name="l00867"></a>00867  <span class="keyword">public</span>:
<a name="l00868"></a>00868   <span class="comment">// Type testing.</span>
<a name="l00869"></a><a class="code" href="classv8_1_1internal_1_1_object.html#a4b2781ba644ed4eb01d2ed1843ba9451">00869</a>   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a4b2781ba644ed4eb01d2ed1843ba9451">IsObject</a>() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00870"></a>00870 
<a name="l00871"></a><a class="code" href="objects_8h.html#ac475e134f22af85c92c387f5cf12df3f">00871</a> <span class="preprocessor">#define IS_TYPE_FUNCTION_DECL(type_)  inline bool Is##type_();</span>
<a name="l00872"></a>00872 <span class="preprocessor"></span>  <a class="code" href="objects_8h.html#abe3762a9cb34ffde3492d30c4e3381ad">OBJECT_TYPE_LIST</a>(<a class="code" href="objects_8h.html#ac475e134f22af85c92c387f5cf12df3f">IS_TYPE_FUNCTION_DECL</a>)
<a name="l00873"></a>00873   <a class="code" href="objects_8h.html#a2bc780537858a4278e56a734d25b9820">HEAP_OBJECT_TYPE_LIST</a>(<a class="code" href="objects_8h.html#ac475e134f22af85c92c387f5cf12df3f">IS_TYPE_FUNCTION_DECL</a>)
<a name="l00874"></a>00874 <span class="preprocessor">#undef IS_TYPE_FUNCTION_DECL</span>
<a name="l00875"></a>00875 <span class="preprocessor"></span>
<a name="l00876"></a>00876   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a92f5116895011d7db1597445ff1686bc">IsFixedArrayBase</a>();
<a name="l00877"></a>00877 
<a name="l00878"></a>00878   <span class="comment">// Returns true if this object is an instance of the specified</span>
<a name="l00879"></a>00879   <span class="comment">// function template.</span>
<a name="l00880"></a>00880   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a5a8c1b2609c486b7986a22378f26fd95">IsInstanceOf</a>(FunctionTemplateInfo* <a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>);
<a name="l00881"></a>00881 
<a name="l00882"></a>00882   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a6ea4de25a2b109d77a3005cf3a481bfc">IsStruct</a>();
<a name="l00883"></a><a class="code" href="objects_8h.html#a3bbe34f353d2159fbbd332c48824e1ac">00883</a> <span class="preprocessor">#define DECLARE_STRUCT_PREDICATE(NAME, Name, name) inline bool Is##Name();</span>
<a name="l00884"></a>00884 <span class="preprocessor"></span>  <a class="code" href="objects_8h.html#a3b5399155f391d070485d8310f9d2e95">STRUCT_LIST</a>(<a class="code" href="objects_8h.html#a3bbe34f353d2159fbbd332c48824e1ac">DECLARE_STRUCT_PREDICATE</a>)
<a name="l00885"></a>00885 <span class="preprocessor">#undef DECLARE_STRUCT_PREDICATE</span>
<a name="l00886"></a>00886 <span class="preprocessor"></span>
<a name="l00887"></a>00887   <a class="code" href="classv8_1_1internal_1_1_object.html#ad57ad30902060697b9a8963e6b81ea59">INLINE</a>(<span class="keywordtype">bool</span> IsSpecObject());
<a name="l00888"></a>00888   <a class="code" href="classv8_1_1internal_1_1_object.html#ad57ad30902060697b9a8963e6b81ea59">INLINE</a>(<span class="keywordtype">bool</span> IsSpecFunction());
<a name="l00889"></a>00889 
<a name="l00890"></a>00890   <span class="comment">// Oddball testing.</span>
<a name="l00891"></a>00891   <a class="code" href="classv8_1_1internal_1_1_object.html#ad57ad30902060697b9a8963e6b81ea59">INLINE</a>(<span class="keywordtype">bool</span> IsUndefined());
<a name="l00892"></a>00892   <a class="code" href="classv8_1_1internal_1_1_object.html#ad57ad30902060697b9a8963e6b81ea59">INLINE</a>(<span class="keywordtype">bool</span> IsNull());
<a name="l00893"></a>00893   <a class="code" href="classv8_1_1internal_1_1_object.html#ad57ad30902060697b9a8963e6b81ea59">INLINE</a>(<span class="keywordtype">bool</span> IsTheHole());  <span class="comment">// Shadows MaybeObject&#39;s implementation.</span>
<a name="l00894"></a>00894   <a class="code" href="classv8_1_1internal_1_1_object.html#ad57ad30902060697b9a8963e6b81ea59">INLINE</a>(<span class="keywordtype">bool</span> IsTrue());
<a name="l00895"></a>00895   <a class="code" href="classv8_1_1internal_1_1_object.html#ad57ad30902060697b9a8963e6b81ea59">INLINE</a>(<span class="keywordtype">bool</span> IsFalse());
<a name="l00896"></a>00896   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a027ea5417b0a9d5541e5157ca5848944">IsArgumentsMarker</a>();
<a name="l00897"></a>00897   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a6b7bc6e54e2fbe36d0b2e2aae6d90d48">NonFailureIsHeapObject</a>();
<a name="l00898"></a>00898 
<a name="l00899"></a>00899   <span class="comment">// Filler objects (fillers and free space objects).</span>
<a name="l00900"></a>00900   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a70687a4db64954b95e4a5e6da86b0abe">IsFiller</a>();
<a name="l00901"></a>00901 
<a name="l00902"></a>00902   <span class="comment">// Extract the number.</span>
<a name="l00903"></a>00903   <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a9cc4be8c098d838ce55e90f4a9e40b00">Number</a>();
<a name="l00904"></a>00904   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#aaffcf276c87030b4d7d2f43969796315">IsNaN</a>();
<a name="l00905"></a>00905 
<a name="l00906"></a>00906   <span class="comment">// Returns true if the object is of the correct type to be used as a</span>
<a name="l00907"></a>00907   <span class="comment">// implementation of a JSObject&#39;s elements.</span>
<a name="l00908"></a>00908   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a5a4ebd23df8bed6bf2710bc2c8a12958">HasValidElements</a>();
<a name="l00909"></a>00909 
<a name="l00910"></a>00910   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#aef4836f5ecda222782061a5d0904615d">HasSpecificClassOf</a>(String* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l00911"></a>00911 
<a name="l00912"></a>00912   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#a360a2eb77cb867742342cd7e4a2964cf">ToObject</a>();             <span class="comment">// ECMA-262 9.9.</span>
<a name="l00913"></a>00913   <a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* <a class="code" href="classv8_1_1internal_1_1_object.html#af7c8ac7df65c52122bd9acafeb3f1b91">ToBoolean</a>();                                 <span class="comment">// ECMA-262 9.2.</span>
<a name="l00914"></a>00914 
<a name="l00915"></a>00915   <span class="comment">// Convert to a JSObject if needed.</span>
<a name="l00916"></a>00916   <span class="comment">// global_context is used when creating wrapper object.</span>
<a name="l00917"></a>00917   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#a360a2eb77cb867742342cd7e4a2964cf">ToObject</a>(Context* global_context);
<a name="l00918"></a>00918 
<a name="l00919"></a>00919   <span class="comment">// Converts this to a Smi if possible.</span>
<a name="l00920"></a>00920   <span class="comment">// Failure is returned otherwise.</span>
<a name="l00921"></a>00921   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#a1780f901acca37f35e6fa3406aed38fb">ToSmi</a>();
<a name="l00922"></a>00922 
<a name="l00923"></a>00923   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a662d778e77616328dfc4755ee6a285fe">Lookup</a>(String* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, LookupResult* result);
<a name="l00924"></a>00924 
<a name="l00925"></a>00925   <span class="comment">// Property access.</span>
<a name="l00926"></a>00926   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#a429c2e134fff3f830882b713002a7af1">GetProperty</a>(String* key);
<a name="l00927"></a>00927   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#a429c2e134fff3f830882b713002a7af1">GetProperty</a>(
<a name="l00928"></a>00928       String* key,
<a name="l00929"></a>00929       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a>* attributes);
<a name="l00930"></a>00930   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#a5c4d8a1b7ea3d1795bcfd7352d4d29e3">GetPropertyWithReceiver</a>(
<a name="l00931"></a>00931       <a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* receiver,
<a name="l00932"></a>00932       String* key,
<a name="l00933"></a>00933       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a>* attributes);
<a name="l00934"></a>00934 
<a name="l00935"></a>00935   <span class="keyword">static</span> Handle&lt;Object&gt; <a class="code" href="classv8_1_1internal_1_1_object.html#a429c2e134fff3f830882b713002a7af1">GetProperty</a>(Handle&lt;Object&gt; <span class="keywordtype">object</span>,
<a name="l00936"></a>00936                                     Handle&lt;Object&gt; receiver,
<a name="l00937"></a>00937                                     LookupResult* result,
<a name="l00938"></a>00938                                     Handle&lt;String&gt; key,
<a name="l00939"></a>00939                                     <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a>* attributes);
<a name="l00940"></a>00940 
<a name="l00941"></a>00941   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#a429c2e134fff3f830882b713002a7af1">GetProperty</a>(<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* receiver,
<a name="l00942"></a>00942                                            LookupResult* result,
<a name="l00943"></a>00943                                            String* key,
<a name="l00944"></a>00944                                            <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a>* attributes);
<a name="l00945"></a>00945 
<a name="l00946"></a>00946   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#a35871a20e06829f502352881853c3802">GetPropertyWithDefinedGetter</a>(<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* receiver,
<a name="l00947"></a>00947                                                             JSReceiver* getter);
<a name="l00948"></a>00948 
<a name="l00949"></a>00949   <span class="keyword">static</span> Handle&lt;Object&gt; <a class="code" href="classv8_1_1internal_1_1_object.html#af64fee495112c3277208e1617fb12c1a">GetElement</a>(Handle&lt;Object&gt; <span class="keywordtype">object</span>, uint32_t index);
<a name="l00950"></a>00950   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#af64fee495112c3277208e1617fb12c1a">GetElement</a>(uint32_t index);
<a name="l00951"></a>00951   <span class="comment">// For use when we know that no exception can be thrown.</span>
<a name="l00952"></a>00952   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* <a class="code" href="classv8_1_1internal_1_1_object.html#a05d10be30c183672ee22b280f832fe2f">GetElementNoExceptionThrown</a>(uint32_t index);
<a name="l00953"></a>00953   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#af96ea19dc4213166db3366f6947ff069">GetElementWithReceiver</a>(<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* receiver,
<a name="l00954"></a>00954                                                       uint32_t index);
<a name="l00955"></a>00955 
<a name="l00956"></a>00956   <span class="comment">// Return the object&#39;s prototype (might be Heap::null_value()).</span>
<a name="l00957"></a>00957   <a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* <a class="code" href="classv8_1_1internal_1_1_object.html#a876e3677c36ff38d09f86aa7c7abe8a3">GetPrototype</a>();
<a name="l00958"></a>00958 
<a name="l00959"></a>00959   <span class="comment">// Returns the permanent hash code associated with this object depending on</span>
<a name="l00960"></a>00960   <span class="comment">// the actual object type.  Might return a failure in case no hash was</span>
<a name="l00961"></a>00961   <span class="comment">// created yet or GC was caused by creation.</span>
<a name="l00962"></a>00962   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object.html#a681c027546e2e264d245ae7d79346416">GetHash</a>(<a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6">CreationFlag</a> <a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>);
<a name="l00963"></a>00963 
<a name="l00964"></a>00964   <span class="comment">// Checks whether this object has the same value as the given one.  This</span>
<a name="l00965"></a>00965   <span class="comment">// function is implemented according to ES5, section 9.12 and can be used</span>
<a name="l00966"></a>00966   <span class="comment">// to implement the Harmony &quot;egal&quot; function.</span>
<a name="l00967"></a>00967   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a4218e7b873b8150ee86e5a5d2572add7">SameValue</a>(<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* other);
<a name="l00968"></a>00968 
<a name="l00969"></a>00969   <span class="comment">// Tries to convert an object to an array index.  Returns true and sets</span>
<a name="l00970"></a>00970   <span class="comment">// the output parameter if it succeeds.</span>
<a name="l00971"></a>00971   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#aac484694d24998e045aabfc4757d07b6">ToArrayIndex</a>(uint32_t* index);
<a name="l00972"></a>00972 
<a name="l00973"></a>00973   <span class="comment">// Returns true if this is a JSValue containing a string and the index is</span>
<a name="l00974"></a>00974   <span class="comment">// &lt; the length of the string.  Used to implement [] on strings.</span>
<a name="l00975"></a>00975   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object.html#a8319b42c27f93c8aa59e621e9593e37a">IsStringObjectWithCharacterAt</a>(uint32_t index);
<a name="l00976"></a>00976 
<a name="l00977"></a>00977 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00978"></a>00978 <span class="preprocessor"></span>  <span class="comment">// Verify a pointer is a valid object pointer.</span>
<a name="l00979"></a>00979   <span class="keyword">static</span> <span class="keywordtype">void</span> VerifyPointer(<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* p);
<a name="l00980"></a>00980 <span class="preprocessor">#endif</span>
<a name="l00981"></a>00981 <span class="preprocessor"></span>
<a name="l00982"></a>00982   <span class="comment">// Prints this object without details.</span>
<a name="l00983"></a><a class="code" href="classv8_1_1internal_1_1_object.html#aa1122bd38f189accfa86de5a3ce3b59a">00983</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_object.html#aa1122bd38f189accfa86de5a3ce3b59a">ShortPrint</a>() {
<a name="l00984"></a>00984     <a class="code" href="classv8_1_1internal_1_1_object.html#aa1122bd38f189accfa86de5a3ce3b59a">ShortPrint</a>(stdout);
<a name="l00985"></a>00985   }
<a name="l00986"></a>00986   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_object.html#aa1122bd38f189accfa86de5a3ce3b59a">ShortPrint</a>(FILE* out);
<a name="l00987"></a>00987 
<a name="l00988"></a>00988   <span class="comment">// Prints this object without details to a message accumulator.</span>
<a name="l00989"></a>00989   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_object.html#aa1122bd38f189accfa86de5a3ce3b59a">ShortPrint</a>(<a class="code" href="classv8_1_1internal_1_1_string_stream.html">StringStream</a>* accumulator);
<a name="l00990"></a>00990 
<a name="l00991"></a>00991   <span class="comment">// Casting: This cast is only needed to satisfy macros in objects-inl.h.</span>
<a name="l00992"></a><a class="code" href="classv8_1_1internal_1_1_object.html#a5d4930c55634a1a228b270418e635615">00992</a>   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_object.html#a5d4930c55634a1a228b270418e635615">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value) { <span class="keywordflow">return</span> value; }
<a name="l00993"></a>00993 
<a name="l00994"></a>00994   <span class="comment">// Layout description.</span>
<a name="l00995"></a><a class="code" href="classv8_1_1internal_1_1_object.html#ad3351fa81dab11402a320cbc39482151">00995</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_object.html#ad3351fa81dab11402a320cbc39482151">kHeaderSize</a> = 0;  <span class="comment">// Object does not take up any space.</span>
<a name="l00996"></a>00996 
<a name="l00997"></a>00997  <span class="keyword">private</span>:
<a name="l00998"></a>00998   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>);
<a name="l00999"></a>00999 };
<a name="l01000"></a>01000 
<a name="l01001"></a>01001 
<a name="l01002"></a>01002 <span class="comment">// Smi represents integer Numbers that can be stored in 31 bits.</span>
<a name="l01003"></a>01003 <span class="comment">// Smis are immediate which means they are NOT allocated in the heap.</span>
<a name="l01004"></a>01004 <span class="comment">// The this pointer has the following format: [31 bit signed int] 0</span>
<a name="l01005"></a>01005 <span class="comment">// For long smis it has the following format:</span>
<a name="l01006"></a>01006 <span class="comment">//     [32 bit signed int] [31 bits zero padding] 0</span>
<a name="l01007"></a>01007 <span class="comment">// Smi stands for small integer.</span>
<a name="l01008"></a><a class="code" href="classv8_1_1internal_1_1_smi.html">01008</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a> {
<a name="l01009"></a>01009  <span class="keyword">public</span>:
<a name="l01010"></a>01010   <span class="comment">// Returns the integer value.</span>
<a name="l01011"></a>01011   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_smi.html#ad7e2e0bfe57370e94799afba95fd3876">value</a>();
<a name="l01012"></a>01012 
<a name="l01013"></a>01013   <span class="comment">// Convert a value to a Smi object.</span>
<a name="l01014"></a>01014   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* <a class="code" href="classv8_1_1internal_1_1_smi.html#ab8a06699d9e96c9c50be9bf54c29ea86">FromInt</a>(<span class="keywordtype">int</span> value);
<a name="l01015"></a>01015 
<a name="l01016"></a>01016   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* <a class="code" href="classv8_1_1internal_1_1_smi.html#acb298fe8360fe3fedcadbdf1cf73f98f">FromIntptr</a>(intptr_t value);
<a name="l01017"></a>01017 
<a name="l01018"></a>01018   <span class="comment">// Returns whether value can be represented in a Smi.</span>
<a name="l01019"></a>01019   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_smi.html#adffa6d4355e3788451eb340ff5013f73">IsValid</a>(intptr_t value);
<a name="l01020"></a>01020 
<a name="l01021"></a>01021   <span class="comment">// Casting.</span>
<a name="l01022"></a>01022   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* <a class="code" href="classv8_1_1internal_1_1_smi.html#a26c50e7d4d8055bf2d296306837ff521">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>);
<a name="l01023"></a>01023 
<a name="l01024"></a>01024   <span class="comment">// Dispatched behavior.</span>
<a name="l01025"></a><a class="code" href="classv8_1_1internal_1_1_smi.html#a0ed922cc93b64598815c4afa9146969c">01025</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_smi.html#a0ed922cc93b64598815c4afa9146969c">SmiPrint</a>() {
<a name="l01026"></a>01026     <a class="code" href="classv8_1_1internal_1_1_smi.html#a0ed922cc93b64598815c4afa9146969c">SmiPrint</a>(stdout);
<a name="l01027"></a>01027   }
<a name="l01028"></a>01028   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_smi.html#a0ed922cc93b64598815c4afa9146969c">SmiPrint</a>(FILE* out);
<a name="l01029"></a>01029   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_smi.html#a0ed922cc93b64598815c4afa9146969c">SmiPrint</a>(<a class="code" href="classv8_1_1internal_1_1_string_stream.html">StringStream</a>* accumulator);
<a name="l01030"></a>01030 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01031"></a>01031 <span class="preprocessor"></span>  <span class="keywordtype">void</span> SmiVerify();
<a name="l01032"></a>01032 <span class="preprocessor">#endif</span>
<a name="l01033"></a>01033 <span class="preprocessor"></span>
<a name="l01034"></a><a class="code" href="classv8_1_1internal_1_1_smi.html#a98555c8d040a2a4881bd301a294d2969">01034</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_smi.html#a98555c8d040a2a4881bd301a294d2969">kMinValue</a> =
<a name="l01035"></a>01035       (<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(-1)) &lt;&lt; (<a class="code" href="namespacev8_1_1internal.html#aa60011c225876a22aaff07bb57b05b46">kSmiValueSize</a> - 1);
<a name="l01036"></a><a class="code" href="classv8_1_1internal_1_1_smi.html#a7551831ea8fb68fc44cc19c9b6fa0dee">01036</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_smi.html#a7551831ea8fb68fc44cc19c9b6fa0dee">kMaxValue</a> = -(<a class="code" href="classv8_1_1internal_1_1_smi.html#a98555c8d040a2a4881bd301a294d2969">kMinValue</a> + 1);
<a name="l01037"></a>01037 
<a name="l01038"></a>01038  <span class="keyword">private</span>:
<a name="l01039"></a>01039   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>);
<a name="l01040"></a>01040 };
<a name="l01041"></a>01041 
<a name="l01042"></a>01042 
<a name="l01043"></a>01043 <span class="comment">// Failure is used for reporting out of memory situations and</span>
<a name="l01044"></a>01044 <span class="comment">// propagating exceptions through the runtime system.  Failure objects</span>
<a name="l01045"></a>01045 <span class="comment">// are transient and cannot occur as part of the object graph.</span>
<a name="l01046"></a>01046 <span class="comment">//</span>
<a name="l01047"></a>01047 <span class="comment">// Failures are a single word, encoded as follows:</span>
<a name="l01048"></a>01048 <span class="comment">// +-------------------------+---+--+--+</span>
<a name="l01049"></a>01049 <span class="comment">// |.........unused..........|sss|tt|11|</span>
<a name="l01050"></a>01050 <span class="comment">// +-------------------------+---+--+--+</span>
<a name="l01051"></a>01051 <span class="comment">//                          7 6 4 32 10</span>
<a name="l01052"></a>01052 <span class="comment">//</span>
<a name="l01053"></a>01053 <span class="comment">//</span>
<a name="l01054"></a>01054 <span class="comment">// The low two bits, 0-1, are the failure tag, 11.  The next two bits,</span>
<a name="l01055"></a>01055 <span class="comment">// 2-3, are a failure type tag &#39;tt&#39; with possible values:</span>
<a name="l01056"></a>01056 <span class="comment">//   00 RETRY_AFTER_GC</span>
<a name="l01057"></a>01057 <span class="comment">//   01 EXCEPTION</span>
<a name="l01058"></a>01058 <span class="comment">//   10 INTERNAL_ERROR</span>
<a name="l01059"></a>01059 <span class="comment">//   11 OUT_OF_MEMORY_EXCEPTION</span>
<a name="l01060"></a>01060 <span class="comment">//</span>
<a name="l01061"></a>01061 <span class="comment">// The next three bits, 4-6, are an allocation space tag &#39;sss&#39;.  The</span>
<a name="l01062"></a>01062 <span class="comment">// allocation space tag is 000 for all failure types except</span>
<a name="l01063"></a>01063 <span class="comment">// RETRY_AFTER_GC.  For RETRY_AFTER_GC, the possible values are the</span>
<a name="l01064"></a>01064 <span class="comment">// allocation spaces (the encoding is found in globals.h).</span>
<a name="l01065"></a>01065 
<a name="l01066"></a>01066 <span class="comment">// Failure type tag info.</span>
<a name="l01067"></a><a class="code" href="namespacev8_1_1internal.html#a7b58dc9c4e17ff66e993644b25e6fb9c">01067</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a7b58dc9c4e17ff66e993644b25e6fb9c">kFailureTypeTagSize</a> = 2;
<a name="l01068"></a><a class="code" href="namespacev8_1_1internal.html#a1fc8b8fc9a8133284e537d4fcbce9b17">01068</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a1fc8b8fc9a8133284e537d4fcbce9b17">kFailureTypeTagMask</a> = (1 &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#a7b58dc9c4e17ff66e993644b25e6fb9c">kFailureTypeTagSize</a>) - 1;
<a name="l01069"></a>01069 
<a name="l01070"></a><a class="code" href="classv8_1_1internal_1_1_failure.html">01070</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>: <span class="keyword">public</span> MaybeObject {
<a name="l01071"></a>01071  <span class="keyword">public</span>:
<a name="l01072"></a>01072   <span class="comment">// RuntimeStubs assumes EXCEPTION = 1 in the compiler-generated code.</span>
<a name="l01073"></a><a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64ac">01073</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64ac">Type</a> {
<a name="l01074"></a><a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64acabf18f1baba6d53f36be3ebf2e927ac1b">01074</a>     <a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64acabf18f1baba6d53f36be3ebf2e927ac1b">RETRY_AFTER_GC</a> = 0,
<a name="l01075"></a><a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64acaebaaba89f471e616ce7a07fad3ce4ea3">01075</a>     <a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64acaebaaba89f471e616ce7a07fad3ce4ea3">EXCEPTION</a> = 1,       <span class="comment">// Returning this marker tells the real exception</span>
<a name="l01076"></a>01076                          <span class="comment">// is in Isolate::pending_exception.</span>
<a name="l01077"></a><a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64acad666dd4df8f5ef25d0c3c47689de7425">01077</a>     <a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64acad666dd4df8f5ef25d0c3c47689de7425">INTERNAL_ERROR</a> = 2,
<a name="l01078"></a><a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64acaba14b0da07c00709058dedf170d8a962">01078</a>     <a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64acaba14b0da07c00709058dedf170d8a962">OUT_OF_MEMORY_EXCEPTION</a> = 3
<a name="l01079"></a>01079   };
<a name="l01080"></a>01080 
<a name="l01081"></a>01081   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64ac">Type</a> <a class="code" href="classv8_1_1internal_1_1_failure.html#a0246b238936aa436cdfd1cadd4a2261c">type</a>() <span class="keyword">const</span>;
<a name="l01082"></a>01082 
<a name="l01083"></a>01083   <span class="comment">// Returns the space that needs to be collected for RetryAfterGC failures.</span>
<a name="l01084"></a>01084   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> <a class="code" href="classv8_1_1internal_1_1_failure.html#a4be3dd6202c535908eb94e211c89016b">allocation_space</a>() <span class="keyword">const</span>;
<a name="l01085"></a>01085 
<a name="l01086"></a>01086   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_failure.html#a98cce75f485245d7864f786bfed0cb6f">IsInternalError</a>() <span class="keyword">const</span>;
<a name="l01087"></a>01087   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_failure.html#a471a5b21e01d4f199a6629f079d79719">IsOutOfMemoryException</a>() <span class="keyword">const</span>;
<a name="l01088"></a>01088 
<a name="l01089"></a>01089   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>* <a class="code" href="classv8_1_1internal_1_1_failure.html#ac2c3e3b223cda205538d44a7a8e036a7">RetryAfterGC</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> space);
<a name="l01090"></a>01090   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>* <a class="code" href="classv8_1_1internal_1_1_failure.html#ac2c3e3b223cda205538d44a7a8e036a7">RetryAfterGC</a>();  <span class="comment">// NEW_SPACE</span>
<a name="l01091"></a>01091   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>* <a class="code" href="classv8_1_1internal_1_1_failure.html#a6d4bbc13f716aed96715e775b3048346">Exception</a>();
<a name="l01092"></a>01092   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>* <a class="code" href="classv8_1_1internal_1_1_failure.html#a1e05349de567b9db003ab3d22dc0fc22">InternalError</a>();
<a name="l01093"></a>01093   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>* <a class="code" href="classv8_1_1internal_1_1_failure.html#ae1b98a037515aa4b122ba082560271a8">OutOfMemoryException</a>();
<a name="l01094"></a>01094   <span class="comment">// Casting.</span>
<a name="l01095"></a>01095   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>* <a class="code" href="classv8_1_1internal_1_1_failure.html#a39fc25c5e3f076fa3a2f4a132e153dcc">cast</a>(MaybeObject* <span class="keywordtype">object</span>);
<a name="l01096"></a>01096 
<a name="l01097"></a>01097   <span class="comment">// Dispatched behavior.</span>
<a name="l01098"></a><a class="code" href="classv8_1_1internal_1_1_failure.html#a24e968c94a8e17ee315eda846dce985c">01098</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_failure.html#a24e968c94a8e17ee315eda846dce985c">FailurePrint</a>() {
<a name="l01099"></a>01099     <a class="code" href="classv8_1_1internal_1_1_failure.html#a24e968c94a8e17ee315eda846dce985c">FailurePrint</a>(stdout);
<a name="l01100"></a>01100   }
<a name="l01101"></a>01101   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_failure.html#a24e968c94a8e17ee315eda846dce985c">FailurePrint</a>(FILE* out);
<a name="l01102"></a>01102   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_failure.html#a24e968c94a8e17ee315eda846dce985c">FailurePrint</a>(<a class="code" href="classv8_1_1internal_1_1_string_stream.html">StringStream</a>* accumulator);
<a name="l01103"></a>01103 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01104"></a>01104 <span class="preprocessor"></span>  <span class="keywordtype">void</span> FailureVerify();
<a name="l01105"></a>01105 <span class="preprocessor">#endif</span>
<a name="l01106"></a>01106 <span class="preprocessor"></span>
<a name="l01107"></a>01107  <span class="keyword">private</span>:
<a name="l01108"></a>01108   <span class="keyword">inline</span> intptr_t value() <span class="keyword">const</span>;
<a name="l01109"></a>01109   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>* Construct(<a class="code" href="classv8_1_1internal_1_1_failure.html#a72956c93188adc78ef419760a0ab64ac">Type</a> <a class="code" href="classv8_1_1internal_1_1_failure.html#a0246b238936aa436cdfd1cadd4a2261c">type</a>, intptr_t value = 0);
<a name="l01110"></a>01110 
<a name="l01111"></a>01111   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_failure.html">Failure</a>);
<a name="l01112"></a>01112 };
<a name="l01113"></a>01113 
<a name="l01114"></a>01114 
<a name="l01115"></a>01115 <span class="comment">// Heap objects typically have a map pointer in their first word.  However,</span>
<a name="l01116"></a>01116 <span class="comment">// during GC other data (e.g. mark bits, forwarding addresses) is sometimes</span>
<a name="l01117"></a>01117 <span class="comment">// encoded in the first word.  The class MapWord is an abstraction of the</span>
<a name="l01118"></a>01118 <span class="comment">// value in a heap object&#39;s first word.</span>
<a name="l01119"></a>01119 <span class="keyword">class </span>MapWord <a class="code" href="allocation_8h.html#abab81306d90d0b82732d5bed93a0a588">BASE_EMBEDDED</a> {
<a name="l01120"></a>01120  <span class="keyword">public</span>:
<a name="l01121"></a>01121   <span class="comment">// Normal state: the map word contains a map pointer.</span>
<a name="l01122"></a>01122 
<a name="l01123"></a>01123   <span class="comment">// Create a map word from a map pointer.</span>
<a name="l01124"></a>01124   <span class="keyword">static</span> <span class="keyword">inline</span> MapWord FromMap(Map* map);
<a name="l01125"></a>01125 
<a name="l01126"></a>01126   <span class="comment">// View this map word as a map pointer.</span>
<a name="l01127"></a>01127   <span class="keyword">inline</span> Map* ToMap();
<a name="l01128"></a>01128 
<a name="l01129"></a>01129 
<a name="l01130"></a>01130   <span class="comment">// Scavenge collection: the map word of live objects in the from space</span>
<a name="l01131"></a>01131   <span class="comment">// contains a forwarding address (a heap object pointer in the to space).</span>
<a name="l01132"></a>01132 
<a name="l01133"></a>01133   <span class="comment">// True if this map word is a forwarding address for a scavenge</span>
<a name="l01134"></a>01134   <span class="comment">// collection.  Only valid during a scavenge collection (specifically,</span>
<a name="l01135"></a>01135   <span class="comment">// when all map words are heap object pointers, i.e. not during a full GC).</span>
<a name="l01136"></a>01136   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsForwardingAddress();
<a name="l01137"></a>01137 
<a name="l01138"></a>01138   <span class="comment">// Create a map word from a forwarding address.</span>
<a name="l01139"></a>01139   <span class="keyword">static</span> <span class="keyword">inline</span> MapWord FromForwardingAddress(HeapObject* <span class="keywordtype">object</span>);
<a name="l01140"></a>01140 
<a name="l01141"></a>01141   <span class="comment">// View this map word as a forwarding address.</span>
<a name="l01142"></a>01142   <span class="keyword">inline</span> HeapObject* ToForwardingAddress();
<a name="l01143"></a>01143 
<a name="l01144"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a2ce3170aca80e659b7944e8dfb2a6e80">01144</a>   <span class="keyword">static</span> <span class="keyword">inline</span> MapWord <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a2ce3170aca80e659b7944e8dfb2a6e80">FromRawValue</a>(uintptr_t value) {
<a name="l01145"></a>01145     <span class="keywordflow">return</span> MapWord(value);
<a name="l01146"></a>01146   }
<a name="l01147"></a>01147 
<a name="l01148"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a817b159c4af1285aecd71e5451a4119d">01148</a>   <span class="keyword">inline</span> uintptr_t <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a817b159c4af1285aecd71e5451a4119d">ToRawValue</a>() {
<a name="l01149"></a>01149     <span class="keywordflow">return</span> value_;
<a name="l01150"></a>01150   }
<a name="l01151"></a>01151 
<a name="l01152"></a>01152  <span class="keyword">private</span>:
<a name="l01153"></a>01153   <span class="comment">// HeapObject calls the private constructor and directly reads the value.</span>
<a name="l01154"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a4ae334d69f930be0e066fd52730366d3">01154</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>;
<a name="l01155"></a>01155 
<a name="l01156"></a>01156   <span class="keyword">explicit</span> MapWord(uintptr_t value) : value_(value) {}
<a name="l01157"></a>01157 
<a name="l01158"></a>01158   uintptr_t value_;
<a name="l01159"></a>01159 };
<a name="l01160"></a>01160 
<a name="l01161"></a>01161 
<a name="l01162"></a>01162 <span class="comment">// HeapObject is the superclass for all classes describing heap allocated</span>
<a name="l01163"></a>01163 <span class="comment">// objects.</span>
<a name="l01164"></a><a class="code" href="classv8_1_1internal_1_1_heap_object.html">01164</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a> {
<a name="l01165"></a>01165  <span class="keyword">public</span>:
<a name="l01166"></a>01166   <span class="comment">// [map]: Contains a map which contains the object&#39;s reflective</span>
<a name="l01167"></a>01167   <span class="comment">// information.</span>
<a name="l01168"></a>01168   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#adb4fe930ff2cca856204810cbb456ac3">map</a>();
<a name="l01169"></a>01169   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a238c1d2f833601734b2fb953fa8b4e0b">set_map</a>(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* value);
<a name="l01170"></a>01170   <span class="comment">// The no-write-barrier version.  This is OK if the object is white and in</span>
<a name="l01171"></a>01171   <span class="comment">// new space, or if the value is an immortal immutable object, like the maps</span>
<a name="l01172"></a>01172   <span class="comment">// of primitive (non-JS) objects like strings, heap numbers etc.</span>
<a name="l01173"></a>01173   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a09b55ec859f14abfa17b1112bf135632">set_map_no_write_barrier</a>(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* value);
<a name="l01174"></a>01174 
<a name="l01175"></a>01175   <span class="comment">// During garbage collection, the map word of a heap object does not</span>
<a name="l01176"></a>01176   <span class="comment">// necessarily contain a map pointer.</span>
<a name="l01177"></a>01177   <span class="keyword">inline</span> MapWord <a class="code" href="classv8_1_1internal_1_1_heap_object.html#af851d5f6aeb9e49cc45d071652bbcd66">map_word</a>();
<a name="l01178"></a>01178   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ac765f37bdbe72ec7ebf00483cfa1c8d5">set_map_word</a>(MapWord map_word);
<a name="l01179"></a>01179 
<a name="l01180"></a>01180   <span class="comment">// The Heap the object was allocated in. Used also to access Isolate.</span>
<a name="l01181"></a>01181   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a7d5a9c48b357fc21cbaf185f0c49061f">GetHeap</a>();
<a name="l01182"></a>01182 
<a name="l01183"></a>01183   <span class="comment">// Convenience method to get current isolate. This method can be</span>
<a name="l01184"></a>01184   <span class="comment">// accessed only when its result is the same as</span>
<a name="l01185"></a>01185   <span class="comment">// Isolate::Current(), it ASSERTs this. See also comment for GetHeap.</span>
<a name="l01186"></a>01186   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a02ed403c4e3735769fda5647ee0028fa">GetIsolate</a>();
<a name="l01187"></a>01187 
<a name="l01188"></a>01188   <span class="comment">// Converts an address to a HeapObject pointer.</span>
<a name="l01189"></a>01189   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ac2dbe6768e6332fc90a987f23ca41ddb">FromAddress</a>(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a6969394bb5c9119fd1a23ec6bedda74d">address</a>);
<a name="l01190"></a>01190 
<a name="l01191"></a>01191   <span class="comment">// Returns the address of this HeapObject.</span>
<a name="l01192"></a>01192   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a6969394bb5c9119fd1a23ec6bedda74d">address</a>();
<a name="l01193"></a>01193 
<a name="l01194"></a>01194   <span class="comment">// Iterates over pointers contained in the object (including the Map)</span>
<a name="l01195"></a>01195   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ad87e32c09e00dd3f4470bbb4db518968">Iterate</a>(ObjectVisitor* v);
<a name="l01196"></a>01196 
<a name="l01197"></a>01197   <span class="comment">// Iterates over all pointers contained in the object except the</span>
<a name="l01198"></a>01198   <span class="comment">// first map pointer.  The object type is given in the first</span>
<a name="l01199"></a>01199   <span class="comment">// parameter. This function does not access the map pointer in the</span>
<a name="l01200"></a>01200   <span class="comment">// object, and so is safe to call while the map pointer is modified.</span>
<a name="l01201"></a>01201   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a3e14da87e4be1ebc47aa8f2ee77ea1a4">IterateBody</a>(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9b">InstanceType</a> <a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>, <span class="keywordtype">int</span> object_size, ObjectVisitor* v);
<a name="l01202"></a>01202 
<a name="l01203"></a>01203   <span class="comment">// Returns the heap object&#39;s size in bytes</span>
<a name="l01204"></a>01204   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a53f4a8784ede9710d87dec27abb0a91d">Size</a>();
<a name="l01205"></a>01205 
<a name="l01206"></a>01206   <span class="comment">// Given a heap object&#39;s map pointer, returns the heap size in bytes</span>
<a name="l01207"></a>01207   <span class="comment">// Useful when the map pointer field is used for other purposes.</span>
<a name="l01208"></a>01208   <span class="comment">// GC internal.</span>
<a name="l01209"></a>01209   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#af343e340194a7e19c9c7ff91bed7bf95">SizeFromMap</a>(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* map);
<a name="l01210"></a>01210 
<a name="l01211"></a>01211   <span class="comment">// Returns the field at offset in obj, as a read/write Object* reference.</span>
<a name="l01212"></a>01212   <span class="comment">// Does no checking, and is safe to use during GC, while maps are invalid.</span>
<a name="l01213"></a>01213   <span class="comment">// Does not invoke write barrier, so should only be assigned to</span>
<a name="l01214"></a>01214   <span class="comment">// during marking GC.</span>
<a name="l01215"></a>01215   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a41c3097b9cbd73e61cb1de6dd633f12c">RawField</a>(<a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj, <span class="keywordtype">int</span> offset);
<a name="l01216"></a>01216 
<a name="l01217"></a>01217   <span class="comment">// Casting.</span>
<a name="l01218"></a>01218   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a8a09007fc4b232059a18aa876ddfedb4">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l01219"></a>01219 
<a name="l01220"></a>01220   <span class="comment">// Return the write barrier mode for this. Callers of this function</span>
<a name="l01221"></a>01221   <span class="comment">// must be able to present a reference to an AssertNoAllocation</span>
<a name="l01222"></a>01222   <span class="comment">// object as a sign that they are not going to use this function</span>
<a name="l01223"></a>01223   <span class="comment">// from code that allocates and thus invalidates the returned write</span>
<a name="l01224"></a>01224   <span class="comment">// barrier mode.</span>
<a name="l01225"></a>01225   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">WriteBarrierMode</a> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5c092086fc265421c49622cf82dfc6db">GetWriteBarrierMode</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1_assert_no_allocation.html">AssertNoAllocation</a>&amp;);
<a name="l01226"></a>01226 
<a name="l01227"></a>01227   <span class="comment">// Dispatched behavior.</span>
<a name="l01228"></a>01228   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ab6c2c905d071742b9c96d77a7a77e185">HeapObjectShortPrint</a>(<a class="code" href="classv8_1_1internal_1_1_string_stream.html">StringStream</a>* accumulator);
<a name="l01229"></a>01229 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l01230"></a>01230 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> HeapObjectPrint() {
<a name="l01231"></a>01231     HeapObjectPrint(stdout);
<a name="l01232"></a>01232   }
<a name="l01233"></a>01233   <span class="keywordtype">void</span> HeapObjectPrint(FILE* out);
<a name="l01234"></a>01234   <span class="keywordtype">void</span> PrintHeader(FILE* out, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>);
<a name="l01235"></a>01235 <span class="preprocessor">#endif</span>
<a name="l01236"></a>01236 <span class="preprocessor"></span>
<a name="l01237"></a>01237 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01238"></a>01238 <span class="preprocessor"></span>  <span class="keywordtype">void</span> HeapObjectVerify();
<a name="l01239"></a>01239   <span class="keyword">inline</span> <span class="keywordtype">void</span> VerifyObjectField(<span class="keywordtype">int</span> offset);
<a name="l01240"></a>01240   <span class="keyword">inline</span> <span class="keywordtype">void</span> VerifySmiField(<span class="keywordtype">int</span> offset);
<a name="l01241"></a>01241 
<a name="l01242"></a>01242   <span class="comment">// Verify a pointer is a valid HeapObject pointer that points to object</span>
<a name="l01243"></a>01243   <span class="comment">// areas in the heap.</span>
<a name="l01244"></a>01244   <span class="keyword">static</span> <span class="keywordtype">void</span> VerifyHeapPointer(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* p);
<a name="l01245"></a>01245 <span class="preprocessor">#endif</span>
<a name="l01246"></a>01246 <span class="preprocessor"></span>
<a name="l01247"></a>01247   <span class="comment">// Layout description.</span>
<a name="l01248"></a>01248   <span class="comment">// First field in a heap object is map.</span>
<a name="l01249"></a><a class="code" href="classv8_1_1internal_1_1_heap_object.html#a0c150f83dc5605634f591e84c8a8ce2a">01249</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a0c150f83dc5605634f591e84c8a8ce2a">kMapOffset</a> = <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ac3b060e34e0c5523cd8ad9d734a0a498">Object::kHeaderSize</a>;
<a name="l01250"></a><a class="code" href="classv8_1_1internal_1_1_heap_object.html#ac3b060e34e0c5523cd8ad9d734a0a498">01250</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ac3b060e34e0c5523cd8ad9d734a0a498">kHeaderSize</a> = <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a0c150f83dc5605634f591e84c8a8ce2a">kMapOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l01251"></a>01251 
<a name="l01252"></a>01252   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(<a class="code" href="classv8_1_1internal_1_1_heap_object.html#a0c150f83dc5605634f591e84c8a8ce2a">kMapOffset</a> == <a class="code" href="classv8_1_1internal_1_1_internals.html#a0902a596b5656b4592157eaacc020512">Internals::kHeapObjectMapOffset</a>);
<a name="l01253"></a>01253 
<a name="l01254"></a>01254  <span class="keyword">protected</span>:
<a name="l01255"></a>01255   <span class="comment">// helpers for calling an ObjectVisitor to iterate over pointers in the</span>
<a name="l01256"></a>01256   <span class="comment">// half-open range [start, end) specified as integer offsets</span>
<a name="l01257"></a>01257   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ae43548b5f7944a135386eb7d60c8e034">IteratePointers</a>(ObjectVisitor* v, <span class="keywordtype">int</span> <a class="code" href="namespacell__prof.html#a5b7aee10eba26bc62f35b1049906c277">start</a>, <span class="keywordtype">int</span> end);
<a name="l01258"></a>01258   <span class="comment">// as above, for the single element at &quot;offset&quot;</span>
<a name="l01259"></a>01259   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a92fc60174b53c22f7fdb936d99c1f9a5">IteratePointer</a>(ObjectVisitor* v, <span class="keywordtype">int</span> offset);
<a name="l01260"></a>01260 
<a name="l01261"></a>01261  <span class="keyword">private</span>:
<a name="l01262"></a>01262   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>);
<a name="l01263"></a>01263 };
<a name="l01264"></a>01264 
<a name="l01265"></a>01265 
<a name="l01266"></a><a class="code" href="objects_8h.html#a7fa8ad08c5da8b487855765512493d16">01266</a> <span class="preprocessor">#define SLOT_ADDR(obj, offset) \</span>
<a name="l01267"></a>01267 <span class="preprocessor">  reinterpret_cast&lt;Object**&gt;((obj)-&gt;address() + offset)</span>
<a name="l01268"></a>01268 <span class="preprocessor"></span>
<a name="l01269"></a>01269 <span class="comment">// This class describes a body of an object of a fixed size</span>
<a name="l01270"></a>01270 <span class="comment">// in which all pointer fields are located in the [start_offset, end_offset)</span>
<a name="l01271"></a>01271 <span class="comment">// interval.</span>
<a name="l01272"></a>01272 <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> start_offset, <span class="keywordtype">int</span> end_offset, <span class="keywordtype">int</span> size&gt;
<a name="l01273"></a><a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">01273</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor</a> {
<a name="l01274"></a>01274  <span class="keyword">public</span>:
<a name="l01275"></a><a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html#a1c2c5b9bd26b6d92dc7c86f4c54db927">01275</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html#a1c2c5b9bd26b6d92dc7c86f4c54db927">kStartOffset</a> = start_offset;
<a name="l01276"></a><a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html#a5cfa9c5d4e9f97129ac63145e583a7ae">01276</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html#a5cfa9c5d4e9f97129ac63145e583a7ae">kEndOffset</a> = end_offset;
<a name="l01277"></a><a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html#a03c0893d55c2985366e4d64060bae196">01277</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html#a03c0893d55c2985366e4d64060bae196">kSize</a> = <a class="code" href="namespacev8_1_1internal.html#abf135806b67fe9f9a823fbbbe25de86b">size</a>;
<a name="l01278"></a>01278 
<a name="l01279"></a>01279   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html#a09f2cb0fa168f74bca449c9ffd4a32f7">IterateBody</a>(<a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj, ObjectVisitor* v);
<a name="l01280"></a>01280 
<a name="l01281"></a>01281   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> StaticVisitor&gt;
<a name="l01282"></a><a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html#a83ffec194bc75217d2178e3fad22dc73">01282</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html#a83ffec194bc75217d2178e3fad22dc73">IterateBody</a>(<a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj) {
<a name="l01283"></a>01283     StaticVisitor::VisitPointers(<a class="code" href="objects_8h.html#a7fa8ad08c5da8b487855765512493d16">SLOT_ADDR</a>(obj, start_offset),
<a name="l01284"></a>01284                                  <a class="code" href="objects_8h.html#a7fa8ad08c5da8b487855765512493d16">SLOT_ADDR</a>(obj, end_offset));
<a name="l01285"></a>01285   }
<a name="l01286"></a>01286 };
<a name="l01287"></a>01287 
<a name="l01288"></a>01288 
<a name="l01289"></a>01289 <span class="comment">// This class describes a body of an object of a variable size</span>
<a name="l01290"></a>01290 <span class="comment">// in which all pointer fields are located in the [start_offset, object_size)</span>
<a name="l01291"></a>01291 <span class="comment">// interval.</span>
<a name="l01292"></a>01292 <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> start_offset&gt;
<a name="l01293"></a><a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html">01293</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html">FlexibleBodyDescriptor</a> {
<a name="l01294"></a>01294  <span class="keyword">public</span>:
<a name="l01295"></a><a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html#a27ad85d165e2d35360cf5150db132825">01295</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html#a27ad85d165e2d35360cf5150db132825">kStartOffset</a> = start_offset;
<a name="l01296"></a>01296 
<a name="l01297"></a>01297   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html#a389dbb15f0cf8b50a2e3a9fcff68b3cc">IterateBody</a>(<a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj,
<a name="l01298"></a>01298                                  <span class="keywordtype">int</span> object_size,
<a name="l01299"></a>01299                                  ObjectVisitor* v);
<a name="l01300"></a>01300 
<a name="l01301"></a>01301   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> StaticVisitor&gt;
<a name="l01302"></a><a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html#a3b1c7942fbed459c907d8a72c40c3e9b">01302</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html#a3b1c7942fbed459c907d8a72c40c3e9b">IterateBody</a>(<a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* obj, <span class="keywordtype">int</span> object_size) {
<a name="l01303"></a>01303     StaticVisitor::VisitPointers(<a class="code" href="objects_8h.html#a7fa8ad08c5da8b487855765512493d16">SLOT_ADDR</a>(obj, start_offset),
<a name="l01304"></a>01304                                  <a class="code" href="objects_8h.html#a7fa8ad08c5da8b487855765512493d16">SLOT_ADDR</a>(obj, object_size));
<a name="l01305"></a>01305   }
<a name="l01306"></a>01306 };
<a name="l01307"></a>01307 
<a name="l01308"></a>01308 <span class="preprocessor">#undef SLOT_ADDR</span>
<a name="l01309"></a>01309 <span class="preprocessor"></span>
<a name="l01310"></a>01310 
<a name="l01311"></a>01311 <span class="comment">// The HeapNumber class describes heap allocated numbers that cannot be</span>
<a name="l01312"></a>01312 <span class="comment">// represented in a Smi (small integer)</span>
<a name="l01313"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html">01313</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_heap_number.html">HeapNumber</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l01314"></a>01314  <span class="keyword">public</span>:
<a name="l01315"></a>01315   <span class="comment">// [value]: number value.</span>
<a name="l01316"></a>01316   <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a6165bb5e3731e1e18a35fe011b99c377">value</a>();
<a name="l01317"></a>01317   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#ac6726d8db750c4b11885a6b6e724f640">set_value</a>(<span class="keywordtype">double</span> value);
<a name="l01318"></a>01318 
<a name="l01319"></a>01319   <span class="comment">// Casting.</span>
<a name="l01320"></a>01320   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html">HeapNumber</a>* <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a8abc7c4f40f4dd112ec723c68bbb8e54">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l01321"></a>01321 
<a name="l01322"></a>01322   <span class="comment">// Dispatched behavior.</span>
<a name="l01323"></a>01323   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_heap_number.html#aa7c9fb9de3d6d02c611def7c9153ea2a">HeapNumberToBoolean</a>();
<a name="l01324"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#add67a259746af138e95656d842745213">01324</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#add67a259746af138e95656d842745213">HeapNumberPrint</a>() {
<a name="l01325"></a>01325     <a class="code" href="classv8_1_1internal_1_1_heap_number.html#add67a259746af138e95656d842745213">HeapNumberPrint</a>(stdout);
<a name="l01326"></a>01326   }
<a name="l01327"></a>01327   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#add67a259746af138e95656d842745213">HeapNumberPrint</a>(FILE* out);
<a name="l01328"></a>01328   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#add67a259746af138e95656d842745213">HeapNumberPrint</a>(<a class="code" href="classv8_1_1internal_1_1_string_stream.html">StringStream</a>* accumulator);
<a name="l01329"></a>01329 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01330"></a>01330 <span class="preprocessor"></span>  <span class="keywordtype">void</span> HeapNumberVerify();
<a name="l01331"></a>01331 <span class="preprocessor">#endif</span>
<a name="l01332"></a>01332 <span class="preprocessor"></span>
<a name="l01333"></a>01333   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a90729bf6ec40a432cace27186f005584">get_exponent</a>();
<a name="l01334"></a>01334   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#abef98f476e59d21c329250c98330d986">get_sign</a>();
<a name="l01335"></a>01335 
<a name="l01336"></a>01336   <span class="comment">// Layout description.</span>
<a name="l01337"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a52b57ba48e6335c63496c78cd666c88b">01337</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a52b57ba48e6335c63496c78cd666c88b">kValueOffset</a> = <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ac3b060e34e0c5523cd8ad9d734a0a498">HeapObject::kHeaderSize</a>;
<a name="l01338"></a>01338   <span class="comment">// IEEE doubles are two 32 bit words.  The first is just mantissa, the second</span>
<a name="l01339"></a>01339   <span class="comment">// is a mixture of sign, exponent and mantissa.  Our current platforms are all</span>
<a name="l01340"></a>01340   <span class="comment">// little endian apart from non-EABI arm which is little endian with big</span>
<a name="l01341"></a>01341   <span class="comment">// endian floating point word ordering!</span>
<a name="l01342"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a24ccff6781e1e4868558b77fcd13b1d3">01342</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a24ccff6781e1e4868558b77fcd13b1d3">kMantissaOffset</a> = <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a52b57ba48e6335c63496c78cd666c88b">kValueOffset</a>;
<a name="l01343"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a7643e0d6ea59b31797e50a05e623f6db">01343</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a7643e0d6ea59b31797e50a05e623f6db">kExponentOffset</a> = <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a52b57ba48e6335c63496c78cd666c88b">kValueOffset</a> + 4;
<a name="l01344"></a>01344 
<a name="l01345"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#ab06326529091d16f4421faa17e04fb2a">01345</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#ab06326529091d16f4421faa17e04fb2a">kSize</a> = <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a52b57ba48e6335c63496c78cd666c88b">kValueOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a4329153f14896ef8847be1cf7a7815fc">kDoubleSize</a>;
<a name="l01346"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a50eaa87f7bf62832731d20f644d4a33e">01346</a>   <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a50eaa87f7bf62832731d20f644d4a33e">kSignMask</a> = 0x80000000u;
<a name="l01347"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a5fc3ecac0d194d03ccc4eabc9b3f5023">01347</a>   <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a5fc3ecac0d194d03ccc4eabc9b3f5023">kExponentMask</a> = 0x7ff00000u;
<a name="l01348"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a53057546a7ea98c7bfab2a274f06079f">01348</a>   <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a53057546a7ea98c7bfab2a274f06079f">kMantissaMask</a> = 0xfffffu;
<a name="l01349"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a3a9f18d204db4321136c3263b54eadbd">01349</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a3a9f18d204db4321136c3263b54eadbd">kMantissaBits</a> = 52;
<a name="l01350"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a7badd159303921f42ed5c74ad7c9fa00">01350</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a7badd159303921f42ed5c74ad7c9fa00">kExponentBits</a> = 11;
<a name="l01351"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a87eae572809064057a6641c6b5805b42">01351</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a87eae572809064057a6641c6b5805b42">kExponentBias</a> = 1023;
<a name="l01352"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#aa70a7fa7eb34d309e4cfac3c2954650b">01352</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#aa70a7fa7eb34d309e4cfac3c2954650b">kExponentShift</a> = 20;
<a name="l01353"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#a6198e16a781f4aa92fcc8babace8f5ea">01353</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#a6198e16a781f4aa92fcc8babace8f5ea">kMantissaBitsInTopWord</a> = 20;
<a name="l01354"></a><a class="code" href="classv8_1_1internal_1_1_heap_number.html#af83833ed477b0b07a40419938d43e406">01354</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_heap_number.html#af83833ed477b0b07a40419938d43e406">kNonMantissaBitsInTopWord</a> = 12;
<a name="l01355"></a>01355 
<a name="l01356"></a>01356  <span class="keyword">private</span>:
<a name="l01357"></a>01357   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_heap_number.html">HeapNumber</a>);
<a name="l01358"></a>01358 };
<a name="l01359"></a>01359 
<a name="l01360"></a>01360 
<a name="l01361"></a><a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3">01361</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3">EnsureElementsMode</a> {
<a name="l01362"></a><a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3a234aa2ea36a0bb2fee09a2bb8f95ba74">01362</a>   <a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3a234aa2ea36a0bb2fee09a2bb8f95ba74">DONT_ALLOW_DOUBLE_ELEMENTS</a>,
<a name="l01363"></a><a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3a934f4294533db6d704260216671b75d6">01363</a>   <a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3a934f4294533db6d704260216671b75d6">ALLOW_COPIED_DOUBLE_ELEMENTS</a>,
<a name="l01364"></a><a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3a86621d385fb5efa13640cd5504b6291b">01364</a>   <a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3a86621d385fb5efa13640cd5504b6291b">ALLOW_CONVERTED_DOUBLE_ELEMENTS</a>
<a name="l01365"></a>01365 };
<a name="l01366"></a>01366 
<a name="l01367"></a>01367 
<a name="l01368"></a>01368 <span class="comment">// Indicates whether a property should be set or (re)defined.  Setting of a</span>
<a name="l01369"></a>01369 <span class="comment">// property causes attributes to remain unchanged, writability to be checked</span>
<a name="l01370"></a>01370 <span class="comment">// and callbacks to be called.  Defining of a property causes attributes to</span>
<a name="l01371"></a>01371 <span class="comment">// be updated and callbacks to be overridden.</span>
<a name="l01372"></a><a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4">01372</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4">SetPropertyMode</a> {
<a name="l01373"></a><a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4a2915e7354f8cdf7d84dc08fa18f1ba62">01373</a>   <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4a2915e7354f8cdf7d84dc08fa18f1ba62">SET_PROPERTY</a>,
<a name="l01374"></a><a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4acc824110ab3406f6aed5235cd307850d">01374</a>   <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4acc824110ab3406f6aed5235cd307850d">DEFINE_PROPERTY</a>
<a name="l01375"></a>01375 };
<a name="l01376"></a>01376 
<a name="l01377"></a>01377 
<a name="l01378"></a>01378 <span class="comment">// Indicator for one component of an AccessorPair.</span>
<a name="l01379"></a><a class="code" href="namespacev8_1_1internal.html#adc34d4f8e7520b193a7d7143cb734744">01379</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#adc34d4f8e7520b193a7d7143cb734744">AccessorComponent</a> {
<a name="l01380"></a><a class="code" href="namespacev8_1_1internal.html#adc34d4f8e7520b193a7d7143cb734744a8fcc62a5b4d1ed80f829479712c29965">01380</a>   <a class="code" href="namespacev8_1_1internal.html#adc34d4f8e7520b193a7d7143cb734744a8fcc62a5b4d1ed80f829479712c29965">ACCESSOR_GETTER</a>,
<a name="l01381"></a><a class="code" href="namespacev8_1_1internal.html#adc34d4f8e7520b193a7d7143cb734744abd25995ca9ed13eebbe179f59eebc970">01381</a>   <a class="code" href="namespacev8_1_1internal.html#adc34d4f8e7520b193a7d7143cb734744abd25995ca9ed13eebbe179f59eebc970">ACCESSOR_SETTER</a>
<a name="l01382"></a>01382 };
<a name="l01383"></a>01383 
<a name="l01384"></a>01384 
<a name="l01385"></a>01385 <span class="comment">// JSReceiver includes types on which properties can be defined, i.e.,</span>
<a name="l01386"></a>01386 <span class="comment">// JSObject and JSProxy.</span>
<a name="l01387"></a><a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">01387</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l01388"></a>01388  <span class="keyword">public</span>:
<a name="l01389"></a><a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">01389</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> {
<a name="l01390"></a><a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559dbaa99a850d0b18f2d74eaed65a4fa63aae">01390</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559dbaa99a850d0b18f2d74eaed65a4fa63aae">NORMAL_DELETION</a>,
<a name="l01391"></a><a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559dbacbfc307f3c92ecbd0ae9b24f45df19b8">01391</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559dbacbfc307f3c92ecbd0ae9b24f45df19b8">STRICT_DELETION</a>,
<a name="l01392"></a><a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559dbab9f9c847b209b310e8df4e20e7b436d2">01392</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559dbab9f9c847b209b310e8df4e20e7b436d2">FORCE_DELETION</a>
<a name="l01393"></a>01393   };
<a name="l01394"></a>01394 
<a name="l01395"></a>01395   <span class="comment">// Casting.</span>
<a name="l01396"></a>01396   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a28254837ffdee036f7fecd653e6ef24f">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l01397"></a>01397 
<a name="l01398"></a>01398   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ae1b2a4a025dbcb278ec94e40865208a3">SetProperty</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSReceiver&gt;</a> <span class="keywordtype">object</span>,
<a name="l01399"></a>01399                                     <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> key,
<a name="l01400"></a>01400                                     <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> value,
<a name="l01401"></a>01401                                     <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01402"></a>01402                                     <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01403"></a>01403   <span class="comment">// Can cause GC.</span>
<a name="l01404"></a>01404   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ae1b2a4a025dbcb278ec94e40865208a3">SetProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key,
<a name="l01405"></a>01405                                            <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01406"></a>01406                                            <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01407"></a>01407                                            <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01408"></a>01408   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ae1b2a4a025dbcb278ec94e40865208a3">SetProperty</a>(LookupResult* result,
<a name="l01409"></a>01409                                            <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key,
<a name="l01410"></a>01410                                            <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01411"></a>01411                                            <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01412"></a>01412                                            <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01413"></a>01413   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a3acef561dfaf3ea69a04ed60e5d2a73c">SetPropertyWithDefinedSetter</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* setter,
<a name="l01414"></a>01414                                                             <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l01415"></a>01415 
<a name="l01416"></a>01416   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a63b909120342398cc4c7145dedbdcfcc">DeleteProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> mode);
<a name="l01417"></a>01417   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a2bdd3915681d2a9c00f5c1a33878de45">DeleteElement</a>(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> mode);
<a name="l01418"></a>01418 
<a name="l01419"></a>01419   <span class="comment">// Set the index&#39;th array element.</span>
<a name="l01420"></a>01420   <span class="comment">// Can cause GC, or return failure if GC is required.</span>
<a name="l01421"></a>01421   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#af1892f748b87a34b9453df4e346b923b">SetElement</a>(uint32_t index,
<a name="l01422"></a>01422                                           <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01423"></a>01423                                           <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01424"></a>01424                                           <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode,
<a name="l01425"></a>01425                                           <span class="keywordtype">bool</span> check_prototype);
<a name="l01426"></a>01426 
<a name="l01427"></a>01427   <span class="comment">// Tests for the fast common case for property enumeration.</span>
<a name="l01428"></a>01428   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a95f442910d5481782a70dcefefbae8b9">IsSimpleEnum</a>();
<a name="l01429"></a>01429 
<a name="l01430"></a>01430   <span class="comment">// Returns the class name ([[Class]] property in the specification).</span>
<a name="l01431"></a>01431   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a6a4858fbbc8e6daab429fc59c8b8d9a6">class_name</a>();
<a name="l01432"></a>01432 
<a name="l01433"></a>01433   <span class="comment">// Returns the constructor name (the name (possibly, inferred name) of the</span>
<a name="l01434"></a>01434   <span class="comment">// function that was used to instantiate the object).</span>
<a name="l01435"></a>01435   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a75022c49731d857f5d0fd1d47e782b56">constructor_name</a>();
<a name="l01436"></a>01436 
<a name="l01437"></a>01437   <span class="keyword">inline</span> <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a22db23a1a0fa4b80862a1a2660dc2d4b">GetPropertyAttribute</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l01438"></a>01438   <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a9b9455dd71e754ff064f1d38bf32b4e8">GetPropertyAttributeWithReceiver</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* receiver,
<a name="l01439"></a>01439                                                       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l01440"></a>01440   <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a8f17cabffffbe94fb866e72f764156b9">GetLocalPropertyAttribute</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l01441"></a>01441 
<a name="l01442"></a>01442   <span class="comment">// Can cause a GC.</span>
<a name="l01443"></a>01443   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ae6f7984f5968433ffcaaeef57517f139">HasProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l01444"></a>01444   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#afaf8d7f48e03f91a3188d026fc82d60b">HasLocalProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l01445"></a>01445   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#abbc35a5c9abb53ed29a49e13edf35ce9">HasElement</a>(uint32_t index);
<a name="l01446"></a>01446 
<a name="l01447"></a>01447   <span class="comment">// Return the object&#39;s prototype (might be Heap::null_value()).</span>
<a name="l01448"></a>01448   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a65a0a0a09f67bee90737c2a98ed94868">GetPrototype</a>();
<a name="l01449"></a>01449 
<a name="l01450"></a>01450   <span class="comment">// Set the object&#39;s prototype (only JSReceiver and null are allowed).</span>
<a name="l01451"></a>01451   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ae0e274ae6503c1fe313e35dbaac7f828">SetPrototype</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01452"></a>01452                                             <span class="keywordtype">bool</span> skip_hidden_prototypes);
<a name="l01453"></a>01453 
<a name="l01454"></a>01454   <span class="comment">// Retrieves a permanent object identity hash code. The undefined value might</span>
<a name="l01455"></a>01455   <span class="comment">// be returned in case no hash was created yet and OMIT_CREATION was used.</span>
<a name="l01456"></a>01456   <span class="keyword">inline</span> <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a8e62a382b8382eb0b7b4bbc71a713640">GetIdentityHash</a>(<a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6">CreationFlag</a> <a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>);
<a name="l01457"></a>01457 
<a name="l01458"></a>01458   <span class="comment">// Lookup a property.  If found, the result is valid and has</span>
<a name="l01459"></a>01459   <span class="comment">// detailed information.</span>
<a name="l01460"></a>01460   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a88cb8067bec8414cd601a54d471ac648">LocalLookup</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, LookupResult* result);
<a name="l01461"></a>01461   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a518909ac1fc3f186185ca43a3cac2a66">Lookup</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, LookupResult* result);
<a name="l01462"></a>01462 
<a name="l01463"></a>01463  <span class="keyword">protected</span>:
<a name="l01464"></a>01464   <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#adb2607a889b4b1dea89abd3753126221">GenerateIdentityHash</a>();
<a name="l01465"></a>01465 
<a name="l01466"></a>01466  <span class="keyword">private</span>:
<a name="l01467"></a>01467   <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#a22db23a1a0fa4b80862a1a2660dc2d4b">GetPropertyAttribute</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* receiver,
<a name="l01468"></a>01468                                           LookupResult* result,
<a name="l01469"></a>01469                                           <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>,
<a name="l01470"></a>01470                                           <span class="keywordtype">bool</span> continue_search);
<a name="l01471"></a>01471 
<a name="l01472"></a>01472   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>);
<a name="l01473"></a>01473 };
<a name="l01474"></a>01474 
<a name="l01475"></a>01475 <span class="comment">// The JSObject describes real heap allocated JavaScript objects with</span>
<a name="l01476"></a>01476 <span class="comment">// properties.</span>
<a name="l01477"></a>01477 <span class="comment">// Note that the map of JSObject changes during execution to enable inline</span>
<a name="l01478"></a>01478 <span class="comment">// caching.</span>
<a name="l01479"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html">01479</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a> {
<a name="l01480"></a>01480  <span class="keyword">public</span>:
<a name="l01481"></a>01481   <span class="comment">// [properties]: Backing storage for properties.</span>
<a name="l01482"></a>01482   <span class="comment">// properties is a FixedArray in the fast case and a Dictionary in the</span>
<a name="l01483"></a>01483   <span class="comment">// slow case.</span>
<a name="l01484"></a>01484   <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a3be9f7e9119117eb31285192385917cb">DECL_ACCESSORS</a>(properties, <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>)  <span class="comment">// Get and set fast properties.</span>
<a name="l01485"></a>01485   <span class="keyword">inline</span> <span class="keywordtype">void</span> initialize_properties();
<a name="l01486"></a>01486   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af61b8863230084ce2b6524a9194e9c2b">HasFastProperties</a>();
<a name="l01487"></a>01487   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string_dictionary.html">StringDictionary</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a56ac934ecb571e412b7c5cf3ba790948">property_dictionary</a>();  <span class="comment">// Gets slow properties.</span>
<a name="l01488"></a>01488 
<a name="l01489"></a>01489   <span class="comment">// [elements]: The elements (properties with names that are integers).</span>
<a name="l01490"></a>01490   <span class="comment">//</span>
<a name="l01491"></a>01491   <span class="comment">// Elements can be in two general modes: fast and slow. Each mode</span>
<a name="l01492"></a>01492   <span class="comment">// corrensponds to a set of object representations of elements that</span>
<a name="l01493"></a>01493   <span class="comment">// have something in common.</span>
<a name="l01494"></a>01494   <span class="comment">//</span>
<a name="l01495"></a>01495   <span class="comment">// In the fast mode elements is a FixedArray and so each element can</span>
<a name="l01496"></a>01496   <span class="comment">// be quickly accessed. This fact is used in the generated code. The</span>
<a name="l01497"></a>01497   <span class="comment">// elements array can have one of three maps in this mode:</span>
<a name="l01498"></a>01498   <span class="comment">// fixed_array_map, non_strict_arguments_elements_map or</span>
<a name="l01499"></a>01499   <span class="comment">// fixed_cow_array_map (for copy-on-write arrays). In the latter case</span>
<a name="l01500"></a>01500   <span class="comment">// the elements array may be shared by a few objects and so before</span>
<a name="l01501"></a>01501   <span class="comment">// writing to any element the array must be copied. Use</span>
<a name="l01502"></a>01502   <span class="comment">// EnsureWritableFastElements in this case.</span>
<a name="l01503"></a>01503   <span class="comment">//</span>
<a name="l01504"></a>01504   <span class="comment">// In the slow mode the elements is either a NumberDictionary, an</span>
<a name="l01505"></a>01505   <span class="comment">// ExternalArray, or a FixedArray parameter map for a (non-strict)</span>
<a name="l01506"></a>01506   <span class="comment">// arguments object.</span>
<a name="l01507"></a>01507   <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a3be9f7e9119117eb31285192385917cb">DECL_ACCESSORS</a>(elements, <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a>)
<a name="l01508"></a>01508   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a83339557af10b946ff90e16dbf35c27a">initialize_elements</a>();
<a name="l01509"></a>01509   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a1897248d10b1a33af63ad6ec32f31535">ResetElements</a>();
<a name="l01510"></a>01510   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ad5fd4f169b297912db619ab606aa2af9">GetElementsKind</a>();
<a name="l01511"></a>01511   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_elements_accessor.html">ElementsAccessor</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a64721eeac95d6da0cd947f4438fda365">GetElementsAccessor</a>();
<a name="l01512"></a>01512   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a97157b36c203120b7ac0102277a9ff31">HasFastSmiOnlyElements</a>();
<a name="l01513"></a>01513   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33a2b9a7252385b8deef2b33cc58be9d">HasFastElements</a>();
<a name="l01514"></a>01514   <span class="comment">// Returns if an object has either FAST_ELEMENT or FAST_SMI_ONLY_ELEMENT</span>
<a name="l01515"></a>01515   <span class="comment">// elements.  TODO(danno): Rename HasFastTypeElements to HasFastElements() and</span>
<a name="l01516"></a>01516   <span class="comment">// HasFastElements to HasFastObjectElements.</span>
<a name="l01517"></a>01517   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af2bc58cd84b2da90b7450fbc4f2c6054">HasFastTypeElements</a>();
<a name="l01518"></a>01518   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af1a3f63076d4210e9d18c6d219eac947">HasFastDoubleElements</a>();
<a name="l01519"></a>01519   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a02f19e431dc7c61f112940bd5374de4f">HasNonStrictArgumentsElements</a>();
<a name="l01520"></a>01520   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ada8e6aa6e71a160a5f3d8eb71983efcf">HasDictionaryElements</a>();
<a name="l01521"></a>01521   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6690ae95bc70744cc282603c8c05d6aa">HasExternalPixelElements</a>();
<a name="l01522"></a>01522   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af666f38030d0b547d7240032a4c4dbc0">HasExternalArrayElements</a>();
<a name="l01523"></a>01523   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a166ad1fa66d69aea491a4a28803d490e">HasExternalByteElements</a>();
<a name="l01524"></a>01524   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a986c5515b236937c811adde099cf3c06">HasExternalUnsignedByteElements</a>();
<a name="l01525"></a>01525   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a9c796b7b102e7ba11436155b32becbd8">HasExternalShortElements</a>();
<a name="l01526"></a>01526   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ab68b5567242f6359956d3f1f031d37e9">HasExternalUnsignedShortElements</a>();
<a name="l01527"></a>01527   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a16f6295d36e78da2b54aafbc69ef404a">HasExternalIntElements</a>();
<a name="l01528"></a>01528   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a2e05d135c81e80791a5bb2fb2642cbba">HasExternalUnsignedIntElements</a>();
<a name="l01529"></a>01529   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af0fcd58da0dcbdc9b6a044dc21823a44">HasExternalFloatElements</a>();
<a name="l01530"></a>01530   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a9d1118d9c519b7bf04c4a2384c78c98e">HasExternalDoubleElements</a>();
<a name="l01531"></a>01531   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a031cd99f5593e0624d6e4010b8e7ba95">HasFastArgumentsElements</a>();
<a name="l01532"></a>01532   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a1f7c29612c681ca5528fedd718b1910b">HasDictionaryArgumentsElements</a>();
<a name="l01533"></a>01533   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html">SeededNumberDictionary</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a489f0070216571aa2f39a33032186d27">element_dictionary</a>();  <span class="comment">// Gets slow elements.</span>
<a name="l01534"></a>01534 
<a name="l01535"></a>01535   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af345b9de07a9c454a9b04fa3f71a3fc2">set_map_and_elements</a>(
<a name="l01536"></a>01536       <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#adb4fe930ff2cca856204810cbb456ac3">map</a>,
<a name="l01537"></a>01537       <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a>* value,
<a name="l01538"></a>01538       <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">WriteBarrierMode</a> mode = <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);
<a name="l01539"></a>01539 
<a name="l01540"></a>01540   <span class="comment">// Requires: HasFastElements().</span>
<a name="l01541"></a>01541   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a4e195fbae547a57fe83b349e407898b6">EnsureWritableFastElements</a>();
<a name="l01542"></a>01542 
<a name="l01543"></a>01543   <span class="comment">// Collects elements starting at index 0.</span>
<a name="l01544"></a>01544   <span class="comment">// Undefined values are placed after non-undefined values.</span>
<a name="l01545"></a>01545   <span class="comment">// Returns the number of non-undefined values.</span>
<a name="l01546"></a>01546   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a924b6d89b27ffa013a3d712fea1f1d26">PrepareElementsForSort</a>(uint32_t limit);
<a name="l01547"></a>01547   <span class="comment">// As PrepareElementsForSort, but only on objects where elements is</span>
<a name="l01548"></a>01548   <span class="comment">// a dictionary, and it will stay a dictionary.</span>
<a name="l01549"></a>01549   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a524dadcd665d40dbfa1b4e2f1f484356">PrepareSlowElementsForSort</a>(uint32_t limit);
<a name="l01550"></a>01550 
<a name="l01551"></a>01551   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a06d78121b66bf74e082d36dd8fab5782">GetPropertyWithCallback</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* receiver,
<a name="l01552"></a>01552                                                        <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* structure,
<a name="l01553"></a>01553                                                        <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l01554"></a>01554 
<a name="l01555"></a>01555   <span class="comment">// Can cause GC.</span>
<a name="l01556"></a>01556   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ac5dda3e60520e93675e083d3fe9cc0ce">SetPropertyForResult</a>(LookupResult* result,
<a name="l01557"></a>01557                                            <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key,
<a name="l01558"></a>01558                                            <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01559"></a>01559                                            <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01560"></a>01560                                            <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01561"></a>01561   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a5145f9c425eebcedf1f07b83e55d3e3e">SetPropertyWithFailedAccessCheck</a>(
<a name="l01562"></a>01562       LookupResult* result,
<a name="l01563"></a>01563       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01564"></a>01564       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01565"></a>01565       <span class="keywordtype">bool</span> check_prototype,
<a name="l01566"></a>01566       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01567"></a>01567   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a8c8984db825aa2ac945b1937134e3e26">SetPropertyWithCallback</a>(
<a name="l01568"></a>01568       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* structure,
<a name="l01569"></a>01569       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01570"></a>01570       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01571"></a>01571       <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>* holder,
<a name="l01572"></a>01572       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01573"></a>01573   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aebf20e0806354328eddb5ee1bf5bdad5">SetPropertyWithInterceptor</a>(
<a name="l01574"></a>01574       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01575"></a>01575       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01576"></a>01576       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01577"></a>01577       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01578"></a>01578   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a015993b2b567fded494b4b41a8055d87">SetPropertyPostInterceptor</a>(
<a name="l01579"></a>01579       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01580"></a>01580       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01581"></a>01581       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01582"></a>01582       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01583"></a>01583 
<a name="l01584"></a>01584   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af4c6df39d70a00c5519cc43ddfa6f97d">SetLocalPropertyIgnoreAttributes</a>(
<a name="l01585"></a>01585       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01586"></a>01586       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> key,
<a name="l01587"></a>01587       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> value,
<a name="l01588"></a>01588       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01589"></a>01589 
<a name="l01590"></a>01590   <span class="comment">// Can cause GC.</span>
<a name="l01591"></a>01591   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af4c6df39d70a00c5519cc43ddfa6f97d">SetLocalPropertyIgnoreAttributes</a>(
<a name="l01592"></a>01592       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key,
<a name="l01593"></a>01593       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01594"></a>01594       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01595"></a>01595 
<a name="l01596"></a>01596   <span class="comment">// Retrieve a value in a normalized object given a lookup result.</span>
<a name="l01597"></a>01597   <span class="comment">// Handles the special representation of JS global objects.</span>
<a name="l01598"></a>01598   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a86b97f7c1a00b06dd2b034605c788b00">GetNormalizedProperty</a>(LookupResult* result);
<a name="l01599"></a>01599 
<a name="l01600"></a>01600   <span class="comment">// Sets the property value in a normalized object given a lookup result.</span>
<a name="l01601"></a>01601   <span class="comment">// Handles the special representation of JS global objects.</span>
<a name="l01602"></a>01602   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ab380d03449e7f7e644d41f9bbc625c8b">SetNormalizedProperty</a>(LookupResult* result, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l01603"></a>01603 
<a name="l01604"></a>01604   <span class="comment">// Sets the property value in a normalized object given (key, value, details).</span>
<a name="l01605"></a>01605   <span class="comment">// Handles the special representation of JS global objects.</span>
<a name="l01606"></a>01606   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ab380d03449e7f7e644d41f9bbc625c8b">SetNormalizedProperty</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01607"></a>01607                                               <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> key,
<a name="l01608"></a>01608                                               <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> value,
<a name="l01609"></a>01609                                               PropertyDetails details);
<a name="l01610"></a>01610 
<a name="l01611"></a>01611   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ab380d03449e7f7e644d41f9bbc625c8b">SetNormalizedProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01612"></a>01612                                                      <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01613"></a>01613                                                      PropertyDetails details);
<a name="l01614"></a>01614 
<a name="l01615"></a>01615   <span class="comment">// Deletes the named property in a normalized object.</span>
<a name="l01616"></a>01616   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a1ea17fd58269772cbdf77eaf83091aca">DeleteNormalizedProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01617"></a>01617                                                         <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> mode);
<a name="l01618"></a>01618 
<a name="l01619"></a>01619   <span class="comment">// Retrieve interceptors.</span>
<a name="l01620"></a>01620   <a class="code" href="classv8_1_1internal_1_1_interceptor_info.html">InterceptorInfo</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ac9430ceda4c1a2f280f7f42f880932df">GetNamedInterceptor</a>();
<a name="l01621"></a>01621   <a class="code" href="classv8_1_1internal_1_1_interceptor_info.html">InterceptorInfo</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#adb75ea2e8282ab687cee0d13b3728460">GetIndexedInterceptor</a>();
<a name="l01622"></a>01622 
<a name="l01623"></a>01623   <span class="comment">// Used from JSReceiver.</span>
<a name="l01624"></a>01624   <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#acdf1625909fb2baa27baf0d8872d0494">GetPropertyAttributePostInterceptor</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>* receiver,
<a name="l01625"></a>01625                                                          <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01626"></a>01626                                                          <span class="keywordtype">bool</span> continue_search);
<a name="l01627"></a>01627   <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a606b2c4d7c17b3bc5b4b95279af4bc4e">GetPropertyAttributeWithInterceptor</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>* receiver,
<a name="l01628"></a>01628                                                          <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01629"></a>01629                                                          <span class="keywordtype">bool</span> continue_search);
<a name="l01630"></a>01630   <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a5430556e7785b0584c6efb1360fb73af">GetPropertyAttributeWithFailedAccessCheck</a>(
<a name="l01631"></a>01631       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* receiver,
<a name="l01632"></a>01632       LookupResult* result,
<a name="l01633"></a>01633       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01634"></a>01634       <span class="keywordtype">bool</span> continue_search);
<a name="l01635"></a>01635 
<a name="l01636"></a>01636   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa44054e9e13fc22193c1271e909f5f58">DefineAccessor</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01637"></a>01637                              <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> name,
<a name="l01638"></a>01638                              <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> getter,
<a name="l01639"></a>01639                              <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> setter,
<a name="l01640"></a>01640                              <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01641"></a>01641   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa44054e9e13fc22193c1271e909f5f58">DefineAccessor</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01642"></a>01642                                               <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* getter,
<a name="l01643"></a>01643                                               <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* setter,
<a name="l01644"></a>01644                                               <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01645"></a>01645   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a4f95dc392374df955e9089b5ce877d71">LookupAccessor</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="namespacev8_1_1internal.html#adc34d4f8e7520b193a7d7143cb734744">AccessorComponent</a> component);
<a name="l01646"></a>01646 
<a name="l01647"></a>01647   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa44054e9e13fc22193c1271e909f5f58">DefineAccessor</a>(<a class="code" href="classv8_1_1internal_1_1_accessor_info.html">AccessorInfo</a>* info);
<a name="l01648"></a>01648 
<a name="l01649"></a>01649   <span class="comment">// Used from Object::GetProperty().</span>
<a name="l01650"></a>01650   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa8e38ef9eedf01042528bc953a81f046">GetPropertyWithFailedAccessCheck</a>(
<a name="l01651"></a>01651       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* receiver,
<a name="l01652"></a>01652       LookupResult* result,
<a name="l01653"></a>01653       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01654"></a>01654       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a>* attributes);
<a name="l01655"></a>01655   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a57b189e85d4b2d337d1e629a9bb71259">GetPropertyWithInterceptor</a>(
<a name="l01656"></a>01656       <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* receiver,
<a name="l01657"></a>01657       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01658"></a>01658       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a>* attributes);
<a name="l01659"></a>01659   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a16f90a5a493ddd903ffa584aa7ec686f">GetPropertyPostInterceptor</a>(
<a name="l01660"></a>01660       <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* receiver,
<a name="l01661"></a>01661       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01662"></a>01662       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a>* attributes);
<a name="l01663"></a>01663   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a2bd05f2c680d7172965b8b9a8f38df84">GetLocalPropertyPostInterceptor</a>(
<a name="l01664"></a>01664       <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* receiver,
<a name="l01665"></a>01665       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01666"></a>01666       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a>* attributes);
<a name="l01667"></a>01667 
<a name="l01668"></a>01668   <span class="comment">// Returns true if this is an instance of an api function and has</span>
<a name="l01669"></a>01669   <span class="comment">// been modified since it was created.  May give false positives.</span>
<a name="l01670"></a>01670   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a492a35d8e581cb07b49e71a5f5ad5f06">IsDirty</a>();
<a name="l01671"></a>01671 
<a name="l01672"></a>01672   <span class="comment">// If the receiver is a JSGlobalProxy this method will return its prototype,</span>
<a name="l01673"></a>01673   <span class="comment">// otherwise the result is the receiver itself.</span>
<a name="l01674"></a>01674   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#addb3ce38bad76a80fff69bfa4188a2f8">BypassGlobalProxy</a>();
<a name="l01675"></a>01675 
<a name="l01676"></a>01676   <span class="comment">// Accessors for hidden properties object.</span>
<a name="l01677"></a>01677   <span class="comment">//</span>
<a name="l01678"></a>01678   <span class="comment">// Hidden properties are not local properties of the object itself.</span>
<a name="l01679"></a>01679   <span class="comment">// Instead they are stored in an auxiliary structure kept as a local</span>
<a name="l01680"></a>01680   <span class="comment">// property with a special name Heap::hidden_symbol(). But if the</span>
<a name="l01681"></a>01681   <span class="comment">// receiver is a JSGlobalProxy then the auxiliary object is a property</span>
<a name="l01682"></a>01682   <span class="comment">// of its prototype, and if it&#39;s a detached proxy, then you can&#39;t have</span>
<a name="l01683"></a>01683   <span class="comment">// hidden properties.</span>
<a name="l01684"></a>01684 
<a name="l01685"></a>01685   <span class="comment">// Sets a hidden property on this object. Returns this object if successful,</span>
<a name="l01686"></a>01686   <span class="comment">// undefined if called on a detached proxy.</span>
<a name="l01687"></a>01687   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a35fa5b5fecb6661fa2a25280141fbadb">SetHiddenProperty</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> obj,
<a name="l01688"></a>01688                                           <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> key,
<a name="l01689"></a>01689                                           <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> value);
<a name="l01690"></a>01690   <span class="comment">// Returns a failure if a GC is required.</span>
<a name="l01691"></a>01691   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a35fa5b5fecb6661fa2a25280141fbadb">SetHiddenProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l01692"></a>01692   <span class="comment">// Gets the value of a hidden property with the given key. Returns undefined</span>
<a name="l01693"></a>01693   <span class="comment">// if the property doesn&#39;t exist (or if called on a detached proxy),</span>
<a name="l01694"></a>01694   <span class="comment">// otherwise returns the value set for the key.</span>
<a name="l01695"></a>01695   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a8c896856b43ffff89989777d73c0f545">GetHiddenProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key);
<a name="l01696"></a>01696   <span class="comment">// Deletes a hidden property. Deleting a non-existing property is</span>
<a name="l01697"></a>01697   <span class="comment">// considered successful.</span>
<a name="l01698"></a>01698   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a376ca81e5e3a02a6e19bc8da91ea0a60">DeleteHiddenProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key);
<a name="l01699"></a>01699   <span class="comment">// Returns true if the object has a property with the hidden symbol as name.</span>
<a name="l01700"></a>01700   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a749b83d51db87599690780f6a494af84">HasHiddenProperties</a>();
<a name="l01701"></a>01701 
<a name="l01702"></a>01702   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a0b083ac423dad12c4b66a869d422ea82">GetIdentityHash</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> obj);
<a name="l01703"></a>01703   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a0b083ac423dad12c4b66a869d422ea82">GetIdentityHash</a>(<a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6">CreationFlag</a> <a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>);
<a name="l01704"></a>01704   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a18dba95954357f36420b84900673697a">SetIdentityHash</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* hash, <a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6">CreationFlag</a> flag);
<a name="l01705"></a>01705 
<a name="l01706"></a>01706   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6b2317cf4ab30e0a50a0850e4c643ba2">DeleteProperty</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> obj,
<a name="l01707"></a>01707                                        <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> name);
<a name="l01708"></a>01708   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6b2317cf4ab30e0a50a0850e4c643ba2">DeleteProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> mode);
<a name="l01709"></a>01709 
<a name="l01710"></a>01710   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ac0ad5a0ed5090bbdebf2febad949fa60">DeleteElement</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> obj, uint32_t index);
<a name="l01711"></a>01711   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ac0ad5a0ed5090bbdebf2febad949fa60">DeleteElement</a>(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> mode);
<a name="l01712"></a>01712 
<a name="l01713"></a>01713   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a3cca0fc7c4656b7fc0c3ede10c8789d3">ValidateSmiOnlyElements</a>();
<a name="l01714"></a>01714 
<a name="l01715"></a>01715   <span class="comment">// Makes sure that this object can contain HeapObject as elements.</span>
<a name="l01716"></a>01716   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a28bf0f706a48126f61d79bd2d88e95ad">EnsureCanContainHeapObjectElements</a>();
<a name="l01717"></a>01717 
<a name="l01718"></a>01718   <span class="comment">// Makes sure that this object can contain the specified elements.</span>
<a name="l01719"></a>01719   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a7869e4da46f80484c6ba4d1c94ff131b">EnsureCanContainElements</a>(
<a name="l01720"></a>01720       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** elements,
<a name="l01721"></a>01721       uint32_t count,
<a name="l01722"></a>01722       <a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3">EnsureElementsMode</a> mode);
<a name="l01723"></a>01723   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a7869e4da46f80484c6ba4d1c94ff131b">EnsureCanContainElements</a>(
<a name="l01724"></a>01724       <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a>* elements,
<a name="l01725"></a>01725       <a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3">EnsureElementsMode</a> mode);
<a name="l01726"></a>01726   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a7869e4da46f80484c6ba4d1c94ff131b">EnsureCanContainElements</a>(
<a name="l01727"></a>01727       <a class="code" href="classv8_1_1_arguments.html">Arguments</a>* arguments,
<a name="l01728"></a>01728       uint32_t first_arg,
<a name="l01729"></a>01729       uint32_t arg_count,
<a name="l01730"></a>01730       <a class="code" href="namespacev8_1_1internal.html#a031f18fd7db32448a09f4d8e365fdcd3">EnsureElementsMode</a> mode);
<a name="l01731"></a>01731 
<a name="l01732"></a>01732   <span class="comment">// Do we want to keep the elements in fast case when increasing the</span>
<a name="l01733"></a>01733   <span class="comment">// capacity?</span>
<a name="l01734"></a>01734   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aeeab9d2d854e6fa66a9290f8118a18d9">ShouldConvertToSlowElements</a>(<span class="keywordtype">int</span> new_capacity);
<a name="l01735"></a>01735   <span class="comment">// Returns true if the backing storage for the slow-case elements of</span>
<a name="l01736"></a>01736   <span class="comment">// this object takes up nearly as much space as a fast-case backing</span>
<a name="l01737"></a>01737   <span class="comment">// storage would.  In that case the JSObject should have fast</span>
<a name="l01738"></a>01738   <span class="comment">// elements.</span>
<a name="l01739"></a>01739   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#afcf170ee20c58bf9126c94be63761270">ShouldConvertToFastElements</a>();
<a name="l01740"></a>01740   <span class="comment">// Returns true if the elements of JSObject contains only values that can be</span>
<a name="l01741"></a>01741   <span class="comment">// represented in a FixedDoubleArray and has at least one value that can only</span>
<a name="l01742"></a>01742   <span class="comment">// be represented as a double and not a Smi.</span>
<a name="l01743"></a>01743   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aec1ae3be406bbc920e0aa4b5f4bf0c6b">ShouldConvertToFastDoubleElements</a>(<span class="keywordtype">bool</span>* has_smi_only_elements);
<a name="l01744"></a>01744 
<a name="l01745"></a>01745   <span class="comment">// Tells whether the index&#39;th element is present.</span>
<a name="l01746"></a>01746   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#acfedce007e3e01dfdc18fbf9921adb16">HasElementWithReceiver</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* receiver, uint32_t index);
<a name="l01747"></a>01747 
<a name="l01748"></a>01748   <span class="comment">// Computes the new capacity when expanding the elements of a JSObject.</span>
<a name="l01749"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a9509ba3f8009eefa3b7ebbeec07e3633">01749</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a9509ba3f8009eefa3b7ebbeec07e3633">NewElementsCapacity</a>(<span class="keywordtype">int</span> old_capacity) {
<a name="l01750"></a>01750     <span class="comment">// (old_capacity + 50%) + 16</span>
<a name="l01751"></a>01751     <span class="keywordflow">return</span> old_capacity + (old_capacity &gt;&gt; 1) + 16;
<a name="l01752"></a>01752   }
<a name="l01753"></a>01753 
<a name="l01754"></a>01754   <span class="comment">// Tells whether the index&#39;th element is present and how it is stored.</span>
<a name="l01755"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69">01755</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69">LocalElementType</a> {
<a name="l01756"></a>01756     <span class="comment">// There is no element with given index.</span>
<a name="l01757"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69abf87c157b3afb03b1c5cda5f20fe380c">01757</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69abf87c157b3afb03b1c5cda5f20fe380c">UNDEFINED_ELEMENT</a>,
<a name="l01758"></a>01758 
<a name="l01759"></a>01759     <span class="comment">// Element with given index is handled by interceptor.</span>
<a name="l01760"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69a6ebecd315f4c8c61a95897b05d1e2098">01760</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69a6ebecd315f4c8c61a95897b05d1e2098">INTERCEPTED_ELEMENT</a>,
<a name="l01761"></a>01761 
<a name="l01762"></a>01762     <span class="comment">// Element with given index is character in string.</span>
<a name="l01763"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69a9d1e286694bb4df9fc6c308627806bce">01763</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69a9d1e286694bb4df9fc6c308627806bce">STRING_CHARACTER_ELEMENT</a>,
<a name="l01764"></a>01764 
<a name="l01765"></a>01765     <span class="comment">// Element with given index is stored in fast backing store.</span>
<a name="l01766"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69a8ba16decc3db4f46562f5a12ec83b3ea">01766</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69a8ba16decc3db4f46562f5a12ec83b3ea">FAST_ELEMENT</a>,
<a name="l01767"></a>01767 
<a name="l01768"></a>01768     <span class="comment">// Element with given index is stored in slow backing store.</span>
<a name="l01769"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69a302698740251a629f2af7499e9d04aad">01769</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69a302698740251a629f2af7499e9d04aad">DICTIONARY_ELEMENT</a>
<a name="l01770"></a>01770   };
<a name="l01771"></a>01771 
<a name="l01772"></a>01772   <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a33e634882b59fa3e664d050ab1d15d69">LocalElementType</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a669796c3c4752f04d5b974b08562b888">HasLocalElement</a>(uint32_t index);
<a name="l01773"></a>01773 
<a name="l01774"></a>01774   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a312790afe350789f5dc607ee503e2dfb">HasElementWithInterceptor</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* receiver, uint32_t index);
<a name="l01775"></a>01775 
<a name="l01776"></a>01776   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#acaa926efa15f4e0ed9e94bf6d185eb50">SetFastElement</a>(uint32_t index,
<a name="l01777"></a>01777                                               <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01778"></a>01778                                               <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode,
<a name="l01779"></a>01779                                               <span class="keywordtype">bool</span> check_prototype);
<a name="l01780"></a>01780 
<a name="l01781"></a>01781   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ae01432c5f8e0e59b3e5553f20e4ac143">SetDictionaryElement</a>(
<a name="l01782"></a>01782       uint32_t index,
<a name="l01783"></a>01783       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01784"></a>01784       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01785"></a>01785       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode,
<a name="l01786"></a>01786       <span class="keywordtype">bool</span> check_prototype,
<a name="l01787"></a>01787       <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4">SetPropertyMode</a> set_mode = <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4a2915e7354f8cdf7d84dc08fa18f1ba62">SET_PROPERTY</a>);
<a name="l01788"></a>01788 
<a name="l01789"></a>01789   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a7a76bb049a8a17d8b7c792f6de28616b">SetFastDoubleElement</a>(
<a name="l01790"></a>01790       uint32_t index,
<a name="l01791"></a>01791       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01792"></a>01792       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode,
<a name="l01793"></a>01793       <span class="keywordtype">bool</span> check_prototype = <span class="keyword">true</span>);
<a name="l01794"></a>01794 
<a name="l01795"></a>01795   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6105f216117df9ba5cdbac51100bc8ef">SetOwnElement</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01796"></a>01796                                       uint32_t index,
<a name="l01797"></a>01797                                       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> value,
<a name="l01798"></a>01798                                       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01799"></a>01799 
<a name="l01800"></a>01800   <span class="comment">// Empty handle is returned if the element cannot be set to the given value.</span>
<a name="l01801"></a>01801   <span class="keyword">static</span> <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a2fcd679f1fedd9ca4badbbd265840d38">SetElement</a>(
<a name="l01802"></a>01802       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01803"></a>01803       uint32_t index,
<a name="l01804"></a>01804       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> value,
<a name="l01805"></a>01805       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attr,
<a name="l01806"></a>01806       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode,
<a name="l01807"></a>01807       <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4">SetPropertyMode</a> set_mode = <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4a2915e7354f8cdf7d84dc08fa18f1ba62">SET_PROPERTY</a>);
<a name="l01808"></a>01808 
<a name="l01809"></a>01809   <span class="comment">// A Failure object is returned if GC is needed.</span>
<a name="l01810"></a>01810   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a2fcd679f1fedd9ca4badbbd265840d38">SetElement</a>(
<a name="l01811"></a>01811       uint32_t index,
<a name="l01812"></a>01812       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01813"></a>01813       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01814"></a>01814       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode,
<a name="l01815"></a>01815       <span class="keywordtype">bool</span> check_prototype = <span class="keyword">true</span>,
<a name="l01816"></a>01816       <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4">SetPropertyMode</a> set_mode = <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4a2915e7354f8cdf7d84dc08fa18f1ba62">SET_PROPERTY</a>);
<a name="l01817"></a>01817 
<a name="l01818"></a>01818   <span class="comment">// Returns the index&#39;th element.</span>
<a name="l01819"></a>01819   <span class="comment">// The undefined object if index is out of bounds.</span>
<a name="l01820"></a>01820   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ab988a1a091033a8d43742801af514f7b">GetElementWithInterceptor</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* receiver,
<a name="l01821"></a>01821                                                          uint32_t index);
<a name="l01822"></a>01822 
<a name="l01823"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af86677db65c8e96fc39e7a59722ae8d9">01823</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af86677db65c8e96fc39e7a59722ae8d9">SetFastElementsCapacityMode</a> {
<a name="l01824"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af86677db65c8e96fc39e7a59722ae8d9a6e61425f73011d18916f24528e09aca6">01824</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af86677db65c8e96fc39e7a59722ae8d9a6e61425f73011d18916f24528e09aca6">kAllowSmiOnlyElements</a>,
<a name="l01825"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af86677db65c8e96fc39e7a59722ae8d9a6268908f3f54e03e37c102e228d1a65c">01825</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af86677db65c8e96fc39e7a59722ae8d9a6268908f3f54e03e37c102e228d1a65c">kForceSmiOnlyElements</a>,
<a name="l01826"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af86677db65c8e96fc39e7a59722ae8d9a2157bebd9d0746359980da3bde0b8bd4">01826</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af86677db65c8e96fc39e7a59722ae8d9a2157bebd9d0746359980da3bde0b8bd4">kDontAllowSmiOnlyElements</a>
<a name="l01827"></a>01827   };
<a name="l01828"></a>01828 
<a name="l01829"></a>01829   <span class="comment">// Replace the elements&#39; backing store with fast elements of the given</span>
<a name="l01830"></a>01830   <span class="comment">// capacity.  Update the length for JSArrays.  Returns the new backing</span>
<a name="l01831"></a>01831   <span class="comment">// store.</span>
<a name="l01832"></a>01832   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aeb2817596ba87f439e0bf60d36ebf480">SetFastElementsCapacityAndLength</a>(
<a name="l01833"></a>01833       <span class="keywordtype">int</span> capacity,
<a name="l01834"></a>01834       <span class="keywordtype">int</span> length,
<a name="l01835"></a>01835       <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af86677db65c8e96fc39e7a59722ae8d9">SetFastElementsCapacityMode</a> set_capacity_mode);
<a name="l01836"></a>01836   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a9f55d578d30b79a2116e67977795ba86">SetFastDoubleElementsCapacityAndLength</a>(
<a name="l01837"></a>01837       <span class="keywordtype">int</span> capacity,
<a name="l01838"></a>01838       <span class="keywordtype">int</span> length);
<a name="l01839"></a>01839 
<a name="l01840"></a>01840   <span class="comment">// Lookup interceptors are used for handling properties controlled by host</span>
<a name="l01841"></a>01841   <span class="comment">// objects.</span>
<a name="l01842"></a>01842   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af5795c536f1a3bd8ab8316eeeee7d3e6">HasNamedInterceptor</a>();
<a name="l01843"></a>01843   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a21b64937063c2e27ea362cb38cf50980">HasIndexedInterceptor</a>();
<a name="l01844"></a>01844 
<a name="l01845"></a>01845   <span class="comment">// Support functions for v8 api (needed for correct interceptor behavior).</span>
<a name="l01846"></a>01846   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a2f7634f95a787c07865533b254d06963">HasRealNamedProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key);
<a name="l01847"></a>01847   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6e12646070e60e2f78e00693af0b0baf">HasRealElementProperty</a>(uint32_t index);
<a name="l01848"></a>01848   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a3dcec95ed80904e4e3e5cd806625e7eb">HasRealNamedCallbackProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key);
<a name="l01849"></a>01849 
<a name="l01850"></a>01850   <span class="comment">// Get the header size for a JSObject.  Used to compute the index of</span>
<a name="l01851"></a>01851   <span class="comment">// internal fields as well as the number of internal fields.</span>
<a name="l01852"></a>01852   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ab5c9687d52aada4fafd5ccb38f9f3770">GetHeaderSize</a>();
<a name="l01853"></a>01853 
<a name="l01854"></a>01854   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a95f7f29627e97c31b63a1942ad6c6a18">GetInternalFieldCount</a>();
<a name="l01855"></a>01855   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#acfeeb19a5a6d83442b186ae22977dc44">GetInternalFieldOffset</a>(<span class="keywordtype">int</span> index);
<a name="l01856"></a>01856   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa2f48f9339b6ffda374a20c712c11d21">GetInternalField</a>(<span class="keywordtype">int</span> index);
<a name="l01857"></a>01857   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6ef9447688a792e1bba0b22a5ea490f9">SetInternalField</a>(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l01858"></a>01858   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6ef9447688a792e1bba0b22a5ea490f9">SetInternalField</a>(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* value);
<a name="l01859"></a>01859 
<a name="l01860"></a>01860   <span class="comment">// The following lookup functions skip interceptors.</span>
<a name="l01861"></a>01861   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a335cd590cdf337dbf3b463bef7532ac5">LocalLookupRealNamedProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, LookupResult* result);
<a name="l01862"></a>01862   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#adada10c2024e572060b92034abd1fd9f">LookupRealNamedProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, LookupResult* result);
<a name="l01863"></a>01863   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ae37d32d5aca8c0dbf034ef1586422727">LookupRealNamedPropertyInPrototypes</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, LookupResult* result);
<a name="l01864"></a>01864   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ae707c0fa5fdafc13215bca7e2700d53c">LookupCallbackSetterInPrototypes</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, LookupResult* result);
<a name="l01865"></a>01865   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af8aaf5141da9a9fd1a51d36ff334ec26">SetElementWithCallbackSetterInPrototypes</a>(
<a name="l01866"></a>01866       uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value, <span class="keywordtype">bool</span>* found, <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01867"></a>01867   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aee817dff7b28694a8c45db434628fee0">LookupCallback</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, LookupResult* result);
<a name="l01868"></a>01868 
<a name="l01869"></a>01869   <span class="comment">// Returns the number of properties on this object filtering out properties</span>
<a name="l01870"></a>01870   <span class="comment">// with the specified attributes (ignoring interceptors).</span>
<a name="l01871"></a>01871   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6d183a39e3b3804cec277b0d77280aa9">NumberOfLocalProperties</a>(<a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> filter = <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a>);
<a name="l01872"></a>01872   <span class="comment">// Fill in details for properties into storage starting at the specified</span>
<a name="l01873"></a>01873   <span class="comment">// index.</span>
<a name="l01874"></a>01874   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6f2c2139e93fbf08f5663d0639632c48">GetLocalPropertyNames</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* storage, <span class="keywordtype">int</span> index);
<a name="l01875"></a>01875 
<a name="l01876"></a>01876   <span class="comment">// Returns the number of properties on this object filtering out properties</span>
<a name="l01877"></a>01877   <span class="comment">// with the specified attributes (ignoring interceptors).</span>
<a name="l01878"></a>01878   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a36888cec298b111c47f39141da1c508b">NumberOfLocalElements</a>(<a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> filter);
<a name="l01879"></a>01879   <span class="comment">// Returns the number of enumerable elements (ignoring interceptors).</span>
<a name="l01880"></a>01880   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a1cb0fec98204e495fef5e6b18fa143b6">NumberOfEnumElements</a>();
<a name="l01881"></a>01881   <span class="comment">// Returns the number of elements on this object filtering out elements</span>
<a name="l01882"></a>01882   <span class="comment">// with the specified attributes (ignoring interceptors).</span>
<a name="l01883"></a>01883   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ab3ce9980ef0a443142d384bf6a108c35">GetLocalElementKeys</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* storage, <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> filter);
<a name="l01884"></a>01884   <span class="comment">// Count and fill in the enumerable elements into storage.</span>
<a name="l01885"></a>01885   <span class="comment">// (storage-&gt;length() == NumberOfEnumElements()).</span>
<a name="l01886"></a>01886   <span class="comment">// If storage is NULL, will count the elements without adding</span>
<a name="l01887"></a>01887   <span class="comment">// them to any storage.</span>
<a name="l01888"></a>01888   <span class="comment">// Returns the number of enumerable elements.</span>
<a name="l01889"></a>01889   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a1c8e8f30739012933622e0817eadf006">GetEnumElementKeys</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* storage);
<a name="l01890"></a>01890 
<a name="l01891"></a>01891   <span class="comment">// Add a property to a fast-case object using a map transition to</span>
<a name="l01892"></a>01892   <span class="comment">// new_map.</span>
<a name="l01893"></a>01893   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a67b394c99fc2004257b3c93c33c24e50">AddFastPropertyUsingMap</a>(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* new_map,
<a name="l01894"></a>01894                                                        <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01895"></a>01895                                                        <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l01896"></a>01896 
<a name="l01897"></a>01897   <span class="comment">// Add a constant function property to a fast-case object.</span>
<a name="l01898"></a>01898   <span class="comment">// This leaves a CONSTANT_TRANSITION in the old map, and</span>
<a name="l01899"></a>01899   <span class="comment">// if it is called on a second object with this map, a</span>
<a name="l01900"></a>01900   <span class="comment">// normal property is added instead, with a map transition.</span>
<a name="l01901"></a>01901   <span class="comment">// This avoids the creation of many maps with the same constant</span>
<a name="l01902"></a>01902   <span class="comment">// function, all orphaned.</span>
<a name="l01903"></a>01903   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a412a7c4703f01dc102f689c6ba068f18">AddConstantFunctionProperty</a>(
<a name="l01904"></a>01904       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01905"></a>01905       <a class="code" href="classv8_1_1internal_1_1_j_s_function.html">JSFunction</a>* <span class="keyword">function</span>,
<a name="l01906"></a>01906       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01907"></a>01907 
<a name="l01908"></a>01908   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a3bfa3eddf0be2b4ab3437ea7fa5e8c53">ReplaceSlowProperty</a>(
<a name="l01909"></a>01909       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01910"></a>01910       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01911"></a>01911       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01912"></a>01912 
<a name="l01913"></a>01913   <span class="comment">// Returns a new map with all transitions dropped from the object&#39;s current</span>
<a name="l01914"></a>01914   <span class="comment">// map and the ElementsKind set.</span>
<a name="l01915"></a>01915   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a97f098221e983f00c111222572171de4">GetElementsTransitionMap</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01916"></a>01916                                               <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> to_kind);
<a name="l01917"></a>01917   <span class="keyword">inline</span> <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a97f098221e983f00c111222572171de4">GetElementsTransitionMap</a>(
<a name="l01918"></a>01918       <a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate,
<a name="l01919"></a>01919       <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> elements_kind);
<a name="l01920"></a>01920   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#abc1b75dcf9eb1cc0d2468c1d0a2e065d">GetElementsTransitionMapSlow</a>(
<a name="l01921"></a>01921       <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> elements_kind);
<a name="l01922"></a>01922 
<a name="l01923"></a>01923   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a28551190683e813f2967ef0c535aff5f">TransitionElementsKind</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01924"></a>01924                                                <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> to_kind);
<a name="l01925"></a>01925 
<a name="l01926"></a>01926   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a28551190683e813f2967ef0c535aff5f">TransitionElementsKind</a>(<a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> to_kind);
<a name="l01927"></a>01927 
<a name="l01928"></a>01928   <span class="comment">// Converts a descriptor of any other type to a real field,</span>
<a name="l01929"></a>01929   <span class="comment">// backed by the properties array.  Descriptors of visible</span>
<a name="l01930"></a>01930   <span class="comment">// types, such as CONSTANT_FUNCTION, keep their enumeration order.</span>
<a name="l01931"></a>01931   <span class="comment">// Converts the descriptor on the original object&#39;s map to a</span>
<a name="l01932"></a>01932   <span class="comment">// map transition, and the the new field is on the object&#39;s new map.</span>
<a name="l01933"></a>01933   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a57b166dd8bb328a59f25f3c0f87a2e3f">ConvertDescriptorToFieldAndMapTransition</a>(
<a name="l01934"></a>01934       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01935"></a>01935       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* new_value,
<a name="l01936"></a>01936       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01937"></a>01937 
<a name="l01938"></a>01938   <span class="comment">// Converts a descriptor of any other type to a real field,</span>
<a name="l01939"></a>01939   <span class="comment">// backed by the properties array.  Descriptors of visible</span>
<a name="l01940"></a>01940   <span class="comment">// types, such as CONSTANT_FUNCTION, keep their enumeration order.</span>
<a name="l01941"></a>01941   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a7ffaaf8bf8dc0ea7a299b969c44fddab">ConvertDescriptorToField</a>(
<a name="l01942"></a>01942       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01943"></a>01943       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* new_value,
<a name="l01944"></a>01944       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01945"></a>01945 
<a name="l01946"></a>01946   <span class="comment">// Add a property to a fast-case object.</span>
<a name="l01947"></a>01947   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ae259259563671558aae6184cdf09bd58">AddFastProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01948"></a>01948                                                <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01949"></a>01949                                                <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01950"></a>01950 
<a name="l01951"></a>01951   <span class="comment">// Add a property to a slow-case object.</span>
<a name="l01952"></a>01952   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a76c7f9929d60d7afc37f91418f64f86d">AddSlowProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01953"></a>01953                                                <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01954"></a>01954                                                <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l01955"></a>01955 
<a name="l01956"></a>01956   <span class="comment">// Add a property to an object.</span>
<a name="l01957"></a>01957   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af56284eadaf88a620ad351574324fc51">AddProperty</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l01958"></a>01958                                            <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l01959"></a>01959                                            <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l01960"></a>01960                                            <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l01961"></a>01961 
<a name="l01962"></a>01962   <span class="comment">// Convert the object to use the canonical dictionary</span>
<a name="l01963"></a>01963   <span class="comment">// representation. If the object is expected to have additional properties</span>
<a name="l01964"></a>01964   <span class="comment">// added this number can be indicated to have the backing store allocated to</span>
<a name="l01965"></a>01965   <span class="comment">// an initial capacity for holding these properties.</span>
<a name="l01966"></a>01966   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a303c532c7d7f00d2fbebf5177ea4235e">NormalizeProperties</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01967"></a>01967                                   <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237a">PropertyNormalizationMode</a> mode,
<a name="l01968"></a>01968                                   <span class="keywordtype">int</span> expected_additional_properties);
<a name="l01969"></a>01969 
<a name="l01970"></a>01970   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a303c532c7d7f00d2fbebf5177ea4235e">NormalizeProperties</a>(
<a name="l01971"></a>01971       <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237a">PropertyNormalizationMode</a> mode,
<a name="l01972"></a>01972       <span class="keywordtype">int</span> expected_additional_properties);
<a name="l01973"></a>01973 
<a name="l01974"></a>01974   <span class="comment">// Convert and update the elements backing store to be a</span>
<a name="l01975"></a>01975   <span class="comment">// SeededNumberDictionary dictionary.  Returns the backing after conversion.</span>
<a name="l01976"></a>01976   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;SeededNumberDictionary&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6d7960193283763adf93032f0185352a">NormalizeElements</a>(
<a name="l01977"></a>01977       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>);
<a name="l01978"></a>01978 
<a name="l01979"></a>01979   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6d7960193283763adf93032f0185352a">NormalizeElements</a>();
<a name="l01980"></a>01980 
<a name="l01981"></a>01981   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a8955d2fe3fa95c63dbe4bc60c2b0c2df">UpdateMapCodeCache</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01982"></a>01982                                  <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> name,
<a name="l01983"></a>01983                                  <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Code&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>);
<a name="l01984"></a>01984 
<a name="l01985"></a>01985   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a8955d2fe3fa95c63dbe4bc60c2b0c2df">UpdateMapCodeCache</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>);
<a name="l01986"></a>01986 
<a name="l01987"></a>01987   <span class="comment">// Transform slow named properties to fast variants.</span>
<a name="l01988"></a>01988   <span class="comment">// Returns failure if allocation failed.</span>
<a name="l01989"></a>01989   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ac79204c1ab83969dbd0b14207ad79763">TransformToFastProperties</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,
<a name="l01990"></a>01990                                         <span class="keywordtype">int</span> unused_property_fields);
<a name="l01991"></a>01991 
<a name="l01992"></a>01992   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ac79204c1ab83969dbd0b14207ad79763">TransformToFastProperties</a>(
<a name="l01993"></a>01993       <span class="keywordtype">int</span> unused_property_fields);
<a name="l01994"></a>01994 
<a name="l01995"></a>01995   <span class="comment">// Access fast-case object properties at index.</span>
<a name="l01996"></a>01996   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa64ee5186f0ea50899c4e0adaa52780b">FastPropertyAt</a>(<span class="keywordtype">int</span> index);
<a name="l01997"></a>01997   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa67f777ac7a01bed0c5af39eb8bbe2be">FastPropertyAtPut</a>(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l01998"></a>01998 
<a name="l01999"></a>01999   <span class="comment">// Access to in object properties.</span>
<a name="l02000"></a>02000   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a4f8ffe19e26ca55d11efe84d24e08c13">GetInObjectPropertyOffset</a>(<span class="keywordtype">int</span> index);
<a name="l02001"></a>02001   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a2780a1cf5386b77bd61264ea2831bbb1">InObjectPropertyAt</a>(<span class="keywordtype">int</span> index);
<a name="l02002"></a>02002   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a0b2a8eedcdcfd224ad0fb511381fbe4d">InObjectPropertyAtPut</a>(<span class="keywordtype">int</span> index,
<a name="l02003"></a>02003                                        <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l02004"></a>02004                                        <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">WriteBarrierMode</a> mode
<a name="l02005"></a>02005                                        = <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);
<a name="l02006"></a>02006 
<a name="l02007"></a>02007   <span class="comment">// Initializes the body after properties slot, properties slot is</span>
<a name="l02008"></a>02008   <span class="comment">// initialized by set_properties.  Fill the pre-allocated fields with</span>
<a name="l02009"></a>02009   <span class="comment">// pre_allocated_value and the rest with filler_value.</span>
<a name="l02010"></a>02010   <span class="comment">// Note: this call does not update write barrier, the caller is responsible</span>
<a name="l02011"></a>02011   <span class="comment">// to ensure that |filler_value| can be collected without WB here.</span>
<a name="l02012"></a>02012   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a36e323378a363f2ccfe34db5a77b0576">InitializeBody</a>(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* map,
<a name="l02013"></a>02013                              <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* pre_allocated_value,
<a name="l02014"></a>02014                              <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* filler_value);
<a name="l02015"></a>02015 
<a name="l02016"></a>02016   <span class="comment">// Check whether this object references another object</span>
<a name="l02017"></a>02017   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a7055378a4956dab348a946e35ab9bf9b">ReferencesObject</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l02018"></a>02018 
<a name="l02019"></a>02019   <span class="comment">// Casting.</span>
<a name="l02020"></a>02020   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#acd9d70fd7df352fdd08acf1056972bee">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l02021"></a>02021 
<a name="l02022"></a>02022   <span class="comment">// Disalow further properties to be added to the object.</span>
<a name="l02023"></a>02023   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ae2dcfc00544230e0f9d2f0c2493cb97e">PreventExtensions</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>);
<a name="l02024"></a>02024   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ae2dcfc00544230e0f9d2f0c2493cb97e">PreventExtensions</a>();
<a name="l02025"></a>02025 
<a name="l02026"></a>02026 
<a name="l02027"></a>02027   <span class="comment">// Dispatched behavior.</span>
<a name="l02028"></a>02028   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a462b6fa796709b5af86864e5f67527a8">JSObjectShortPrint</a>(<a class="code" href="classv8_1_1internal_1_1_string_stream.html">StringStream</a>* accumulator);
<a name="l02029"></a>02029 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l02030"></a>02030 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSObjectPrint() {
<a name="l02031"></a>02031     JSObjectPrint(stdout);
<a name="l02032"></a>02032   }
<a name="l02033"></a>02033   <span class="keywordtype">void</span> JSObjectPrint(FILE* out);
<a name="l02034"></a>02034 <span class="preprocessor">#endif</span>
<a name="l02035"></a>02035 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l02036"></a>02036 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSObjectVerify();
<a name="l02037"></a>02037 <span class="preprocessor">#endif</span>
<a name="l02038"></a>02038 <span class="preprocessor"></span><span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l02039"></a>02039 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> PrintProperties() {
<a name="l02040"></a>02040     PrintProperties(stdout);
<a name="l02041"></a>02041   }
<a name="l02042"></a>02042   <span class="keywordtype">void</span> PrintProperties(FILE* out);
<a name="l02043"></a>02043 
<a name="l02044"></a>02044   <span class="keyword">inline</span> <span class="keywordtype">void</span> PrintElements() {
<a name="l02045"></a>02045     PrintElements(stdout);
<a name="l02046"></a>02046   }
<a name="l02047"></a>02047   <span class="keywordtype">void</span> PrintElements(FILE* out);
<a name="l02048"></a>02048 <span class="preprocessor">#endif</span>
<a name="l02049"></a>02049 <span class="preprocessor"></span>
<a name="l02050"></a>02050   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a19f941ecfa7876c018dea59323287b07">PrintElementsTransition</a>(
<a name="l02051"></a>02051       FILE* file, <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> from_kind, FixedArrayBase* from_elements,
<a name="l02052"></a>02052       <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> to_kind, FixedArrayBase* to_elements);
<a name="l02053"></a>02053 
<a name="l02054"></a>02054 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l02055"></a>02055 <span class="preprocessor"></span>  <span class="comment">// Structure for collecting spill information about JSObjects.</span>
<a name="l02056"></a>02056   <span class="keyword">class </span>SpillInformation {
<a name="l02057"></a>02057    <span class="keyword">public</span>:
<a name="l02058"></a>02058     <span class="keywordtype">void</span> Clear();
<a name="l02059"></a>02059     <span class="keywordtype">void</span> <a class="code" href="lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Print</a>();
<a name="l02060"></a>02060     <span class="keywordtype">int</span> number_of_objects_;
<a name="l02061"></a>02061     <span class="keywordtype">int</span> number_of_objects_with_fast_properties_;
<a name="l02062"></a>02062     <span class="keywordtype">int</span> number_of_objects_with_fast_elements_;
<a name="l02063"></a>02063     <span class="keywordtype">int</span> number_of_fast_used_fields_;
<a name="l02064"></a>02064     <span class="keywordtype">int</span> number_of_fast_unused_fields_;
<a name="l02065"></a>02065     <span class="keywordtype">int</span> number_of_slow_used_properties_;
<a name="l02066"></a>02066     <span class="keywordtype">int</span> number_of_slow_unused_properties_;
<a name="l02067"></a>02067     <span class="keywordtype">int</span> number_of_fast_used_elements_;
<a name="l02068"></a>02068     <span class="keywordtype">int</span> number_of_fast_unused_elements_;
<a name="l02069"></a>02069     <span class="keywordtype">int</span> number_of_slow_used_elements_;
<a name="l02070"></a>02070     <span class="keywordtype">int</span> number_of_slow_unused_elements_;
<a name="l02071"></a>02071   };
<a name="l02072"></a>02072 
<a name="l02073"></a>02073   <span class="keywordtype">void</span> IncrementSpillStatistics(SpillInformation* info);
<a name="l02074"></a>02074 <span class="preprocessor">#endif</span>
<a name="l02075"></a>02075 <span class="preprocessor"></span>  <a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#ab8ea3e6f2a56010d4cb64faf49c87216">SlowReverseLookup</a>(<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* value);
<a name="l02076"></a>02076 
<a name="l02077"></a>02077   <span class="comment">// Maximal number of fast properties for the JSObject. Used to</span>
<a name="l02078"></a>02078   <span class="comment">// restrict the number of map transitions to avoid an explosion in</span>
<a name="l02079"></a>02079   <span class="comment">// the number of maps for objects used as dictionaries.</span>
<a name="l02080"></a>02080   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aee0fc2c62871e07a1f8e76cf45b6f577">MaxFastProperties</a>();
<a name="l02081"></a>02081 
<a name="l02082"></a>02082   <span class="comment">// Maximal number of elements (numbered 0 .. kMaxElementCount - 1).</span>
<a name="l02083"></a>02083   <span class="comment">// Also maximal value of JSArray&#39;s length property.</span>
<a name="l02084"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a94879143e109d2b4105523b69de660a1">02084</a>   <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a94879143e109d2b4105523b69de660a1">kMaxElementCount</a> = 0xffffffffu;
<a name="l02085"></a>02085 
<a name="l02086"></a>02086   <span class="comment">// Constants for heuristics controlling conversion of fast elements</span>
<a name="l02087"></a>02087   <span class="comment">// to slow elements.</span>
<a name="l02088"></a>02088 
<a name="l02089"></a>02089   <span class="comment">// Maximal gap that can be introduced by adding an element beyond</span>
<a name="l02090"></a>02090   <span class="comment">// the current elements length.</span>
<a name="l02091"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a920eb1a5c2f03a3ca10ef3fcc5ac42fe">02091</a>   <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a920eb1a5c2f03a3ca10ef3fcc5ac42fe">kMaxGap</a> = 1024;
<a name="l02092"></a>02092 
<a name="l02093"></a>02093   <span class="comment">// Maximal length of fast elements array that won&#39;t be checked for</span>
<a name="l02094"></a>02094   <span class="comment">// being dense enough on expansion.</span>
<a name="l02095"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#abb22b3e9cd78800bced6ef8dd68447ce">02095</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#abb22b3e9cd78800bced6ef8dd68447ce">kMaxUncheckedFastElementsLength</a> = 5000;
<a name="l02096"></a>02096 
<a name="l02097"></a>02097   <span class="comment">// Same as above but for old arrays. This limit is more strict. We</span>
<a name="l02098"></a>02098   <span class="comment">// don&#39;t want to be wasteful with long lived objects.</span>
<a name="l02099"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af317066946eb7d04f0af04c0b1d69d93">02099</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#af317066946eb7d04f0af04c0b1d69d93">kMaxUncheckedOldFastElementsLength</a> = 500;
<a name="l02100"></a>02100 
<a name="l02101"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6c0f02d2378b33cc825e182e4babccdf">02101</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a6c0f02d2378b33cc825e182e4babccdf">kInitialMaxFastElementArray</a> = 100000;
<a name="l02102"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a2e7c6195a96c2be1b270f4041fd56fd6">02102</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a2e7c6195a96c2be1b270f4041fd56fd6">kMaxFastProperties</a> = 12;
<a name="l02103"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a3d270856f8e8f80f2a80c0c37bda1c23">02103</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a3d270856f8e8f80f2a80c0c37bda1c23">kMaxInstanceSize</a> = 255 * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02104"></a>02104   <span class="comment">// When extending the backing storage for property values, we increase</span>
<a name="l02105"></a>02105   <span class="comment">// its size by more than the 1 entry necessary, so sequentially adding fields</span>
<a name="l02106"></a>02106   <span class="comment">// to the same object requires fewer allocations and copies.</span>
<a name="l02107"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a29b37dbc6571c3318647807794a433c8">02107</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a29b37dbc6571c3318647807794a433c8">kFieldsAdded</a> = 3;
<a name="l02108"></a>02108 
<a name="l02109"></a>02109   <span class="comment">// Layout description.</span>
<a name="l02110"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa9b49e218c91312d0cd5b302b2afff31">02110</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa9b49e218c91312d0cd5b302b2afff31">kPropertiesOffset</a> = <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a5ba6da4d81bc33d61cafa6a5b3f1e619">HeapObject::kHeaderSize</a>;
<a name="l02111"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#adbdc81f5aec6d4defbcc3099b17f5142">02111</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#adbdc81f5aec6d4defbcc3099b17f5142">kElementsOffset</a> = <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#aa9b49e218c91312d0cd5b302b2afff31">kPropertiesOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02112"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a5ba6da4d81bc33d61cafa6a5b3f1e619">02112</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a5ba6da4d81bc33d61cafa6a5b3f1e619">kHeaderSize</a> = <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#adbdc81f5aec6d4defbcc3099b17f5142">kElementsOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02113"></a>02113 
<a name="l02114"></a>02114   <a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a9e665e839c6d9e6dd7a610460beb7427">STATIC_CHECK</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a5ba6da4d81bc33d61cafa6a5b3f1e619">kHeaderSize</a> == <a class="code" href="classv8_1_1internal_1_1_internals.html#af8faf3ff3271d26bafa6ca0ea87e2a57">Internals::kJSObjectHeaderSize</a>);
<a name="l02115"></a>02115 
<a name="l02116"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object_1_1_body_descriptor.html">02116</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_object_1_1_body_descriptor.html">BodyDescriptor</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html">FlexibleBodyDescriptor</a>&lt;kPropertiesOffset&gt; {
<a name="l02117"></a>02117    <span class="keyword">public</span>:
<a name="l02118"></a>02118     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object_1_1_body_descriptor.html#a69b9ca35c3bee05cc8fb35330b9c2d0e">SizeOf</a>(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* map, <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span>);
<a name="l02119"></a>02119   };
<a name="l02120"></a>02120 
<a name="l02121"></a>02121  <span class="keyword">private</span>:
<a name="l02122"></a><a class="code" href="classv8_1_1internal_1_1_j_s_object.html#a621a705ab4677f43ae9c9ced7f46794a">02122</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_dictionary_elements_accessor.html">DictionaryElementsAccessor</a>;
<a name="l02123"></a>02123 
<a name="l02124"></a>02124   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* GetElementWithCallback(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* receiver,
<a name="l02125"></a>02125                                                       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* structure,
<a name="l02126"></a>02126                                                       uint32_t index,
<a name="l02127"></a>02127                                                       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* holder);
<a name="l02128"></a>02128   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetElementWithCallback(
<a name="l02129"></a>02129       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* structure,
<a name="l02130"></a>02130       uint32_t index,
<a name="l02131"></a>02131       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l02132"></a>02132       <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>* holder,
<a name="l02133"></a>02133       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l02134"></a>02134   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetElementWithInterceptor(
<a name="l02135"></a>02135       uint32_t index,
<a name="l02136"></a>02136       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l02137"></a>02137       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l02138"></a>02138       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode,
<a name="l02139"></a>02139       <span class="keywordtype">bool</span> check_prototype,
<a name="l02140"></a>02140       <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4">SetPropertyMode</a> set_mode);
<a name="l02141"></a>02141   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetElementWithoutInterceptor(
<a name="l02142"></a>02142       uint32_t index,
<a name="l02143"></a>02143       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l02144"></a>02144       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l02145"></a>02145       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode,
<a name="l02146"></a>02146       <span class="keywordtype">bool</span> check_prototype,
<a name="l02147"></a>02147       <a class="code" href="namespacev8_1_1internal.html#a2bd76f8b2ced4eb372909ecbb8da57b4">SetPropertyMode</a> set_mode);
<a name="l02148"></a>02148 
<a name="l02149"></a>02149   <span class="comment">// Searches the prototype chain for a callback setter and sets the property</span>
<a name="l02150"></a>02150   <span class="comment">// with the setter if it finds one. The &#39;*found&#39; flag indicates whether</span>
<a name="l02151"></a>02151   <span class="comment">// a setter was found or not.</span>
<a name="l02152"></a>02152   <span class="comment">// This function can cause GC and can return a failure result with</span>
<a name="l02153"></a>02153   <span class="comment">// &#39;*found==true&#39;.</span>
<a name="l02154"></a>02154   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetPropertyWithCallbackSetterInPrototypes(
<a name="l02155"></a>02155       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l02156"></a>02156       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l02157"></a>02157       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l02158"></a>02158       <span class="keywordtype">bool</span>* found,
<a name="l02159"></a>02159       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l02160"></a>02160 
<a name="l02161"></a>02161   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* DeletePropertyPostInterceptor(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l02162"></a>02162                                                              <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> mode);
<a name="l02163"></a>02163   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* DeletePropertyWithInterceptor(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name);
<a name="l02164"></a>02164 
<a name="l02165"></a>02165   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* DeleteElementWithInterceptor(uint32_t index);
<a name="l02166"></a>02166 
<a name="l02167"></a>02167   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* DeleteFastElement(uint32_t index);
<a name="l02168"></a>02168   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* DeleteDictionaryElement(uint32_t index,
<a name="l02169"></a>02169                                                        <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> mode);
<a name="l02170"></a>02170 
<a name="l02171"></a>02171   <span class="keywordtype">bool</span> ReferencesObjectFromElements(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* elements,
<a name="l02172"></a>02172                                     <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> kind,
<a name="l02173"></a>02173                                     <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>);
<a name="l02174"></a>02174 
<a name="l02175"></a>02175   <span class="comment">// Returns true if most of the elements backing storage is used.</span>
<a name="l02176"></a>02176   <span class="keywordtype">bool</span> HasDenseElements();
<a name="l02177"></a>02177 
<a name="l02178"></a>02178   <span class="comment">// Gets the current elements capacity and the number of used elements.</span>
<a name="l02179"></a>02179   <span class="keywordtype">void</span> GetElementsCapacityAndUsage(<span class="keywordtype">int</span>* capacity, <span class="keywordtype">int</span>* used);
<a name="l02180"></a>02180 
<a name="l02181"></a>02181   <span class="keywordtype">bool</span> CanSetCallback(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name);
<a name="l02182"></a>02182   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetElementCallback(
<a name="l02183"></a>02183       uint32_t index,
<a name="l02184"></a>02184       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* structure,
<a name="l02185"></a>02185       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l02186"></a>02186   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetPropertyCallback(
<a name="l02187"></a>02187       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l02188"></a>02188       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* structure,
<a name="l02189"></a>02189       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l02190"></a>02190   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* DefineElementAccessor(
<a name="l02191"></a>02191       uint32_t index,
<a name="l02192"></a>02192       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* getter,
<a name="l02193"></a>02193       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* setter,
<a name="l02194"></a>02194       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l02195"></a>02195   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* CreateAccessorPairFor(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name);
<a name="l02196"></a>02196   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* DefinePropertyAccessor(
<a name="l02197"></a>02197       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l02198"></a>02198       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* getter,
<a name="l02199"></a>02199       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* setter,
<a name="l02200"></a>02200       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l02201"></a>02201   <span class="keywordtype">void</span> LookupInDescriptor(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, LookupResult* result);
<a name="l02202"></a>02202 
<a name="l02203"></a>02203   <span class="comment">// Returns the hidden properties backing store object, currently</span>
<a name="l02204"></a>02204   <span class="comment">// a StringDictionary, stored on this object.</span>
<a name="l02205"></a>02205   <span class="comment">// If no hidden properties object has been put on this object,</span>
<a name="l02206"></a>02206   <span class="comment">// return undefined, unless create_if_absent is true, in which case</span>
<a name="l02207"></a>02207   <span class="comment">// a new dictionary is created, added to this object, and returned.</span>
<a name="l02208"></a>02208   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* GetHiddenPropertiesDictionary(
<a name="l02209"></a>02209       <span class="keywordtype">bool</span> create_if_absent);
<a name="l02210"></a>02210   <span class="comment">// Updates the existing hidden properties dictionary.</span>
<a name="l02211"></a>02211   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetHiddenPropertiesDictionary(
<a name="l02212"></a>02212       <a class="code" href="classv8_1_1internal_1_1_string_dictionary.html">StringDictionary</a>* dictionary);
<a name="l02213"></a>02213 
<a name="l02214"></a>02214   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>);
<a name="l02215"></a>02215 };
<a name="l02216"></a>02216 
<a name="l02217"></a>02217 
<a name="l02218"></a>02218 <span class="comment">// Common superclass for FixedArrays that allow implementations to share</span>
<a name="l02219"></a>02219 <span class="comment">// common accessors and some code paths.</span>
<a name="l02220"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">02220</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l02221"></a>02221  <span class="keyword">public</span>:
<a name="l02222"></a>02222   <span class="comment">// [length]: length of the array.</span>
<a name="l02223"></a>02223   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>();
<a name="l02224"></a>02224   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a67b8eea4413f1651bfe1a8b4c74f53d1">set_length</a>(<span class="keywordtype">int</span> value);
<a name="l02225"></a>02225 
<a name="l02226"></a>02226   <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>);
<a name="l02227"></a>02227 
<a name="l02228"></a>02228   <span class="comment">// Layout description.</span>
<a name="l02229"></a>02229   <span class="comment">// Length is smi tagged when it is stored.</span>
<a name="l02230"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">02230</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> = <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">HeapObject::kHeaderSize</a>;
<a name="l02231"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">02231</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a> = <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02232"></a>02232 };
<a name="l02233"></a>02233 
<a name="l02234"></a>02234 
<a name="l02235"></a>02235 <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html">FixedDoubleArray</a>;
<a name="l02236"></a>02236 
<a name="l02237"></a>02237 <span class="comment">// FixedArray describes fixed-sized arrays with element type Object*.</span>
<a name="l02238"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array.html">02238</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a> {
<a name="l02239"></a>02239  <span class="keyword">public</span>:
<a name="l02240"></a>02240   <span class="comment">// Setter and getter for elements.</span>
<a name="l02241"></a>02241   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l02242"></a>02242   <span class="comment">// Setter that uses write barrier.</span>
<a name="l02243"></a>02243   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l02244"></a>02244   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a7fe86da7c98e5930aa00d0df1b71feff">is_the_hole</a>(<span class="keywordtype">int</span> index);
<a name="l02245"></a>02245 
<a name="l02246"></a>02246   <span class="comment">// Setter that doesn&#39;t need write barrier).</span>
<a name="l02247"></a>02247   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* value);
<a name="l02248"></a>02248   <span class="comment">// Setter with explicit barrier mode.</span>
<a name="l02249"></a>02249   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value, <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">WriteBarrierMode</a> mode);
<a name="l02250"></a>02250 
<a name="l02251"></a>02251   <span class="comment">// Setters for frequently used oddballs located in old space.</span>
<a name="l02252"></a>02252   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#ace6f77f62936b9d34d3e6ea66d2a0c28">set_undefined</a>(<span class="keywordtype">int</span> index);
<a name="l02253"></a>02253   <span class="comment">// TODO(isolates): duplicate.</span>
<a name="l02254"></a>02254   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#ace6f77f62936b9d34d3e6ea66d2a0c28">set_undefined</a>(<a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* heap, <span class="keywordtype">int</span> index);
<a name="l02255"></a>02255   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a22a91c71f2f6ccbe56a7bf2aad86c64d">set_null</a>(<span class="keywordtype">int</span> index);
<a name="l02256"></a>02256   <span class="comment">// TODO(isolates): duplicate.</span>
<a name="l02257"></a>02257   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a22a91c71f2f6ccbe56a7bf2aad86c64d">set_null</a>(<a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* heap, <span class="keywordtype">int</span> index);
<a name="l02258"></a>02258   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#af5387df4a82963ca41ebc6bb6890368a">set_the_hole</a>(<span class="keywordtype">int</span> index);
<a name="l02259"></a>02259 
<a name="l02260"></a>02260   <span class="comment">// Setters with less debug checks for the GC to use.</span>
<a name="l02261"></a>02261   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a54c903803279c1a3ef933dbfb325ed84">set_unchecked</a>(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* value);
<a name="l02262"></a>02262   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#afbd272a17d38d21103ea3cbed4771fac">set_null_unchecked</a>(<a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* heap, <span class="keywordtype">int</span> index);
<a name="l02263"></a>02263   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a54c903803279c1a3ef933dbfb325ed84">set_unchecked</a>(<a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* heap, <span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l02264"></a>02264                             <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">WriteBarrierMode</a> mode);
<a name="l02265"></a>02265 
<a name="l02266"></a>02266   <span class="comment">// Gives access to raw memory which stores the array&#39;s data.</span>
<a name="l02267"></a>02267   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a58637e5c3f9578918deeb899b6976734">data_start</a>();
<a name="l02268"></a>02268 
<a name="l02269"></a>02269   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a764d034ed48aafab5f2652650539430c">GetFirstElementAddress</a>();
<a name="l02270"></a>02270   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a22676358d865881a11d55fdcc2cb8a8d">ContainsOnlySmisOrHoles</a>();
<a name="l02271"></a>02271 
<a name="l02272"></a>02272   <span class="comment">// Copy operations.</span>
<a name="l02273"></a>02273   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#ab3380c21758490aefcaffdd9332d55f8">Copy</a>();
<a name="l02274"></a>02274   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a10335e6df510dbbe03a448a47b33947c">CopySize</a>(<span class="keywordtype">int</span> new_length);
<a name="l02275"></a>02275 
<a name="l02276"></a>02276   <span class="comment">// Add the elements of a JSArray to this FixedArray.</span>
<a name="l02277"></a>02277   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#aad9266b29475b5cfc476ca23ac64040c">AddKeysFromJSArray</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_array.html">JSArray</a>* array);
<a name="l02278"></a>02278 
<a name="l02279"></a>02279   <span class="comment">// Compute the union of this and other.</span>
<a name="l02280"></a>02280   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#ada9b495dbfd03fffff43d8ff4ef56f15">UnionOfKeys</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* other);
<a name="l02281"></a>02281 
<a name="l02282"></a>02282   <span class="comment">// Copy a sub array from the receiver to dest.</span>
<a name="l02283"></a>02283   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a946fb06002793ff6e12c78f207f4b2a5">CopyTo</a>(<span class="keywordtype">int</span> pos, <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* dest, <span class="keywordtype">int</span> dest_pos, <span class="keywordtype">int</span> len);
<a name="l02284"></a>02284 
<a name="l02285"></a>02285   <span class="comment">// Garbage collection support.</span>
<a name="l02286"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array.html#aac41d653d6c61ad3a0fd907c2a52fd92">02286</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#aac41d653d6c61ad3a0fd907c2a52fd92">SizeFor</a>(<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>) { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a> + length * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>; }
<a name="l02287"></a>02287 
<a name="l02288"></a>02288   <span class="comment">// Code Generation support.</span>
<a name="l02289"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a40b2c3d748284f90693919d8119a14fb">02289</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a40b2c3d748284f90693919d8119a14fb">OffsetOfElementAt</a>(<span class="keywordtype">int</span> index) { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#aac41d653d6c61ad3a0fd907c2a52fd92">SizeFor</a>(index); }
<a name="l02290"></a>02290 
<a name="l02291"></a>02291   <span class="comment">// Casting.</span>
<a name="l02292"></a>02292   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a9879755e4d6c7fd2dd6ed924931e9e3d">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l02293"></a>02293 
<a name="l02294"></a>02294   <span class="comment">// Maximal allowed size, in bytes, of a single FixedArray.</span>
<a name="l02295"></a>02295   <span class="comment">// Prevents overflowing size computations, as well as extreme memory</span>
<a name="l02296"></a>02296   <span class="comment">// consumption.</span>
<a name="l02297"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a8c4e197164657e0b412e83afcab550ae">02297</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a8c4e197164657e0b412e83afcab550ae">kMaxSize</a> = 128 * <a class="code" href="namespacev8_1_1internal.html#ac9348d43b27afd1b556903717cbe0b84">MB</a> * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02298"></a>02298   <span class="comment">// Maximally allowed length of a FixedArray.</span>
<a name="l02299"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array.html#affb031e7f10c06f0dd174029fc56efe2">02299</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#affb031e7f10c06f0dd174029fc56efe2">kMaxLength</a> = (<a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a8c4e197164657e0b412e83afcab550ae">kMaxSize</a> - <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a>) / <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02300"></a>02300 
<a name="l02301"></a>02301   <span class="comment">// Dispatched behavior.</span>
<a name="l02302"></a>02302 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l02303"></a>02303 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> FixedArrayPrint() {
<a name="l02304"></a>02304     FixedArrayPrint(stdout);
<a name="l02305"></a>02305   }
<a name="l02306"></a>02306   <span class="keywordtype">void</span> FixedArrayPrint(FILE* out);
<a name="l02307"></a>02307 <span class="preprocessor">#endif</span>
<a name="l02308"></a>02308 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l02309"></a>02309 <span class="preprocessor"></span>  <span class="keywordtype">void</span> FixedArrayVerify();
<a name="l02310"></a>02310   <span class="comment">// Checks if two FixedArrays have identical contents.</span>
<a name="l02311"></a>02311   <span class="keywordtype">bool</span> IsEqualTo(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* other);
<a name="l02312"></a>02312 <span class="preprocessor">#endif</span>
<a name="l02313"></a>02313 <span class="preprocessor"></span>
<a name="l02314"></a>02314   <span class="comment">// Swap two elements in a pair of arrays.  If this array and the</span>
<a name="l02315"></a>02315   <span class="comment">// numbers array are the same object, the elements are only swapped</span>
<a name="l02316"></a>02316   <span class="comment">// once.</span>
<a name="l02317"></a>02317   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a1aeb180f8d130d58f4dd67bb65a0d1bb">SwapPairs</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* numbers, <span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j);
<a name="l02318"></a>02318 
<a name="l02319"></a>02319   <span class="comment">// Sort prefix of this array and the numbers array as pairs wrt. the</span>
<a name="l02320"></a>02320   <span class="comment">// numbers.  If the numbers array and the this array are the same</span>
<a name="l02321"></a>02321   <span class="comment">// object, the prefix of this array is sorted.</span>
<a name="l02322"></a>02322   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a2ac505844e9cd989edc007b75dca925e">SortPairs</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* numbers, uint32_t len);
<a name="l02323"></a>02323 
<a name="l02324"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array_1_1_body_descriptor.html">02324</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_fixed_array_1_1_body_descriptor.html">BodyDescriptor</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html">FlexibleBodyDescriptor</a>&lt;kHeaderSize&gt; {
<a name="l02325"></a>02325    <span class="keyword">public</span>:
<a name="l02326"></a><a class="code" href="classv8_1_1internal_1_1_fixed_array_1_1_body_descriptor.html#a2612eea7a90969d0d64ba8f347ee5ec6">02326</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_1_1_body_descriptor.html#a2612eea7a90969d0d64ba8f347ee5ec6">SizeOf</a>(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#adb4fe930ff2cca856204810cbb456ac3">map</a>, <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span>) {
<a name="l02327"></a>02327       <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#aac41d653d6c61ad3a0fd907c2a52fd92">SizeFor</a>(reinterpret_cast&lt;FixedArray*&gt;(<span class="keywordtype">object</span>)-&gt;<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>());
<a name="l02328"></a>02328     }
<a name="l02329"></a>02329   };
<a name="l02330"></a>02330 
<a name="l02331"></a>02331  <span class="keyword">protected</span>:
<a name="l02332"></a>02332   <span class="comment">// Set operation on FixedArray without using write barriers. Can</span>
<a name="l02333"></a>02333   <span class="comment">// only be used for storing old space objects or smis.</span>
<a name="l02334"></a>02334   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a522aa22b6c539f4427e80b2178a96197">NoWriteBarrierSet</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* array,
<a name="l02335"></a>02335                                        <span class="keywordtype">int</span> index,
<a name="l02336"></a>02336                                        <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l02337"></a>02337 
<a name="l02338"></a>02338   <span class="comment">// Set operation on FixedArray without incremental write barrier. Can</span>
<a name="l02339"></a>02339   <span class="comment">// only be used if the object is guaranteed to be white (whiteness witness</span>
<a name="l02340"></a>02340   <span class="comment">// is present).</span>
<a name="l02341"></a>02341   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a5fbc2c3658dcf1c15afdb285714774da">NoIncrementalWriteBarrierSet</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* array,
<a name="l02342"></a>02342                                                   <span class="keywordtype">int</span> index,
<a name="l02343"></a>02343                                                   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l02344"></a>02344 
<a name="l02345"></a>02345  <span class="keyword">private</span>:
<a name="l02346"></a>02346   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>);
<a name="l02347"></a>02347 };
<a name="l02348"></a>02348 
<a name="l02349"></a>02349 
<a name="l02350"></a>02350 <span class="comment">// FixedDoubleArray describes fixed-sized arrays with element type double.</span>
<a name="l02351"></a><a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html">02351</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html">FixedDoubleArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a> {
<a name="l02352"></a>02352  <span class="keyword">public</span>:
<a name="l02353"></a>02353   <span class="comment">// Setter and getter for elements.</span>
<a name="l02354"></a>02354   <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#ae6e3bf394ba1f81b492327e9f34b113a">get_scalar</a>(<span class="keywordtype">int</span> index);
<a name="l02355"></a>02355   <span class="keyword">inline</span> int64_t <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#ad2f719770f3e758aee3bcf046123a9a7">get_representation</a>(<span class="keywordtype">int</span> index);
<a name="l02356"></a>02356   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l02357"></a>02357   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <span class="keywordtype">double</span> value);
<a name="l02358"></a>02358   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#aaae3696dea2160214010cb79e96930e2">set_the_hole</a>(<span class="keywordtype">int</span> index);
<a name="l02359"></a>02359 
<a name="l02360"></a>02360   <span class="comment">// Checking for the hole.</span>
<a name="l02361"></a>02361   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#a4364352ae43ff6250bacc9cfc4467b59">is_the_hole</a>(<span class="keywordtype">int</span> index);
<a name="l02362"></a>02362 
<a name="l02363"></a>02363   <span class="comment">// Copy operations</span>
<a name="l02364"></a>02364   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#add38171727eb85986589d6d47286707f">Copy</a>();
<a name="l02365"></a>02365 
<a name="l02366"></a>02366   <span class="comment">// Garbage collection support.</span>
<a name="l02367"></a><a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#ad43d5cfebc4805de874b189cf2c94055">02367</a>   <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#ad43d5cfebc4805de874b189cf2c94055">SizeFor</a>(<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>) {
<a name="l02368"></a>02368     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a> + length * <a class="code" href="namespacev8_1_1internal.html#a4329153f14896ef8847be1cf7a7815fc">kDoubleSize</a>;
<a name="l02369"></a>02369   }
<a name="l02370"></a>02370 
<a name="l02371"></a>02371   <span class="comment">// Code Generation support.</span>
<a name="l02372"></a><a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#aea74d64b36ea2275796e59287e418316">02372</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#aea74d64b36ea2275796e59287e418316">OffsetOfElementAt</a>(<span class="keywordtype">int</span> index) { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#ad43d5cfebc4805de874b189cf2c94055">SizeFor</a>(index); }
<a name="l02373"></a>02373 
<a name="l02374"></a>02374   <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#a66a1f24312fad593c80f7927faad8abd">is_the_hole_nan</a>(<span class="keywordtype">double</span> value);
<a name="l02375"></a>02375   <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#a2fa074e014854280c345f85fb4bdb85a">hole_nan_as_double</a>();
<a name="l02376"></a>02376   <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#a1ba16717f43f27f13f1a9708098d03c8">canonical_not_the_hole_nan_as_double</a>();
<a name="l02377"></a>02377 
<a name="l02378"></a>02378   <span class="comment">// Casting.</span>
<a name="l02379"></a>02379   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html">FixedDoubleArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#ae7b5b69c0863b77ab83558cfc601c3cb">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l02380"></a>02380 
<a name="l02381"></a>02381   <span class="comment">// Maximal allowed size, in bytes, of a single FixedDoubleArray.</span>
<a name="l02382"></a>02382   <span class="comment">// Prevents overflowing size computations, as well as extreme memory</span>
<a name="l02383"></a>02383   <span class="comment">// consumption.</span>
<a name="l02384"></a><a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#a857be21c642353c126dddfd6dd2e672b">02384</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#a857be21c642353c126dddfd6dd2e672b">kMaxSize</a> = 512 * <a class="code" href="namespacev8_1_1internal.html#ac9348d43b27afd1b556903717cbe0b84">MB</a>;
<a name="l02385"></a>02385   <span class="comment">// Maximally allowed length of a FixedArray.</span>
<a name="l02386"></a><a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#af65b3ad9319ef84e8ae0f878b7556d92">02386</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#af65b3ad9319ef84e8ae0f878b7556d92">kMaxLength</a> = (<a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html#a857be21c642353c126dddfd6dd2e672b">kMaxSize</a> - <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a>) / <a class="code" href="namespacev8_1_1internal.html#a4329153f14896ef8847be1cf7a7815fc">kDoubleSize</a>;
<a name="l02387"></a>02387 
<a name="l02388"></a>02388   <span class="comment">// Dispatched behavior.</span>
<a name="l02389"></a>02389 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l02390"></a>02390 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> FixedDoubleArrayPrint() {
<a name="l02391"></a>02391     FixedDoubleArrayPrint(stdout);
<a name="l02392"></a>02392   }
<a name="l02393"></a>02393   <span class="keywordtype">void</span> FixedDoubleArrayPrint(FILE* out);
<a name="l02394"></a>02394 <span class="preprocessor">#endif</span>
<a name="l02395"></a>02395 <span class="preprocessor"></span>
<a name="l02396"></a>02396 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l02397"></a>02397 <span class="preprocessor"></span>  <span class="keywordtype">void</span> FixedDoubleArrayVerify();
<a name="l02398"></a>02398 <span class="preprocessor">#endif</span>
<a name="l02399"></a>02399 <span class="preprocessor"></span>
<a name="l02400"></a>02400  <span class="keyword">private</span>:
<a name="l02401"></a>02401   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_fixed_double_array.html">FixedDoubleArray</a>);
<a name="l02402"></a>02402 };
<a name="l02403"></a>02403 
<a name="l02404"></a>02404 
<a name="l02405"></a>02405 <span class="keyword">class </span>IncrementalMarking;
<a name="l02406"></a>02406 
<a name="l02407"></a>02407 
<a name="l02408"></a>02408 <span class="comment">// DescriptorArrays are fixed arrays used to hold instance descriptors.</span>
<a name="l02409"></a>02409 <span class="comment">// The format of the these objects is:</span>
<a name="l02410"></a>02410 <span class="comment">// TODO(1399): It should be possible to make room for bit_field3 in the map</span>
<a name="l02411"></a>02411 <span class="comment">//             without overloading the instance descriptors field in the map</span>
<a name="l02412"></a>02412 <span class="comment">//             (and storing it in the DescriptorArray when the map has one).</span>
<a name="l02413"></a>02413 <span class="comment">//   [0]: storage for bit_field3 for Map owning this object (Smi)</span>
<a name="l02414"></a>02414 <span class="comment">//   [1]: point to a fixed array with (value, detail) pairs.</span>
<a name="l02415"></a>02415 <span class="comment">//   [2]: next enumeration index (Smi), or pointer to small fixed array:</span>
<a name="l02416"></a>02416 <span class="comment">//          [0]: next enumeration index (Smi)</span>
<a name="l02417"></a>02417 <span class="comment">//          [1]: pointer to fixed array with enum cache</span>
<a name="l02418"></a>02418 <span class="comment">//   [3]: first key</span>
<a name="l02419"></a>02419 <span class="comment">//   [length() - 1]: last key</span>
<a name="l02420"></a>02420 <span class="comment">//</span>
<a name="l02421"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html">02421</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html">DescriptorArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a> {
<a name="l02422"></a>02422  <span class="keyword">public</span>:
<a name="l02423"></a>02423   <span class="comment">// Returns true for both shared empty_descriptor_array and for smis, which the</span>
<a name="l02424"></a>02424   <span class="comment">// map uses to encode additional bit fields when the descriptor array is not</span>
<a name="l02425"></a>02425   <span class="comment">// yet used.</span>
<a name="l02426"></a>02426   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a93a755f37dc42fc8f2f8938680d16966">IsEmpty</a>();
<a name="l02427"></a>02427 
<a name="l02428"></a>02428   <span class="comment">// Returns the number of descriptors in the array.</span>
<a name="l02429"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af3ee66fb355520b97356bf38834c7ce3">02429</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af3ee66fb355520b97356bf38834c7ce3">number_of_descriptors</a>() {
<a name="l02430"></a>02430     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>() &gt; <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ade15110ea3f85740688adf93973e6fe0">kFirstIndex</a> || <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a93a755f37dc42fc8f2f8938680d16966">IsEmpty</a>());
<a name="l02431"></a>02431     <span class="keywordtype">int</span> len = <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>();
<a name="l02432"></a>02432     <span class="keywordflow">return</span> len &lt;= <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ade15110ea3f85740688adf93973e6fe0">kFirstIndex</a> ? 0 : len - <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ade15110ea3f85740688adf93973e6fe0">kFirstIndex</a>;
<a name="l02433"></a>02433   }
<a name="l02434"></a>02434 
<a name="l02435"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#afa680e56d4b252113b10d93db791c5be">02435</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#afa680e56d4b252113b10d93db791c5be">NextEnumerationIndex</a>() {
<a name="l02436"></a>02436     <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a93a755f37dc42fc8f2f8938680d16966">IsEmpty</a>()) <span class="keywordflow">return</span> PropertyDetails::kInitialIndex;
<a name="l02437"></a>02437     <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj = <span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a58325a570189789e6b8cbca6bb65732b">kEnumerationIndexIndex</a>);
<a name="l02438"></a>02438     <span class="keywordflow">if</span> (obj-&gt;IsSmi()) {
<a name="l02439"></a>02439       <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ac92b2b13c70ceaa4173d7e98cfc2df85">Smi::cast</a>(obj)-&gt;value();
<a name="l02440"></a>02440     } <span class="keywordflow">else</span> {
<a name="l02441"></a>02441       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* index = <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ac92b2b13c70ceaa4173d7e98cfc2df85">FixedArray::cast</a>(obj)-&gt;<a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a44361ce215ec75f98ba22f84f7d4b360">get</a>(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ad28b28a714926005f1ef57be0cbe8316">kEnumCacheBridgeEnumIndex</a>);
<a name="l02442"></a>02442       <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ac92b2b13c70ceaa4173d7e98cfc2df85">Smi::cast</a>(index)-&gt;value();
<a name="l02443"></a>02443     }
<a name="l02444"></a>02444   }
<a name="l02445"></a>02445 
<a name="l02446"></a>02446   <span class="comment">// Set next enumeration index and flush any enum cache.</span>
<a name="l02447"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a3be5bc1e2117a8ff71814f5d1780ea10">02447</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a3be5bc1e2117a8ff71814f5d1780ea10">SetNextEnumerationIndex</a>(<span class="keywordtype">int</span> value) {
<a name="l02448"></a>02448     <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a93a755f37dc42fc8f2f8938680d16966">IsEmpty</a>()) {
<a name="l02449"></a>02449       <span class="keyword">set</span>(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a58325a570189789e6b8cbca6bb65732b">kEnumerationIndexIndex</a>, <a class="code" href="classv8_1_1internal_1_1_smi.html#ab8a06699d9e96c9c50be9bf54c29ea86">Smi::FromInt</a>(value));
<a name="l02450"></a>02450     }
<a name="l02451"></a>02451   }
<a name="l02452"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a84574d4917be57101999d94f040c0d57">02452</a>   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a84574d4917be57101999d94f040c0d57">HasEnumCache</a>() {
<a name="l02453"></a>02453     <span class="keywordflow">return</span> !<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a93a755f37dc42fc8f2f8938680d16966">IsEmpty</a>() &amp;&amp; !<span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a58325a570189789e6b8cbca6bb65732b">kEnumerationIndexIndex</a>)-&gt;IsSmi();
<a name="l02454"></a>02454   }
<a name="l02455"></a>02455 
<a name="l02456"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#aeed458f5199fa55c714ce163affcb601">02456</a>   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#aeed458f5199fa55c714ce163affcb601">GetEnumCache</a>() {
<a name="l02457"></a>02457     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a84574d4917be57101999d94f040c0d57">HasEnumCache</a>());
<a name="l02458"></a>02458     <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* bridge = <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ac92b2b13c70ceaa4173d7e98cfc2df85">FixedArray::cast</a>(<span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a58325a570189789e6b8cbca6bb65732b">kEnumerationIndexIndex</a>));
<a name="l02459"></a>02459     <span class="keywordflow">return</span> bridge-&gt;<a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a44361ce215ec75f98ba22f84f7d4b360">get</a>(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a2258b1456fdde910ff2dd05e0c49ac1d">kEnumCacheBridgeCacheIndex</a>);
<a name="l02460"></a>02460   }
<a name="l02461"></a>02461 
<a name="l02462"></a>02462   <span class="comment">// TODO(1399): It should be possible to make room for bit_field3 in the map</span>
<a name="l02463"></a>02463   <span class="comment">//             without overloading the instance descriptors field in the map</span>
<a name="l02464"></a>02464   <span class="comment">//             (and storing it in the DescriptorArray when the map has one).</span>
<a name="l02465"></a>02465   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ace3c30a9332a45a6cdd0d0fa95fe6a33">bit_field3_storage</a>();
<a name="l02466"></a>02466   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a88d1b0014d5977afc27613677c89fc0d">set_bit_field3_storage</a>(<span class="keywordtype">int</span> value);
<a name="l02467"></a>02467 
<a name="l02468"></a>02468   <span class="comment">// Initialize or change the enum cache,</span>
<a name="l02469"></a>02469   <span class="comment">// using the supplied storage for the small &quot;bridge&quot;.</span>
<a name="l02470"></a>02470   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a1fc5efb543349c3fac835c0615da88d0">SetEnumCache</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* bridge_storage,
<a name="l02471"></a>02471                     <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* new_cache,
<a name="l02472"></a>02472                     <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* new_index_cache);
<a name="l02473"></a>02473 
<a name="l02474"></a>02474   <span class="comment">// Accessors for fetching instance descriptor at descriptor number.</span>
<a name="l02475"></a>02475   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a7129cd12a9b5ce44d5df5650edaef203">GetKey</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02476"></a>02476   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a864deee5918961b48b047bd3b0547ddc">GetValue</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02477"></a>02477   <span class="keyword">inline</span> PropertyDetails <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a6a577bcadcf2005e3b4faf6c86644f03">GetDetails</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02478"></a>02478   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a7fa37bfbe847a6947e1249067d4fdd47">PropertyType</a> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a9dfc0fb00f1871a8a9c31668fa231a38">GetType</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02479"></a>02479   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a8cc771d88cae79ff7148edb1fea8480e">GetFieldIndex</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02480"></a>02480   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function.html">JSFunction</a>* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a20478383b7701181b00d672312dfcf41">GetConstantFunction</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02481"></a>02481   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#adb31a9e628a6bfb4ccb7c977970a1310">GetCallbacksObject</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02482"></a>02482   <span class="keyword">inline</span> <a class="code" href="structv8_1_1internal_1_1_accessor_descriptor.html">AccessorDescriptor</a>* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a720de734fef0a0710d9c3f950acd224b">GetCallbacks</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02483"></a>02483   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af7612651323fef6bec748511c79bc93d">IsProperty</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02484"></a>02484   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ad265433d653bc7ae55b0bb35417f89fd">IsTransitionOnly</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02485"></a>02485   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a5b8ce665c73ffce1d12bec1b6b6424c3">IsNullDescriptor</a>(<span class="keywordtype">int</span> descriptor_number);
<a name="l02486"></a>02486 
<a name="l02487"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array_1_1_whiteness_witness.html">02487</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_descriptor_array_1_1_whiteness_witness.html">WhitenessWitness</a> {
<a name="l02488"></a>02488    <span class="keyword">public</span>:
<a name="l02489"></a>02489     <span class="keyword">inline</span> <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array_1_1_whiteness_witness.html#a1eabb5ead510e492c7d28228f3f90248">WhitenessWitness</a>(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html">DescriptorArray</a>* array);
<a name="l02490"></a>02490     <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array_1_1_whiteness_witness.html#ab18824c7bbd3e187cde2deff5fa9e96e">~WhitenessWitness</a>();
<a name="l02491"></a>02491 
<a name="l02492"></a>02492    <span class="keyword">private</span>:
<a name="l02493"></a>02493     <a class="code" href="classv8_1_1internal_1_1_incremental_marking.html">IncrementalMarking</a>* marking_;
<a name="l02494"></a>02494   };
<a name="l02495"></a>02495 
<a name="l02496"></a>02496   <span class="comment">// Accessor for complete descriptor.</span>
<a name="l02497"></a>02497   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a7e737fcd90f03235f423623c9fdf1ce7">Get</a>(<span class="keywordtype">int</span> descriptor_number, Descriptor* desc);
<a name="l02498"></a>02498   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a6609c5f853e55f0c3f76e84cb4d3c4f6">Set</a>(<span class="keywordtype">int</span> descriptor_number,
<a name="l02499"></a>02499                   Descriptor* desc,
<a name="l02500"></a>02500                   <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array_1_1_whiteness_witness.html">WhitenessWitness</a>&amp;);
<a name="l02501"></a>02501 
<a name="l02502"></a>02502   <span class="comment">// Transfer a complete descriptor from the src descriptor array to the dst</span>
<a name="l02503"></a>02503   <span class="comment">// one, dropping map transitions in CALLBACKS.</span>
<a name="l02504"></a>02504   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af5d04c73bb8eef53332f6d4a7992cbd7">CopyFrom</a>(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;DescriptorArray&gt;</a> dst,
<a name="l02505"></a>02505                        <span class="keywordtype">int</span> dst_index,
<a name="l02506"></a>02506                        <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;DescriptorArray&gt;</a> src,
<a name="l02507"></a>02507                        <span class="keywordtype">int</span> src_index,
<a name="l02508"></a>02508                        <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array_1_1_whiteness_witness.html">WhitenessWitness</a>&amp; witness);
<a name="l02509"></a>02509 
<a name="l02510"></a>02510   <span class="comment">// Transfer a complete descriptor from the src descriptor array to this</span>
<a name="l02511"></a>02511   <span class="comment">// descriptor array, dropping map transitions in CALLBACKS.</span>
<a name="l02512"></a>02512   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af5d04c73bb8eef53332f6d4a7992cbd7">CopyFrom</a>(<span class="keywordtype">int</span> dst_index,
<a name="l02513"></a>02513                                         <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html">DescriptorArray</a>* src,
<a name="l02514"></a>02514                                         <span class="keywordtype">int</span> src_index,
<a name="l02515"></a>02515                                         <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array_1_1_whiteness_witness.html">WhitenessWitness</a>&amp;);
<a name="l02516"></a>02516 
<a name="l02517"></a>02517   <span class="comment">// Copy the descriptor array, insert a new descriptor and optionally</span>
<a name="l02518"></a>02518   <span class="comment">// remove map transitions.  If the descriptor is already present, it is</span>
<a name="l02519"></a>02519   <span class="comment">// replaced.  If a replaced descriptor is a real property (not a transition</span>
<a name="l02520"></a>02520   <span class="comment">// or null), its enumeration index is kept as is.</span>
<a name="l02521"></a>02521   <span class="comment">// If adding a real property, map transitions must be removed.  If adding</span>
<a name="l02522"></a>02522   <span class="comment">// a transition, they must not be removed.  All null descriptors are removed.</span>
<a name="l02523"></a>02523   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a4d1979b12cf1ffc8fcad862981198581">CopyInsert</a>(Descriptor* descriptor,
<a name="l02524"></a>02524                                           <a class="code" href="namespacev8_1_1internal.html#a3bf9895d3f076587839ed1e732e3e0dd">TransitionFlag</a> transition_flag);
<a name="l02525"></a>02525 
<a name="l02526"></a>02526   <span class="comment">// Return a copy of the array with all transitions and null descriptors</span>
<a name="l02527"></a>02527   <span class="comment">// removed. Return a Failure object in case of an allocation failure.</span>
<a name="l02528"></a>02528   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a91ce722d04289edca35cc944152c7bfc">RemoveTransitions</a>();
<a name="l02529"></a>02529 
<a name="l02530"></a>02530   <span class="comment">// Sort the instance descriptors by the hash codes of their keys.</span>
<a name="l02531"></a>02531   <span class="comment">// Does not check for duplicates.</span>
<a name="l02532"></a>02532   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#adba850217e0d5db3e330e9893e742c06">SortUnchecked</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array_1_1_whiteness_witness.html">WhitenessWitness</a>&amp;);
<a name="l02533"></a>02533 
<a name="l02534"></a>02534   <span class="comment">// Sort the instance descriptors by the hash codes of their keys.</span>
<a name="l02535"></a>02535   <span class="comment">// Checks the result for duplicates.</span>
<a name="l02536"></a>02536   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a2c4726c90c1e919e2f08e5f4d181c55d">Sort</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array_1_1_whiteness_witness.html">WhitenessWitness</a>&amp;);
<a name="l02537"></a>02537 
<a name="l02538"></a>02538   <span class="comment">// Search the instance descriptors for given name.</span>
<a name="l02539"></a>02539   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a4a1c30c26cf24a95840c1f9225f21b53">Search</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l02540"></a>02540 
<a name="l02541"></a>02541   <span class="comment">// As the above, but uses DescriptorLookupCache and updates it when</span>
<a name="l02542"></a>02542   <span class="comment">// necessary.</span>
<a name="l02543"></a>02543   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af29264f7733f547581fb71f2377cc6b9">SearchWithCache</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l02544"></a>02544 
<a name="l02545"></a>02545   <span class="comment">// Tells whether the name is present int the array.</span>
<a name="l02546"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a85384e962169fe5ef72070c66286eec4">02546</a>   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a85384e962169fe5ef72070c66286eec4">Contains</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>) { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a616314d46969c56bb8a8586f97173624">kNotFound</a> != <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a4a1c30c26cf24a95840c1f9225f21b53">Search</a>(name); }
<a name="l02547"></a>02547 
<a name="l02548"></a>02548   <span class="comment">// Perform a binary search in the instance descriptors represented</span>
<a name="l02549"></a>02549   <span class="comment">// by this fixed array.  low and high are descriptor indices.  If there</span>
<a name="l02550"></a>02550   <span class="comment">// are three instance descriptors in this array it should be called</span>
<a name="l02551"></a>02551   <span class="comment">// with low=0 and high=2.</span>
<a name="l02552"></a>02552   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#aa337fd2eb150da83ce6f3c0d7306acec">BinarySearch</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <span class="keywordtype">int</span> low, <span class="keywordtype">int</span> high);
<a name="l02553"></a>02553 
<a name="l02554"></a>02554   <span class="comment">// Perform a linear search in the instance descriptors represented</span>
<a name="l02555"></a>02555   <span class="comment">// by this fixed array.  len is the number of descriptor indices that are</span>
<a name="l02556"></a>02556   <span class="comment">// valid.  Does not require the descriptors to be sorted.</span>
<a name="l02557"></a>02557   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a4a6c314af2f9ce284f58236ffdf2af36">LinearSearch</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <span class="keywordtype">int</span> len);
<a name="l02558"></a>02558 
<a name="l02559"></a>02559   <span class="comment">// Allocates a DescriptorArray, but returns the singleton</span>
<a name="l02560"></a>02560   <span class="comment">// empty descriptor array object if number_of_descriptors is 0.</span>
<a name="l02561"></a>02561   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a95ed48c257b83f58202d673670c97ce2">Allocate</a>(<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af3ee66fb355520b97356bf38834c7ce3">number_of_descriptors</a>);
<a name="l02562"></a>02562 
<a name="l02563"></a>02563   <span class="comment">// Casting.</span>
<a name="l02564"></a>02564   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html">DescriptorArray</a>* <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ac92b2b13c70ceaa4173d7e98cfc2df85">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l02565"></a>02565 
<a name="l02566"></a>02566   <span class="comment">// Constant for denoting key was not found.</span>
<a name="l02567"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a616314d46969c56bb8a8586f97173624">02567</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a616314d46969c56bb8a8586f97173624">kNotFound</a> = -1;
<a name="l02568"></a>02568 
<a name="l02569"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af2289007fa47179996e4d08ef30d6ae8">02569</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af2289007fa47179996e4d08ef30d6ae8">kBitField3StorageIndex</a> = 0;
<a name="l02570"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a32fc7c3a64c91ddc6bda4fa67ee6b368">02570</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a32fc7c3a64c91ddc6bda4fa67ee6b368">kContentArrayIndex</a> = 1;
<a name="l02571"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a58325a570189789e6b8cbca6bb65732b">02571</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a58325a570189789e6b8cbca6bb65732b">kEnumerationIndexIndex</a> = 2;
<a name="l02572"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ade15110ea3f85740688adf93973e6fe0">02572</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ade15110ea3f85740688adf93973e6fe0">kFirstIndex</a> = 3;
<a name="l02573"></a>02573 
<a name="l02574"></a>02574   <span class="comment">// The length of the &quot;bridge&quot; to the enum cache.</span>
<a name="l02575"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ac6ec69727df78fd0383c2868996298eb">02575</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ac6ec69727df78fd0383c2868996298eb">kEnumCacheBridgeLength</a> = 3;
<a name="l02576"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ad28b28a714926005f1ef57be0cbe8316">02576</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ad28b28a714926005f1ef57be0cbe8316">kEnumCacheBridgeEnumIndex</a> = 0;
<a name="l02577"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a2258b1456fdde910ff2dd05e0c49ac1d">02577</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a2258b1456fdde910ff2dd05e0c49ac1d">kEnumCacheBridgeCacheIndex</a> = 1;
<a name="l02578"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a1547950e97d668f894eadc6f4cdbe802">02578</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a1547950e97d668f894eadc6f4cdbe802">kEnumCacheBridgeIndicesCacheIndex</a> = 2;
<a name="l02579"></a>02579 
<a name="l02580"></a>02580   <span class="comment">// Layout description.</span>
<a name="l02581"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a8f5019e76f054e498b4656a1719121ea">02581</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a8f5019e76f054e498b4656a1719121ea">kBitField3StorageOffset</a> = <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">FixedArray::kHeaderSize</a>;
<a name="l02582"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ad2cecac0412da6dc93005e864d07032d">02582</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ad2cecac0412da6dc93005e864d07032d">kContentArrayOffset</a> = <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a8f5019e76f054e498b4656a1719121ea">kBitField3StorageOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02583"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a38ec7ea3629f8d277c298bc9236d3ff1">02583</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a38ec7ea3629f8d277c298bc9236d3ff1">kEnumerationIndexOffset</a> = <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ad2cecac0412da6dc93005e864d07032d">kContentArrayOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02584"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af13deaee1d816c14f74112c3400e3aff">02584</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#af13deaee1d816c14f74112c3400e3aff">kFirstOffset</a> = <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a38ec7ea3629f8d277c298bc9236d3ff1">kEnumerationIndexOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02585"></a>02585 
<a name="l02586"></a>02586   <span class="comment">// Layout description for the bridge array.</span>
<a name="l02587"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ab8cf37d62de486a33fca386ecc444eed">02587</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ab8cf37d62de486a33fca386ecc444eed">kEnumCacheBridgeEnumOffset</a> = <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">FixedArray::kHeaderSize</a>;
<a name="l02588"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#aa51c4630bb6cafb0b90b91ad6ef76544">02588</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#aa51c4630bb6cafb0b90b91ad6ef76544">kEnumCacheBridgeCacheOffset</a> =
<a name="l02589"></a>02589     <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ab8cf37d62de486a33fca386ecc444eed">kEnumCacheBridgeEnumOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02590"></a>02590 
<a name="l02591"></a>02591 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l02592"></a>02592 <span class="preprocessor"></span>  <span class="comment">// Print all the descriptors.</span>
<a name="l02593"></a>02593   <span class="keyword">inline</span> <span class="keywordtype">void</span> PrintDescriptors() {
<a name="l02594"></a>02594     PrintDescriptors(stdout);
<a name="l02595"></a>02595   }
<a name="l02596"></a>02596   <span class="keywordtype">void</span> PrintDescriptors(FILE* out);
<a name="l02597"></a>02597 <span class="preprocessor">#endif</span>
<a name="l02598"></a>02598 <span class="preprocessor"></span>
<a name="l02599"></a>02599 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l02600"></a>02600 <span class="preprocessor"></span>  <span class="comment">// Is the descriptor array sorted and without duplicates?</span>
<a name="l02601"></a>02601   <span class="keywordtype">bool</span> IsSortedNoDuplicates();
<a name="l02602"></a>02602 
<a name="l02603"></a>02603   <span class="comment">// Are two DescriptorArrays equal?</span>
<a name="l02604"></a>02604   <span class="keywordtype">bool</span> IsEqualTo(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html">DescriptorArray</a>* other);
<a name="l02605"></a>02605 <span class="preprocessor">#endif</span>
<a name="l02606"></a>02606 <span class="preprocessor"></span>
<a name="l02607"></a>02607   <span class="comment">// The maximum number of descriptors we want in a descriptor array (should</span>
<a name="l02608"></a>02608   <span class="comment">// fit in a page).</span>
<a name="l02609"></a><a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a794276ddb8eb947b52ca022154b22860">02609</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a794276ddb8eb947b52ca022154b22860">kMaxNumberOfDescriptors</a> = 1024 + 512;
<a name="l02610"></a>02610 
<a name="l02611"></a>02611  <span class="keyword">private</span>:
<a name="l02612"></a>02612   <span class="comment">// An entry in a DescriptorArray, represented as an (array, index) pair.</span>
<a name="l02613"></a>02613   <span class="keyword">class </span>Entry {
<a name="l02614"></a>02614    <span class="keyword">public</span>:
<a name="l02615"></a>02615     <span class="keyword">inline</span> <span class="keyword">explicit</span> Entry(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html">DescriptorArray</a>* descs, <span class="keywordtype">int</span> index) :
<a name="l02616"></a>02616         descs_(descs), index_(index) { }
<a name="l02617"></a>02617 
<a name="l02618"></a>02618     <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a7fa37bfbe847a6947e1249067d4fdd47">PropertyType</a> <a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>() { <span class="keywordflow">return</span> descs_-&gt;GetType(index_); }
<a name="l02619"></a>02619     <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* GetCallbackObject() { <span class="keywordflow">return</span> descs_-&gt;GetValue(index_); }
<a name="l02620"></a>02620 
<a name="l02621"></a>02621    <span class="keyword">private</span>:
<a name="l02622"></a>02622     <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html">DescriptorArray</a>* descs_;
<a name="l02623"></a>02623     <span class="keywordtype">int</span> index_;
<a name="l02624"></a>02624   };
<a name="l02625"></a>02625 
<a name="l02626"></a>02626   <span class="comment">// Conversion from descriptor number to array indices.</span>
<a name="l02627"></a>02627   <span class="keyword">static</span> <span class="keywordtype">int</span> ToKeyIndex(<span class="keywordtype">int</span> descriptor_number) {
<a name="l02628"></a>02628     <span class="keywordflow">return</span> descriptor_number+<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ade15110ea3f85740688adf93973e6fe0">kFirstIndex</a>;
<a name="l02629"></a>02629   }
<a name="l02630"></a>02630 
<a name="l02631"></a>02631   <span class="keyword">static</span> <span class="keywordtype">int</span> ToDetailsIndex(<span class="keywordtype">int</span> descriptor_number) {
<a name="l02632"></a>02632     <span class="keywordflow">return</span> (descriptor_number &lt;&lt; 1) + 1;
<a name="l02633"></a>02633   }
<a name="l02634"></a>02634 
<a name="l02635"></a>02635   <span class="keyword">static</span> <span class="keywordtype">int</span> ToValueIndex(<span class="keywordtype">int</span> descriptor_number) {
<a name="l02636"></a>02636     <span class="keywordflow">return</span> descriptor_number &lt;&lt; 1;
<a name="l02637"></a>02637   }
<a name="l02638"></a>02638 
<a name="l02639"></a>02639   <span class="comment">// Swap operation on FixedArray without using write barriers.</span>
<a name="l02640"></a>02640   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> NoIncrementalWriteBarrierSwap(
<a name="l02641"></a>02641       FixedArray* array, <span class="keywordtype">int</span> first, <span class="keywordtype">int</span> second);
<a name="l02642"></a>02642 
<a name="l02643"></a>02643   <span class="comment">// Swap descriptor first and second.</span>
<a name="l02644"></a>02644   <span class="keyword">inline</span> <span class="keywordtype">void</span> NoIncrementalWriteBarrierSwapDescriptors(
<a name="l02645"></a>02645       <span class="keywordtype">int</span> first, <span class="keywordtype">int</span> second);
<a name="l02646"></a>02646 
<a name="l02647"></a>02647   FixedArray* GetContentArray() {
<a name="l02648"></a>02648     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#ac92b2b13c70ceaa4173d7e98cfc2df85">FixedArray::cast</a>(<span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_descriptor_array.html#a32fc7c3a64c91ddc6bda4fa67ee6b368">kContentArrayIndex</a>));
<a name="l02649"></a>02649   }
<a name="l02650"></a>02650   DISALLOW_IMPLICIT_CONSTRUCTORS(DescriptorArray);
<a name="l02651"></a>02651 };
<a name="l02652"></a>02652 
<a name="l02653"></a>02653 
<a name="l02654"></a>02654 <span class="comment">// HashTable is a subclass of FixedArray that implements a hash table</span>
<a name="l02655"></a>02655 <span class="comment">// that uses open addressing and quadratic probing.</span>
<a name="l02656"></a>02656 <span class="comment">//</span>
<a name="l02657"></a>02657 <span class="comment">// In order for the quadratic probing to work, elements that have not</span>
<a name="l02658"></a>02658 <span class="comment">// yet been used and elements that have been deleted are</span>
<a name="l02659"></a>02659 <span class="comment">// distinguished.  Probing continues when deleted elements are</span>
<a name="l02660"></a>02660 <span class="comment">// encountered and stops when unused elements are encountered.</span>
<a name="l02661"></a>02661 <span class="comment">//</span>
<a name="l02662"></a>02662 <span class="comment">// - Elements with key == undefined have not been used yet.</span>
<a name="l02663"></a>02663 <span class="comment">// - Elements with key == the_hole have been deleted.</span>
<a name="l02664"></a>02664 <span class="comment">//</span>
<a name="l02665"></a>02665 <span class="comment">// The hash table class is parameterized with a Shape and a Key.</span>
<a name="l02666"></a>02666 <span class="comment">// Shape must be a class with the following interface:</span>
<a name="l02667"></a>02667 <span class="comment">//   class ExampleShape {</span>
<a name="l02668"></a>02668 <span class="comment">//    public:</span>
<a name="l02669"></a>02669 <span class="comment">//      // Tells whether key matches other.</span>
<a name="l02670"></a>02670 <span class="comment">//     static bool IsMatch(Key key, Object* other);</span>
<a name="l02671"></a>02671 <span class="comment">//     // Returns the hash value for key.</span>
<a name="l02672"></a>02672 <span class="comment">//     static uint32_t Hash(Key key);</span>
<a name="l02673"></a>02673 <span class="comment">//     // Returns the hash value for object.</span>
<a name="l02674"></a>02674 <span class="comment">//     static uint32_t HashForObject(Key key, Object* object);</span>
<a name="l02675"></a>02675 <span class="comment">//     // Convert key to an object.</span>
<a name="l02676"></a>02676 <span class="comment">//     static inline Object* AsObject(Key key);</span>
<a name="l02677"></a>02677 <span class="comment">//     // The prefix size indicates number of elements in the beginning</span>
<a name="l02678"></a>02678 <span class="comment">//     // of the backing storage.</span>
<a name="l02679"></a>02679 <span class="comment">//     static const int kPrefixSize = ..;</span>
<a name="l02680"></a>02680 <span class="comment">//     // The Element size indicates number of elements per entry.</span>
<a name="l02681"></a>02681 <span class="comment">//     static const int kEntrySize = ..;</span>
<a name="l02682"></a>02682 <span class="comment">//   };</span>
<a name="l02683"></a>02683 <span class="comment">// The prefix size indicates an amount of memory in the</span>
<a name="l02684"></a>02684 <span class="comment">// beginning of the backing storage that can be used for non-element</span>
<a name="l02685"></a>02685 <span class="comment">// information by subclasses.</span>
<a name="l02686"></a>02686 
<a name="l02687"></a>02687 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Key&gt;
<a name="l02688"></a><a class="code" href="classv8_1_1internal_1_1_base_shape.html">02688</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_base_shape.html">BaseShape</a> {
<a name="l02689"></a>02689  <span class="keyword">public</span>:
<a name="l02690"></a><a class="code" href="classv8_1_1internal_1_1_base_shape.html#a544eca693001174d4f4be9dec8b5b7aa">02690</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html#a544eca693001174d4f4be9dec8b5b7aa">UsesSeed</a> = <span class="keyword">false</span>;
<a name="l02691"></a><a class="code" href="classv8_1_1internal_1_1_base_shape.html#a8111960b11712048e3e15179ad2b9fda">02691</a>   <span class="keyword">static</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_base_shape.html#a8111960b11712048e3e15179ad2b9fda">Hash</a>(Key key) { <span class="keywordflow">return</span> 0; }
<a name="l02692"></a><a class="code" href="classv8_1_1internal_1_1_base_shape.html#a2d348acd6f23c45cc155cf7bcb788a15">02692</a>   <span class="keyword">static</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_base_shape.html#a2d348acd6f23c45cc155cf7bcb788a15">SeededHash</a>(Key key, uint32_t <a class="code" href="test-strings_8cc.html#ae21f357c223957d36046a0d71cc6aed7">seed</a>) {
<a name="l02693"></a>02693     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="classv8_1_1internal_1_1_base_shape.html#a544eca693001174d4f4be9dec8b5b7aa">UsesSeed</a>);
<a name="l02694"></a>02694     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html#a8111960b11712048e3e15179ad2b9fda">Hash</a>(key);
<a name="l02695"></a>02695   }
<a name="l02696"></a><a class="code" href="classv8_1_1internal_1_1_base_shape.html#ab025c536a6b030fab39f62934b25edce">02696</a>   <span class="keyword">static</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_base_shape.html#ab025c536a6b030fab39f62934b25edce">HashForObject</a>(Key key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>) { <span class="keywordflow">return</span> 0; }
<a name="l02697"></a><a class="code" href="classv8_1_1internal_1_1_base_shape.html#ae3cd2d2f821c879f0deea40def681bd1">02697</a>   <span class="keyword">static</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_base_shape.html#ae3cd2d2f821c879f0deea40def681bd1">SeededHashForObject</a>(Key key, uint32_t <a class="code" href="test-strings_8cc.html#ae21f357c223957d36046a0d71cc6aed7">seed</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>) {
<a name="l02698"></a>02698     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="classv8_1_1internal_1_1_base_shape.html#a544eca693001174d4f4be9dec8b5b7aa">UsesSeed</a>);
<a name="l02699"></a>02699     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html#ab025c536a6b030fab39f62934b25edce">HashForObject</a>(key, <span class="keywordtype">object</span>);
<a name="l02700"></a>02700   }
<a name="l02701"></a>02701 };
<a name="l02702"></a>02702 
<a name="l02703"></a>02703 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Shape, <span class="keyword">typename</span> Key&gt;
<a name="l02704"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html">02704</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a> {
<a name="l02705"></a>02705  <span class="keyword">public</span>:
<a name="l02706"></a>02706   <span class="comment">// Wrapper methods</span>
<a name="l02707"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac7cbe795e5a5330d126787ffaadfa5d2">02707</a>   <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac7cbe795e5a5330d126787ffaadfa5d2">Hash</a>(Key key) {
<a name="l02708"></a>02708     <span class="keywordflow">if</span> (Shape::UsesSeed) {
<a name="l02709"></a>02709       <span class="keywordflow">return</span> Shape::SeededHash(key,
<a name="l02710"></a>02710           <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a7d5a9c48b357fc21cbaf185f0c49061f">GetHeap</a>()-&gt;HashSeed());
<a name="l02711"></a>02711     } <span class="keywordflow">else</span> {
<a name="l02712"></a>02712       <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac7cbe795e5a5330d126787ffaadfa5d2">Shape::Hash</a>(key);
<a name="l02713"></a>02713     }
<a name="l02714"></a>02714   }
<a name="l02715"></a>02715 
<a name="l02716"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a4ee3a42807008f40f7b856cefd7224b4">02716</a>   <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a4ee3a42807008f40f7b856cefd7224b4">HashForObject</a>(Key key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>) {
<a name="l02717"></a>02717     <span class="keywordflow">if</span> (Shape::UsesSeed) {
<a name="l02718"></a>02718       <span class="keywordflow">return</span> Shape::SeededHashForObject(key,
<a name="l02719"></a>02719           <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a7d5a9c48b357fc21cbaf185f0c49061f">GetHeap</a>()-&gt;HashSeed(), <span class="keywordtype">object</span>);
<a name="l02720"></a>02720     } <span class="keywordflow">else</span> {
<a name="l02721"></a>02721       <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a4ee3a42807008f40f7b856cefd7224b4">Shape::HashForObject</a>(key, <span class="keywordtype">object</span>);
<a name="l02722"></a>02722     }
<a name="l02723"></a>02723   }
<a name="l02724"></a>02724 
<a name="l02725"></a>02725   <span class="comment">// Returns the number of elements in the hash table.</span>
<a name="l02726"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9107aac27cd0a9371c75fbf5bfc8bfd2">02726</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9107aac27cd0a9371c75fbf5bfc8bfd2">NumberOfElements</a>() {
<a name="l02727"></a>02727     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a4db7b2f12e6aff3b24f00239f190e159">Smi::cast</a>(<span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a2e66e4da819fa011b720b118e38a1e73">kNumberOfElementsIndex</a>))-&gt;value();
<a name="l02728"></a>02728   }
<a name="l02729"></a>02729 
<a name="l02730"></a>02730   <span class="comment">// Returns the number of deleted elements in the hash table.</span>
<a name="l02731"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#ae173c775fbd6f1176291a031e2c82d3c">02731</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ae173c775fbd6f1176291a031e2c82d3c">NumberOfDeletedElements</a>() {
<a name="l02732"></a>02732     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a4db7b2f12e6aff3b24f00239f190e159">Smi::cast</a>(<span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a1752529c0e233cef17aefb2c69880b40">kNumberOfDeletedElementsIndex</a>))-&gt;value();
<a name="l02733"></a>02733   }
<a name="l02734"></a>02734 
<a name="l02735"></a>02735   <span class="comment">// Returns the capacity of the hash table.</span>
<a name="l02736"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a68a4be856c0e4a8242d63680590cf7d0">02736</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a68a4be856c0e4a8242d63680590cf7d0">Capacity</a>() {
<a name="l02737"></a>02737     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a4db7b2f12e6aff3b24f00239f190e159">Smi::cast</a>(<span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#acfc65824d5e0771042205b340e5c7483">kCapacityIndex</a>))-&gt;value();
<a name="l02738"></a>02738   }
<a name="l02739"></a>02739 
<a name="l02740"></a>02740   <span class="comment">// ElementAdded should be called whenever an element is added to a</span>
<a name="l02741"></a>02741   <span class="comment">// hash table.</span>
<a name="l02742"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9c95b43d2c37729ea7ecbf2452315acb">02742</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9c95b43d2c37729ea7ecbf2452315acb">ElementAdded</a>() { <a class="code" href="classv8_1_1internal_1_1_hash_table.html#af0c8a03e79251ba8b626eb6fc1559dc7">SetNumberOfElements</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9107aac27cd0a9371c75fbf5bfc8bfd2">NumberOfElements</a>() + 1); }
<a name="l02743"></a>02743 
<a name="l02744"></a>02744   <span class="comment">// ElementRemoved should be called whenever an element is removed from</span>
<a name="l02745"></a>02745   <span class="comment">// a hash table.</span>
<a name="l02746"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a7312d78cbf0e70b79f692f71c06dade1">02746</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a7312d78cbf0e70b79f692f71c06dade1">ElementRemoved</a>() {
<a name="l02747"></a>02747     <a class="code" href="classv8_1_1internal_1_1_hash_table.html#af0c8a03e79251ba8b626eb6fc1559dc7">SetNumberOfElements</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9107aac27cd0a9371c75fbf5bfc8bfd2">NumberOfElements</a>() - 1);
<a name="l02748"></a>02748     <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ad2c5bf5a584f5c938a98e74ec5b403c7">SetNumberOfDeletedElements</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#ae173c775fbd6f1176291a031e2c82d3c">NumberOfDeletedElements</a>() + 1);
<a name="l02749"></a>02749   }
<a name="l02750"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#ae3bf5ad4ed55ddb4f4c23abebbe55d3e">02750</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ae3bf5ad4ed55ddb4f4c23abebbe55d3e">ElementsRemoved</a>(<span class="keywordtype">int</span> n) {
<a name="l02751"></a>02751     <a class="code" href="classv8_1_1internal_1_1_hash_table.html#af0c8a03e79251ba8b626eb6fc1559dc7">SetNumberOfElements</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9107aac27cd0a9371c75fbf5bfc8bfd2">NumberOfElements</a>() - n);
<a name="l02752"></a>02752     <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ad2c5bf5a584f5c938a98e74ec5b403c7">SetNumberOfDeletedElements</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#ae173c775fbd6f1176291a031e2c82d3c">NumberOfDeletedElements</a>() + n);
<a name="l02753"></a>02753   }
<a name="l02754"></a>02754 
<a name="l02755"></a>02755   <span class="comment">// Returns a new HashTable object. Might return Failure.</span>
<a name="l02756"></a>02756   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a28e7139858530b3b0d3e8b1fc54b1e31">Allocate</a>(
<a name="l02757"></a>02757       <span class="keywordtype">int</span> at_least_space_for,
<a name="l02758"></a>02758       <a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8">PretenureFlag</a> pretenure = <a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8ad832954c9b9b14ec2859d74a80f4069a">NOT_TENURED</a>);
<a name="l02759"></a>02759 
<a name="l02760"></a>02760   <span class="comment">// Computes the required capacity for a table holding the given</span>
<a name="l02761"></a>02761   <span class="comment">// number of elements. May be more than HashTable::kMaxCapacity.</span>
<a name="l02762"></a>02762   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ad3a8f89ea8983eecb5284a48ff45b4b6">ComputeCapacity</a>(<span class="keywordtype">int</span> at_least_space_for);
<a name="l02763"></a>02763 
<a name="l02764"></a>02764   <span class="comment">// Returns the key at entry.</span>
<a name="l02765"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a003b4fd1e5d25581f55f974d60f59275">02765</a>   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a003b4fd1e5d25581f55f974d60f59275">KeyAt</a>(<span class="keywordtype">int</span> entry) { <span class="keywordflow">return</span> <span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0c22dfea91732f59e18649fe3daae469">EntryToIndex</a>(entry)); }
<a name="l02766"></a>02766 
<a name="l02767"></a>02767   <span class="comment">// Tells whether k is a real key.  The hole and undefined are not allowed</span>
<a name="l02768"></a>02768   <span class="comment">// as keys and can be used to indicate missing or deleted elements.</span>
<a name="l02769"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#ae381ac05b3a7243a2f6bba8f25bffebe">02769</a>   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ae381ac05b3a7243a2f6bba8f25bffebe">IsKey</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* k) {
<a name="l02770"></a>02770     <span class="keywordflow">return</span> !k-&gt;IsTheHole() &amp;&amp; !k-&gt;IsUndefined();
<a name="l02771"></a>02771   }
<a name="l02772"></a>02772 
<a name="l02773"></a>02773   <span class="comment">// Garbage collection support.</span>
<a name="l02774"></a>02774   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a48207527148c4b17a93ec016dc02d457">IteratePrefix</a>(ObjectVisitor* visitor);
<a name="l02775"></a>02775   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a540bf813ba4d2dca85358abcdcd807f8">IterateElements</a>(ObjectVisitor* visitor);
<a name="l02776"></a>02776 
<a name="l02777"></a>02777   <span class="comment">// Casting.</span>
<a name="l02778"></a>02778   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>* <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a4db7b2f12e6aff3b24f00239f190e159">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l02779"></a>02779 
<a name="l02780"></a>02780   <span class="comment">// Compute the probe offset (quadratic probing).</span>
<a name="l02781"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0e14cda64431ff1205ac8cb2e450d190">02781</a>   <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0e14cda64431ff1205ac8cb2e450d190">INLINE</a>(<span class="keyword">static</span> uint32_t GetProbeOffset(uint32_t n)) {
<a name="l02782"></a>02782     <span class="keywordflow">return</span> (n + n * n) &gt;&gt; 1;
<a name="l02783"></a>02783   }
<a name="l02784"></a>02784 
<a name="l02785"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a2e66e4da819fa011b720b118e38a1e73">02785</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a2e66e4da819fa011b720b118e38a1e73">kNumberOfElementsIndex</a> = 0;
<a name="l02786"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a1752529c0e233cef17aefb2c69880b40">02786</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a1752529c0e233cef17aefb2c69880b40">kNumberOfDeletedElementsIndex</a> = 1;
<a name="l02787"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#acfc65824d5e0771042205b340e5c7483">02787</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#acfc65824d5e0771042205b340e5c7483">kCapacityIndex</a> = 2;
<a name="l02788"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac571011559b278059a1d4343896f49b5">02788</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac571011559b278059a1d4343896f49b5">kPrefixStartIndex</a> = 3;
<a name="l02789"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a734b7cea1bb85575947c4332e9c63d52">02789</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a734b7cea1bb85575947c4332e9c63d52">kElementsStartIndex</a> =
<a name="l02790"></a>02790       <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac571011559b278059a1d4343896f49b5">kPrefixStartIndex</a> + Shape::kPrefixSize;
<a name="l02791"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a07a0c51348c4c90e854d246c5c64b230">02791</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a07a0c51348c4c90e854d246c5c64b230">kEntrySize</a> = <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a07a0c51348c4c90e854d246c5c64b230">Shape::kEntrySize</a>;
<a name="l02792"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a90c8bdd3d1da11f700338434f811d233">02792</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a90c8bdd3d1da11f700338434f811d233">kElementsStartOffset</a> =
<a name="l02793"></a>02793       <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a> + <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a734b7cea1bb85575947c4332e9c63d52">kElementsStartIndex</a> * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02794"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a47734dcee2a664f544422b096c2e6c03">02794</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a47734dcee2a664f544422b096c2e6c03">kCapacityOffset</a> =
<a name="l02795"></a>02795       <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a> + <a class="code" href="classv8_1_1internal_1_1_hash_table.html#acfc65824d5e0771042205b340e5c7483">kCapacityIndex</a> * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l02796"></a>02796 
<a name="l02797"></a>02797   <span class="comment">// Constant used for denoting a absent entry.</span>
<a name="l02798"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a1b3040a925e1dd50331b89e1a58d2f95">02798</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a1b3040a925e1dd50331b89e1a58d2f95">kNotFound</a> = -1;
<a name="l02799"></a>02799 
<a name="l02800"></a>02800   <span class="comment">// Maximal capacity of HashTable. Based on maximal length of underlying</span>
<a name="l02801"></a>02801   <span class="comment">// FixedArray. Staying below kMaxCapacity also ensures that EntryToIndex</span>
<a name="l02802"></a>02802   <span class="comment">// cannot overflow.</span>
<a name="l02803"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9387d93e1f7778e9e485536e116e2346">02803</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9387d93e1f7778e9e485536e116e2346">kMaxCapacity</a> =
<a name="l02804"></a>02804       (<a class="code" href="classv8_1_1internal_1_1_fixed_array.html#affb031e7f10c06f0dd174029fc56efe2">FixedArray::kMaxLength</a> - <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a90c8bdd3d1da11f700338434f811d233">kElementsStartOffset</a>) / <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a07a0c51348c4c90e854d246c5c64b230">kEntrySize</a>;
<a name="l02805"></a>02805 
<a name="l02806"></a>02806   <span class="comment">// Find entry for key otherwise return kNotFound.</span>
<a name="l02807"></a>02807   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a6ffc8ea8de438814b45ffb10c928d112">FindEntry</a>(Key key);
<a name="l02808"></a>02808   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a6ffc8ea8de438814b45ffb10c928d112">FindEntry</a>(<a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate, Key key);
<a name="l02809"></a>02809 
<a name="l02810"></a>02810  <span class="keyword">protected</span>:
<a name="l02811"></a>02811   <span class="comment">// Find the entry at which to insert element with the given key that</span>
<a name="l02812"></a>02812   <span class="comment">// has the given hash value.</span>
<a name="l02813"></a>02813   uint32_t <a class="code" href="classv8_1_1internal_1_1_hash_table.html#acc3ad6ae2f0ca6e51506122d35621775">FindInsertionEntry</a>(uint32_t hash);
<a name="l02814"></a>02814 
<a name="l02815"></a>02815   <span class="comment">// Returns the index for an entry (of the key)</span>
<a name="l02816"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0c22dfea91732f59e18649fe3daae469">02816</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0c22dfea91732f59e18649fe3daae469">EntryToIndex</a>(<span class="keywordtype">int</span> entry) {
<a name="l02817"></a>02817     <span class="keywordflow">return</span> (entry * <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a07a0c51348c4c90e854d246c5c64b230">kEntrySize</a>) + <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a734b7cea1bb85575947c4332e9c63d52">kElementsStartIndex</a>;
<a name="l02818"></a>02818   }
<a name="l02819"></a>02819 
<a name="l02820"></a>02820   <span class="comment">// Update the number of elements in the hash table.</span>
<a name="l02821"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#af0c8a03e79251ba8b626eb6fc1559dc7">02821</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#af0c8a03e79251ba8b626eb6fc1559dc7">SetNumberOfElements</a>(<span class="keywordtype">int</span> nof) {
<a name="l02822"></a>02822     <span class="keyword">set</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a2e66e4da819fa011b720b118e38a1e73">kNumberOfElementsIndex</a>, <a class="code" href="classv8_1_1internal_1_1_smi.html#ab8a06699d9e96c9c50be9bf54c29ea86">Smi::FromInt</a>(nof));
<a name="l02823"></a>02823   }
<a name="l02824"></a>02824 
<a name="l02825"></a>02825   <span class="comment">// Update the number of deleted elements in the hash table.</span>
<a name="l02826"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#ad2c5bf5a584f5c938a98e74ec5b403c7">02826</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ad2c5bf5a584f5c938a98e74ec5b403c7">SetNumberOfDeletedElements</a>(<span class="keywordtype">int</span> nod) {
<a name="l02827"></a>02827     <span class="keyword">set</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a1752529c0e233cef17aefb2c69880b40">kNumberOfDeletedElementsIndex</a>, <a class="code" href="classv8_1_1internal_1_1_smi.html#ab8a06699d9e96c9c50be9bf54c29ea86">Smi::FromInt</a>(nod));
<a name="l02828"></a>02828   }
<a name="l02829"></a>02829 
<a name="l02830"></a>02830   <span class="comment">// Sets the capacity of the hash table.</span>
<a name="l02831"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a887206acf1d3c809042bc90560f1ae04">02831</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a887206acf1d3c809042bc90560f1ae04">SetCapacity</a>(<span class="keywordtype">int</span> capacity) {
<a name="l02832"></a>02832     <span class="comment">// To scale a computed hash code to fit within the hash table, we</span>
<a name="l02833"></a>02833     <span class="comment">// use bit-wise AND with a mask, so the capacity must be positive</span>
<a name="l02834"></a>02834     <span class="comment">// and non-zero.</span>
<a name="l02835"></a>02835     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(capacity &gt; 0);
<a name="l02836"></a>02836     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(capacity &lt;= <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a9387d93e1f7778e9e485536e116e2346">kMaxCapacity</a>);
<a name="l02837"></a>02837     <span class="keyword">set</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#acfc65824d5e0771042205b340e5c7483">kCapacityIndex</a>, <a class="code" href="classv8_1_1internal_1_1_smi.html#ab8a06699d9e96c9c50be9bf54c29ea86">Smi::FromInt</a>(capacity));
<a name="l02838"></a>02838   }
<a name="l02839"></a>02839 
<a name="l02840"></a>02840 
<a name="l02841"></a>02841   <span class="comment">// Returns probe entry.</span>
<a name="l02842"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac39a92525213720059f09e2b6d034617">02842</a>   <span class="keyword">static</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac39a92525213720059f09e2b6d034617">GetProbe</a>(uint32_t hash, uint32_t number, uint32_t <a class="code" href="namespacev8_1_1internal.html#abf135806b67fe9f9a823fbbbe25de86b">size</a>) {
<a name="l02843"></a>02843     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="namespacev8_1_1internal.html#ab46d6fb6aab3e552e9fb0ab7fe9212ba">IsPowerOf2</a>(size));
<a name="l02844"></a>02844     <span class="keywordflow">return</span> (hash + GetProbeOffset(number)) &amp; (size - 1);
<a name="l02845"></a>02845   }
<a name="l02846"></a>02846 
<a name="l02847"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac20f5bdf756540a5f684abffbd3913b3">02847</a>   <span class="keyword">static</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ac20f5bdf756540a5f684abffbd3913b3">FirstProbe</a>(uint32_t hash, uint32_t <a class="code" href="namespacev8_1_1internal.html#abf135806b67fe9f9a823fbbbe25de86b">size</a>) {
<a name="l02848"></a>02848     <span class="keywordflow">return</span> hash &amp; (size - 1);
<a name="l02849"></a>02849   }
<a name="l02850"></a>02850 
<a name="l02851"></a><a class="code" href="classv8_1_1internal_1_1_hash_table.html#a09604a6112d3969ac005296d1ba887f5">02851</a>   <span class="keyword">static</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a09604a6112d3969ac005296d1ba887f5">NextProbe</a>(uint32_t last, uint32_t number, uint32_t <a class="code" href="namespacev8_1_1internal.html#abf135806b67fe9f9a823fbbbe25de86b">size</a>) {
<a name="l02852"></a>02852     <span class="keywordflow">return</span> (last + number) &amp; (size - 1);
<a name="l02853"></a>02853   }
<a name="l02854"></a>02854 
<a name="l02855"></a>02855   <span class="comment">// Rehashes this hash-table into the new table.</span>
<a name="l02856"></a>02856   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0f32f59579159e121a73b79954e8e999">Rehash</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>* new_table, Key key);
<a name="l02857"></a>02857 
<a name="l02858"></a>02858   <span class="comment">// Attempt to shrink hash table after removal of key.</span>
<a name="l02859"></a>02859   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_hash_table.html#ad1cc83646465054f83d1d888c94496ce">Shrink</a>(Key key);
<a name="l02860"></a>02860 
<a name="l02861"></a>02861   <span class="comment">// Ensure enough space for n additional elements.</span>
<a name="l02862"></a>02862   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a50a59c24a6e73248bb9e784033812882">EnsureCapacity</a>(<span class="keywordtype">int</span> n, Key key);
<a name="l02863"></a>02863 };
<a name="l02864"></a>02864 
<a name="l02865"></a>02865 
<a name="l02866"></a>02866 <span class="comment">// HashTableKey is an abstract superclass for virtual key behavior.</span>
<a name="l02867"></a><a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">02867</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a> {
<a name="l02868"></a>02868  <span class="keyword">public</span>:
<a name="l02869"></a>02869   <span class="comment">// Returns whether the other object matches this key.</span>
<a name="l02870"></a>02870   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a2ab80629572d6a06beea7d0f74cb5b20">IsMatch</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* other) = 0;
<a name="l02871"></a>02871   <span class="comment">// Returns the hash value for this key.</span>
<a name="l02872"></a>02872   <span class="keyword">virtual</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a28f8ad09c53eac2bd5888d48f376a949">Hash</a>() = 0;
<a name="l02873"></a>02873   <span class="comment">// Returns the hash value for object.</span>
<a name="l02874"></a>02874   <span class="keyword">virtual</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#ac2bd1e6c42749dcf182f9e9cf29b2ee2">HashForObject</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key) = 0;
<a name="l02875"></a>02875   <span class="comment">// Returns the key object for storing into the hash table.</span>
<a name="l02876"></a>02876   <span class="comment">// If allocations fails a failure object is returned.</span>
<a name="l02877"></a>02877   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">virtual</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#acb34f79396d9e049d52d3b59ce4a363f">AsObject</a>() = 0;
<a name="l02878"></a>02878   <span class="comment">// Required.</span>
<a name="l02879"></a><a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a2d799af5cace86dde49f79a780ab1379">02879</a>   <span class="keyword">virtual</span> <a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a2d799af5cace86dde49f79a780ab1379">~HashTableKey</a>() {}
<a name="l02880"></a>02880 };
<a name="l02881"></a>02881 
<a name="l02882"></a>02882 
<a name="l02883"></a><a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html">02883</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html">SymbolTableShape</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html">BaseShape</a>&lt;HashTableKey*&gt; {
<a name="l02884"></a>02884  <span class="keyword">public</span>:
<a name="l02885"></a><a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#ae833003d1ae5a4c14b7599e72a58835b">02885</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#ae833003d1ae5a4c14b7599e72a58835b">IsMatch</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value) {
<a name="l02886"></a>02886     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a2ab80629572d6a06beea7d0f74cb5b20">IsMatch</a>(value);
<a name="l02887"></a>02887   }
<a name="l02888"></a><a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#a31bd677a5442704e351ee4f248de1d14">02888</a>   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#a31bd677a5442704e351ee4f248de1d14">Hash</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key) {
<a name="l02889"></a>02889     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a28f8ad09c53eac2bd5888d48f376a949">Hash</a>();
<a name="l02890"></a>02890   }
<a name="l02891"></a><a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#a4367ec222d4aee61b71eac74d9fac2ba">02891</a>   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#a4367ec222d4aee61b71eac74d9fac2ba">HashForObject</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>) {
<a name="l02892"></a>02892     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#ac2bd1e6c42749dcf182f9e9cf29b2ee2">HashForObject</a>(<span class="keywordtype">object</span>);
<a name="l02893"></a>02893   }
<a name="l02894"></a><a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#aef4e27be6d3f43afa83cac250a7624a0">02894</a>   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#aef4e27be6d3f43afa83cac250a7624a0">AsObject</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key) {
<a name="l02895"></a>02895     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#acb34f79396d9e049d52d3b59ce4a363f">AsObject</a>();
<a name="l02896"></a>02896   }
<a name="l02897"></a>02897 
<a name="l02898"></a><a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#ae20f5fa286e534f2fb6c80ec8f1b968d">02898</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#ae20f5fa286e534f2fb6c80ec8f1b968d">kPrefixSize</a> = 0;
<a name="l02899"></a><a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#a1d70d0e87975c1ebd4d421cf0f5930fa">02899</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_symbol_table_shape.html#a1d70d0e87975c1ebd4d421cf0f5930fa">kEntrySize</a> = 1;
<a name="l02900"></a>02900 };
<a name="l02901"></a>02901 
<a name="l02902"></a>02902 <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html">SeqAsciiString</a>;
<a name="l02903"></a>02903 
<a name="l02904"></a>02904 <span class="comment">// SymbolTable.</span>
<a name="l02905"></a>02905 <span class="comment">//</span>
<a name="l02906"></a>02906 <span class="comment">// No special elements in the prefix and the element size is 1</span>
<a name="l02907"></a>02907 <span class="comment">// because only the symbol itself (the key) needs to be stored.</span>
<a name="l02908"></a><a class="code" href="classv8_1_1internal_1_1_symbol_table.html">02908</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_symbol_table.html">SymbolTable</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>&lt;SymbolTableShape, HashTableKey*&gt; {
<a name="l02909"></a>02909  <span class="keyword">public</span>:
<a name="l02910"></a>02910   <span class="comment">// Find symbol in the symbol table.  If it is not there yet, it is</span>
<a name="l02911"></a>02911   <span class="comment">// added.  The return value is the symbol table which might have</span>
<a name="l02912"></a>02912   <span class="comment">// been enlarged.  If the return value is not a failure, the symbol</span>
<a name="l02913"></a>02913   <span class="comment">// pointer *s is set to the symbol found.</span>
<a name="l02914"></a>02914   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_symbol_table.html#ac914fb30c5047d6ba5726a2288039546">LookupSymbol</a>(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const char&gt;</a> str, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** s);
<a name="l02915"></a>02915   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_symbol_table.html#a8238763c6e7972c8fdf8c31da7e4fe9e">LookupAsciiSymbol</a>(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const char&gt;</a> str,
<a name="l02916"></a>02916                                                  <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** s);
<a name="l02917"></a>02917   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_symbol_table.html#abc71bb256035712fa3b4e615ede216c2">LookupSubStringAsciiSymbol</a>(
<a name="l02918"></a>02918       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;SeqAsciiString&gt;</a> str,
<a name="l02919"></a>02919       <span class="keywordtype">int</span> from,
<a name="l02920"></a>02920       <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>,
<a name="l02921"></a>02921       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** s);
<a name="l02922"></a>02922   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_symbol_table.html#aeffb94608977c2454a71cd30c9cd3e05">LookupTwoByteSymbol</a>(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const uc16&gt;</a> str,
<a name="l02923"></a>02923                                                    <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** s);
<a name="l02924"></a>02924   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_symbol_table.html#a609c29c1909963243d367d3fe2900901">LookupString</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** s);
<a name="l02925"></a>02925 
<a name="l02926"></a>02926   <span class="comment">// Looks up a symbol that is equal to the given string and returns</span>
<a name="l02927"></a>02927   <span class="comment">// true if it is found, assigning the symbol to the given output</span>
<a name="l02928"></a>02928   <span class="comment">// parameter.</span>
<a name="l02929"></a>02929   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_symbol_table.html#aaa07f90d3ae47d7356ab15ec337d4f24">LookupSymbolIfExists</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* str, <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>** symbol);
<a name="l02930"></a>02930   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_symbol_table.html#afe2adc111a1797ba8e8a7d1980e842c8">LookupTwoCharsSymbolIfExists</a>(uint32_t c1, uint32_t c2, <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>** symbol);
<a name="l02931"></a>02931 
<a name="l02932"></a>02932   <span class="comment">// Casting.</span>
<a name="l02933"></a>02933   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_symbol_table.html">SymbolTable</a>* <a class="code" href="classv8_1_1internal_1_1_symbol_table.html#ac3a1e6d53e81b8b4ec346f940ad01fd9">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l02934"></a>02934 
<a name="l02935"></a>02935  <span class="keyword">private</span>:
<a name="l02936"></a>02936   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* LookupKey(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** s);
<a name="l02937"></a>02937 
<a name="l02938"></a>02938   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_symbol_table.html">SymbolTable</a>);
<a name="l02939"></a>02939 };
<a name="l02940"></a>02940 
<a name="l02941"></a>02941 
<a name="l02942"></a><a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html">02942</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html">MapCacheShape</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html">BaseShape</a>&lt;HashTableKey*&gt; {
<a name="l02943"></a>02943  <span class="keyword">public</span>:
<a name="l02944"></a><a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#ab335975663862b94b68861fafc5661ee">02944</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#ab335975663862b94b68861fafc5661ee">IsMatch</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value) {
<a name="l02945"></a>02945     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a2ab80629572d6a06beea7d0f74cb5b20">IsMatch</a>(value);
<a name="l02946"></a>02946   }
<a name="l02947"></a><a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#a90f50d2ad832b29efc03dd4655c62521">02947</a>   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#a90f50d2ad832b29efc03dd4655c62521">Hash</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key) {
<a name="l02948"></a>02948     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a28f8ad09c53eac2bd5888d48f376a949">Hash</a>();
<a name="l02949"></a>02949   }
<a name="l02950"></a>02950 
<a name="l02951"></a><a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#a7888c7d67725463c7619383027e772a4">02951</a>   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#a7888c7d67725463c7619383027e772a4">HashForObject</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>) {
<a name="l02952"></a>02952     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#ac2bd1e6c42749dcf182f9e9cf29b2ee2">HashForObject</a>(<span class="keywordtype">object</span>);
<a name="l02953"></a>02953   }
<a name="l02954"></a>02954 
<a name="l02955"></a><a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#ae45875bd655cb01080308a2fa584549f">02955</a>   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#ae45875bd655cb01080308a2fa584549f">AsObject</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key) {
<a name="l02956"></a>02956     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#acb34f79396d9e049d52d3b59ce4a363f">AsObject</a>();
<a name="l02957"></a>02957   }
<a name="l02958"></a>02958 
<a name="l02959"></a><a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#a021325975920d4f1d1904c42851bb920">02959</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#a021325975920d4f1d1904c42851bb920">kPrefixSize</a> = 0;
<a name="l02960"></a><a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#a47dbcc3ffb4d91bdfa578ed934c097de">02960</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_map_cache_shape.html#a47dbcc3ffb4d91bdfa578ed934c097de">kEntrySize</a> = 2;
<a name="l02961"></a>02961 };
<a name="l02962"></a>02962 
<a name="l02963"></a>02963 
<a name="l02964"></a>02964 <span class="comment">// MapCache.</span>
<a name="l02965"></a>02965 <span class="comment">//</span>
<a name="l02966"></a>02966 <span class="comment">// Maps keys that are a fixed array of symbols to a map.</span>
<a name="l02967"></a>02967 <span class="comment">// Used for canonicalize maps for object literals.</span>
<a name="l02968"></a><a class="code" href="classv8_1_1internal_1_1_map_cache.html">02968</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_map_cache.html">MapCache</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>&lt;MapCacheShape, HashTableKey*&gt; {
<a name="l02969"></a>02969  <span class="keyword">public</span>:
<a name="l02970"></a>02970   <span class="comment">// Find cached value for a string key, otherwise return null.</span>
<a name="l02971"></a>02971   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_map_cache.html#a74a5f0eb4ba20945c6ac6e3b16cabd52">Lookup</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* key);
<a name="l02972"></a>02972   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_map_cache.html#aada6fab153a345c6a13240f602d219af">Put</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* key, <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* value);
<a name="l02973"></a>02973   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_map_cache.html">MapCache</a>* <a class="code" href="classv8_1_1internal_1_1_map_cache.html#a04c04bc8f3d92c1f32ee38a6b845cddc">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l02974"></a>02974 
<a name="l02975"></a>02975  <span class="keyword">private</span>:
<a name="l02976"></a>02976   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_map_cache.html">MapCache</a>);
<a name="l02977"></a>02977 };
<a name="l02978"></a>02978 
<a name="l02979"></a>02979 
<a name="l02980"></a>02980 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Shape, <span class="keyword">typename</span> Key&gt;
<a name="l02981"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html">02981</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_dictionary.html">Dictionary</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>&lt;Shape, Key&gt; {
<a name="l02982"></a>02982  <span class="keyword">public</span>:
<a name="l02983"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#aeafa74ba90147e4d7c47ec16fb809887">02983</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html">Dictionary&lt;Shape, Key&gt;</a>* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#aeafa74ba90147e4d7c47ec16fb809887">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj) {
<a name="l02984"></a>02984     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_dictionary.html">Dictionary&lt;Shape, Key&gt;</a>*<span class="keyword">&gt;</span>(obj);
<a name="l02985"></a>02985   }
<a name="l02986"></a>02986 
<a name="l02987"></a>02987   <span class="comment">// Returns the value at entry.</span>
<a name="l02988"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#a9782cf1c5f9229ce47f516b10edc4069">02988</a>   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a9782cf1c5f9229ce47f516b10edc4069">ValueAt</a>(<span class="keywordtype">int</span> entry) {
<a name="l02989"></a>02989     <span class="keywordflow">return</span> this-&gt;<span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0c22dfea91732f59e18649fe3daae469">HashTable&lt;Shape, Key&gt;::EntryToIndex</a>(entry) + 1);
<a name="l02990"></a>02990   }
<a name="l02991"></a>02991 
<a name="l02992"></a>02992   <span class="comment">// Set the value for entry.</span>
<a name="l02993"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#ac62162c0d24acdbc1c4ccd2005cd8719">02993</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#ac62162c0d24acdbc1c4ccd2005cd8719">ValueAtPut</a>(<span class="keywordtype">int</span> entry, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value) {
<a name="l02994"></a>02994     this-&gt;<span class="keyword">set</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0c22dfea91732f59e18649fe3daae469">HashTable&lt;Shape, Key&gt;::EntryToIndex</a>(entry) + 1, value);
<a name="l02995"></a>02995   }
<a name="l02996"></a>02996 
<a name="l02997"></a>02997   <span class="comment">// Returns the property details for the property at entry.</span>
<a name="l02998"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#ad8c51c7ef86dc2b022bd75b55d9dddfc">02998</a>   PropertyDetails <a class="code" href="classv8_1_1internal_1_1_dictionary.html#ad8c51c7ef86dc2b022bd75b55d9dddfc">DetailsAt</a>(<span class="keywordtype">int</span> entry) {
<a name="l02999"></a>02999     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(entry &gt;= 0);  <span class="comment">// Not found is -1, which is not caught by get().</span>
<a name="l03000"></a>03000     <span class="keywordflow">return</span> PropertyDetails(
<a name="l03001"></a>03001         <a class="code" href="classv8_1_1internal_1_1_smi.html#a26c50e7d4d8055bf2d296306837ff521">Smi::cast</a>(this-&gt;<span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable&lt;Shape, Key&gt;::EntryToIndex</a>(entry) + 2)));
<a name="l03002"></a>03002   }
<a name="l03003"></a>03003 
<a name="l03004"></a>03004   <span class="comment">// Set the details for entry.</span>
<a name="l03005"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#aafd54e750f43760a42aa6965b4195557">03005</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#aafd54e750f43760a42aa6965b4195557">DetailsAtPut</a>(<span class="keywordtype">int</span> entry, PropertyDetails value) {
<a name="l03006"></a>03006     this-&gt;<span class="keyword">set</span>(<a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0c22dfea91732f59e18649fe3daae469">HashTable&lt;Shape, Key&gt;::EntryToIndex</a>(entry) + 2, value.AsSmi());
<a name="l03007"></a>03007   }
<a name="l03008"></a>03008 
<a name="l03009"></a>03009   <span class="comment">// Sorting support</span>
<a name="l03010"></a>03010   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a2c8e0688c01bfd81341142d55f02c238">CopyValuesTo</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* elements);
<a name="l03011"></a>03011 
<a name="l03012"></a>03012   <span class="comment">// Delete a property from the dictionary.</span>
<a name="l03013"></a>03013   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0d0dd47c054c6ddd211c09b4ab380a4f">DeleteProperty</a>(<span class="keywordtype">int</span> entry, <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">JSObject::DeleteMode</a> mode);
<a name="l03014"></a>03014 
<a name="l03015"></a>03015   <span class="comment">// Attempt to shrink the dictionary after deletion of key.</span>
<a name="l03016"></a>03016   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a8746df21ad6ecee104219753c9ffb3bb">Shrink</a>(Key key);
<a name="l03017"></a>03017 
<a name="l03018"></a>03018   <span class="comment">// Returns the number of elements in the dictionary filtering out properties</span>
<a name="l03019"></a>03019   <span class="comment">// with the specified attributes.</span>
<a name="l03020"></a>03020   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#abfd0388856c9456a04d8fc9de111e486">NumberOfElementsFilterAttributes</a>(<a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> filter);
<a name="l03021"></a>03021 
<a name="l03022"></a>03022   <span class="comment">// Returns the number of enumerable elements in the dictionary.</span>
<a name="l03023"></a>03023   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a6f1d65107b37551c7d655873b3bf6ed4">NumberOfEnumElements</a>();
<a name="l03024"></a>03024 
<a name="l03025"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0090026b780259a31ce767ac796c6200ae06e8cbf884937a2cd6e2ac032a5e53c">03025</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0090026b780259a31ce767ac796c6200">SortMode</a> { <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0090026b780259a31ce767ac796c6200ae06e8cbf884937a2cd6e2ac032a5e53c">UNSORTED</a>, <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0090026b780259a31ce767ac796c6200a9b590fc444d3b017a2e2cacf2815bba7">SORTED</a> };
<a name="l03026"></a>03026   <span class="comment">// Copies keys to preallocated fixed array.</span>
<a name="l03027"></a>03027   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a3f14126d787c3ad819771a0cdf9e9776">CopyKeysTo</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* storage,
<a name="l03028"></a>03028                   <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> filter,
<a name="l03029"></a>03029                   <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0090026b780259a31ce767ac796c6200">SortMode</a> sort_mode);
<a name="l03030"></a>03030   <span class="comment">// Fill in details for properties into storage.</span>
<a name="l03031"></a>03031   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a3f14126d787c3ad819771a0cdf9e9776">CopyKeysTo</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* storage, <span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0090026b780259a31ce767ac796c6200">SortMode</a> sort_mode);
<a name="l03032"></a>03032 
<a name="l03033"></a>03033   <span class="comment">// Accessors for next enumeration index.</span>
<a name="l03034"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#a6809b77e81c28e52d7bf4f81630ce048">03034</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a6809b77e81c28e52d7bf4f81630ce048">SetNextEnumerationIndex</a>(<span class="keywordtype">int</span> index) {
<a name="l03035"></a>03035     this-&gt;<span class="keyword">set</span>(<a class="code" href="classv8_1_1internal_1_1_dictionary.html#a37c344e9d0cd6db2d09b2278f6363050">kNextEnumerationIndexIndex</a>, <a class="code" href="classv8_1_1internal_1_1_smi.html#ab8a06699d9e96c9c50be9bf54c29ea86">Smi::FromInt</a>(index));
<a name="l03036"></a>03036   }
<a name="l03037"></a>03037 
<a name="l03038"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#a857e80c011105d1c6792453788590ebc">03038</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a857e80c011105d1c6792453788590ebc">NextEnumerationIndex</a>() {
<a name="l03039"></a>03039     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#aeafa74ba90147e4d7c47ec16fb809887">Smi::cast</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a44361ce215ec75f98ba22f84f7d4b360">FixedArray::get</a>(<a class="code" href="classv8_1_1internal_1_1_dictionary.html#a37c344e9d0cd6db2d09b2278f6363050">kNextEnumerationIndexIndex</a>))-&gt;value();
<a name="l03040"></a>03040   }
<a name="l03041"></a>03041 
<a name="l03042"></a>03042   <span class="comment">// Returns a new array for dictionary usage. Might return Failure.</span>
<a name="l03043"></a>03043   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a2be99b7e005a79d74d25c30282f95d30">Allocate</a>(<span class="keywordtype">int</span> at_least_space_for);
<a name="l03044"></a>03044 
<a name="l03045"></a>03045   <span class="comment">// Ensure enough space for n additional elements.</span>
<a name="l03046"></a>03046   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a3a095a4c781c31d21a4f1e657c89dc79">EnsureCapacity</a>(<span class="keywordtype">int</span> n, Key key);
<a name="l03047"></a>03047 
<a name="l03048"></a>03048 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03049"></a>03049 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Print</a>() {
<a name="l03050"></a>03050     <a class="code" href="lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Print</a>(stdout);
<a name="l03051"></a>03051   }
<a name="l03052"></a>03052   <span class="keywordtype">void</span> <a class="code" href="lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Print</a>(FILE* out);
<a name="l03053"></a>03053 <span class="preprocessor">#endif</span>
<a name="l03054"></a>03054 <span class="preprocessor"></span>  <span class="comment">// Returns the key (slow).</span>
<a name="l03055"></a>03055   <a class="code" href="classv8_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a5e68969ef1871b2fc975bc8c90e0a228">SlowReverseLookup</a>(<a class="code" href="classv8_1_1_object.html">Object</a>* value);
<a name="l03056"></a>03056 
<a name="l03057"></a>03057   <span class="comment">// Sets the entry to (key, value) pair.</span>
<a name="l03058"></a>03058   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0453df58d2bf0c5c9e04d44bdd0dc9e0">SetEntry</a>(<span class="keywordtype">int</span> entry,
<a name="l03059"></a>03059                        <a class="code" href="classv8_1_1_object.html">Object</a>* key,
<a name="l03060"></a>03060                        <a class="code" href="classv8_1_1_object.html">Object</a>* value);
<a name="l03061"></a>03061   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0453df58d2bf0c5c9e04d44bdd0dc9e0">SetEntry</a>(<span class="keywordtype">int</span> entry,
<a name="l03062"></a>03062                        <a class="code" href="classv8_1_1_object.html">Object</a>* key,
<a name="l03063"></a>03063                        <a class="code" href="classv8_1_1_object.html">Object</a>* value,
<a name="l03064"></a>03064                        PropertyDetails details);
<a name="l03065"></a>03065 
<a name="l03066"></a>03066   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a359d7af43c0b83ef3a8e09a13d77c019">Add</a>(Key key,
<a name="l03067"></a>03067                                    <a class="code" href="classv8_1_1_object.html">Object</a>* value,
<a name="l03068"></a>03068                                    PropertyDetails details);
<a name="l03069"></a>03069 
<a name="l03070"></a>03070  <span class="keyword">protected</span>:
<a name="l03071"></a>03071   <span class="comment">// Generic at put operation.</span>
<a name="l03072"></a>03072   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#aeb1699817de36b74318b9a66be85d4a2">AtPut</a>(Key key, <a class="code" href="classv8_1_1_object.html">Object</a>* value);
<a name="l03073"></a>03073 
<a name="l03074"></a>03074   <span class="comment">// Add entry to dictionary.</span>
<a name="l03075"></a>03075   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a49f67675f35a8f339fc7d04c2497f2a3">AddEntry</a>(Key key,
<a name="l03076"></a>03076                                         <a class="code" href="classv8_1_1_object.html">Object</a>* value,
<a name="l03077"></a>03077                                         PropertyDetails details,
<a name="l03078"></a>03078                                         uint32_t hash);
<a name="l03079"></a>03079 
<a name="l03080"></a>03080   <span class="comment">// Generate new enumeration indices to avoid enumeration index overflow.</span>
<a name="l03081"></a>03081   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_dictionary.html#aa14f6e97b666353529c15417363fdaf1">GenerateNewEnumerationIndices</a>();
<a name="l03082"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0f997d5874ec9b66b1ab5b638ce0792b">03082</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0f997d5874ec9b66b1ab5b638ce0792b">kMaxNumberKeyIndex</a> =
<a name="l03083"></a>03083       <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable&lt;Shape, Key&gt;::kPrefixStartIndex</a>;
<a name="l03084"></a><a class="code" href="classv8_1_1internal_1_1_dictionary.html#a37c344e9d0cd6db2d09b2278f6363050">03084</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a37c344e9d0cd6db2d09b2278f6363050">kNextEnumerationIndexIndex</a> = <a class="code" href="classv8_1_1internal_1_1_dictionary.html#a0f997d5874ec9b66b1ab5b638ce0792b">kMaxNumberKeyIndex</a> + 1;
<a name="l03085"></a>03085 };
<a name="l03086"></a>03086 
<a name="l03087"></a>03087 
<a name="l03088"></a><a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html">03088</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html">StringDictionaryShape</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html">BaseShape</a>&lt;String*&gt; {
<a name="l03089"></a>03089  <span class="keyword">public</span>:
<a name="l03090"></a>03090   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#a3a467b7f74ff896db63f5dfc5a8fd4ab">IsMatch</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* other);
<a name="l03091"></a>03091   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#a1cde82318eb297db08d37ce173038d86">Hash</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key);
<a name="l03092"></a>03092   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#ad211842014a007446fb13d1cb4e69a24">HashForObject</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>);
<a name="l03093"></a>03093   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#ae9273a9236751fbca63fe075c7c51d5d">AsObject</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key);
<a name="l03094"></a><a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#a38230724cd18e4a1a7da44487a114d89">03094</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#a38230724cd18e4a1a7da44487a114d89">kPrefixSize</a> = 2;
<a name="l03095"></a><a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#a6dfc3e77115b058b90555eb28d07aec7">03095</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#a6dfc3e77115b058b90555eb28d07aec7">kEntrySize</a> = 3;
<a name="l03096"></a><a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#a30771fdda08173c8e51a4abfcb07e634">03096</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string_dictionary_shape.html#a30771fdda08173c8e51a4abfcb07e634">kIsEnumerable</a> = <span class="keyword">true</span>;
<a name="l03097"></a>03097 };
<a name="l03098"></a>03098 
<a name="l03099"></a>03099 
<a name="l03100"></a><a class="code" href="classv8_1_1internal_1_1_string_dictionary.html">03100</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_string_dictionary.html">StringDictionary</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html">Dictionary</a>&lt;StringDictionaryShape, String*&gt; {
<a name="l03101"></a>03101  <span class="keyword">public</span>:
<a name="l03102"></a><a class="code" href="classv8_1_1internal_1_1_string_dictionary.html#acac9c7f1c3754511be37d48dca184349">03102</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string_dictionary.html">StringDictionary</a>* <a class="code" href="classv8_1_1internal_1_1_string_dictionary.html#acac9c7f1c3754511be37d48dca184349">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj) {
<a name="l03103"></a>03103     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(obj-&gt;IsDictionary());
<a name="l03104"></a>03104     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_string_dictionary.html">StringDictionary</a>*<span class="keyword">&gt;</span>(obj);
<a name="l03105"></a>03105   }
<a name="l03106"></a>03106 
<a name="l03107"></a>03107   <span class="comment">// Copies enumerable keys to preallocated fixed array.</span>
<a name="l03108"></a>03108   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_string_dictionary.html#ad1c231c3347a08f82b6bfa69be1f35ab">CopyEnumKeysTo</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* storage, <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* sort_array);
<a name="l03109"></a>03109 
<a name="l03110"></a>03110   <span class="comment">// For transforming properties of a JSObject.</span>
<a name="l03111"></a>03111   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_string_dictionary.html#a1bc278e6a44b9efadece7306fbae467d">TransformPropertiesToFastFor</a>(
<a name="l03112"></a>03112       <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>* obj,
<a name="l03113"></a>03113       <span class="keywordtype">int</span> unused_property_fields);
<a name="l03114"></a>03114 
<a name="l03115"></a>03115   <span class="comment">// Find entry for key, otherwise return kNotFound. Optimized version of</span>
<a name="l03116"></a>03116   <span class="comment">// HashTable::FindEntry.</span>
<a name="l03117"></a>03117   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_string_dictionary.html#a78826dd73df18e34f03949716b2e4fe7">FindEntry</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key);
<a name="l03118"></a>03118 
<a name="l03119"></a>03119   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string_dictionary.html#a54af2aaf87f81c65bc591f5952da2684">ContainsTransition</a>(<span class="keywordtype">int</span> entry);
<a name="l03120"></a>03120 };
<a name="l03121"></a>03121 
<a name="l03122"></a>03122 
<a name="l03123"></a><a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html">03123</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html">NumberDictionaryShape</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html">BaseShape</a>&lt;uint32_t&gt; {
<a name="l03124"></a>03124  <span class="keyword">public</span>:
<a name="l03125"></a>03125   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html#a7110bfdac2c92ff9645904abb455c88e">IsMatch</a>(uint32_t key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* other);
<a name="l03126"></a>03126   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html#aae9dca765309d41d70e7699113e363b3">AsObject</a>(uint32_t key);
<a name="l03127"></a><a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html#a9076ec00745caf9bf124186dff62ea96">03127</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html#a9076ec00745caf9bf124186dff62ea96">kEntrySize</a> = 3;
<a name="l03128"></a><a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html#a2286539ca5d3e61f5fddfb1c5f44a7cd">03128</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html#a2286539ca5d3e61f5fddfb1c5f44a7cd">kIsEnumerable</a> = <span class="keyword">false</span>;
<a name="l03129"></a>03129 };
<a name="l03130"></a>03130 
<a name="l03131"></a>03131 
<a name="l03132"></a><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary_shape.html">03132</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary_shape.html">SeededNumberDictionaryShape</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html">NumberDictionaryShape</a> {
<a name="l03133"></a>03133  <span class="keyword">public</span>:
<a name="l03134"></a><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary_shape.html#aeef83de57b6cced5e74cd1032b9dd4c9">03134</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary_shape.html#aeef83de57b6cced5e74cd1032b9dd4c9">UsesSeed</a> = <span class="keyword">true</span>;
<a name="l03135"></a><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary_shape.html#a25afb78928f0df8903f54cb9bd5c704b">03135</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary_shape.html#a25afb78928f0df8903f54cb9bd5c704b">kPrefixSize</a> = 2;
<a name="l03136"></a>03136 
<a name="l03137"></a>03137   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary_shape.html#ae412ed359bf25f7fd1fd7573262e76c1">SeededHash</a>(uint32_t key, uint32_t <a class="code" href="test-strings_8cc.html#ae21f357c223957d36046a0d71cc6aed7">seed</a>);
<a name="l03138"></a>03138   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary_shape.html#aa7de6722f382f2fbb291f25d0d025128">SeededHashForObject</a>(uint32_t key,
<a name="l03139"></a>03139                                              uint32_t <a class="code" href="test-strings_8cc.html#ae21f357c223957d36046a0d71cc6aed7">seed</a>,
<a name="l03140"></a>03140                                              <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>);
<a name="l03141"></a>03141 };
<a name="l03142"></a>03142 
<a name="l03143"></a>03143 
<a name="l03144"></a><a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary_shape.html">03144</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary_shape.html">UnseededNumberDictionaryShape</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_number_dictionary_shape.html">NumberDictionaryShape</a> {
<a name="l03145"></a>03145  <span class="keyword">public</span>:
<a name="l03146"></a><a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary_shape.html#ab455952f7da70732c8171c1bd70faf27">03146</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary_shape.html#ab455952f7da70732c8171c1bd70faf27">kPrefixSize</a> = 0;
<a name="l03147"></a>03147 
<a name="l03148"></a>03148   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary_shape.html#aa263aeb1e0592f9a83df6b3347adbf03">Hash</a>(uint32_t key);
<a name="l03149"></a>03149   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary_shape.html#afdf69967c4a50a70d54b2b767b54fd21">HashForObject</a>(uint32_t key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>);
<a name="l03150"></a>03150 };
<a name="l03151"></a>03151 
<a name="l03152"></a>03152 
<a name="l03153"></a><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html">03153</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html">SeededNumberDictionary</a>
<a name="l03154"></a>03154     : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html">Dictionary</a>&lt;SeededNumberDictionaryShape, uint32_t&gt; {
<a name="l03155"></a>03155  <span class="keyword">public</span>:
<a name="l03156"></a><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#ad814bdcc0f2c0655bf216e88695ee70f">03156</a>   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html">SeededNumberDictionary</a>* <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#ad814bdcc0f2c0655bf216e88695ee70f">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj) {
<a name="l03157"></a>03157     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(obj-&gt;IsDictionary());
<a name="l03158"></a>03158     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html">SeededNumberDictionary</a>*<span class="keyword">&gt;</span>(obj);
<a name="l03159"></a>03159   }
<a name="l03160"></a>03160 
<a name="l03161"></a>03161   <span class="comment">// Type specific at put (default NONE attributes is used when adding).</span>
<a name="l03162"></a>03162   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a2d0a260eb1ed0a2d70ccb8a9894da92b">AtNumberPut</a>(uint32_t key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03163"></a>03163   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a9c77e55902154ed2b66259b5cbedf6a3">AddNumberEntry</a>(uint32_t key,
<a name="l03164"></a>03164                                               <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l03165"></a>03165                                               PropertyDetails details);
<a name="l03166"></a>03166 
<a name="l03167"></a>03167   <span class="comment">// Set an existing entry or add a new one if needed.</span>
<a name="l03168"></a>03168   <span class="comment">// Return the updated dictionary.</span>
<a name="l03169"></a>03169   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;SeededNumberDictionary&gt;</a> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a7bcaeb87d8a0904ee6c446ee6ab51499">Set</a>(
<a name="l03170"></a>03170       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;SeededNumberDictionary&gt;</a> dictionary,
<a name="l03171"></a>03171       uint32_t index,
<a name="l03172"></a>03172       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> value,
<a name="l03173"></a>03173       PropertyDetails details);
<a name="l03174"></a>03174 
<a name="l03175"></a>03175   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a7bcaeb87d8a0904ee6c446ee6ab51499">Set</a>(uint32_t key,
<a name="l03176"></a>03176                                    <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l03177"></a>03177                                    PropertyDetails details);
<a name="l03178"></a>03178 
<a name="l03179"></a>03179   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#ab01d01604f31a2ebacde8233dce945b1">UpdateMaxNumberKey</a>(uint32_t key);
<a name="l03180"></a>03180 
<a name="l03181"></a>03181   <span class="comment">// If slow elements are required we will never go back to fast-case</span>
<a name="l03182"></a>03182   <span class="comment">// for the elements kept in this dictionary.  We require slow</span>
<a name="l03183"></a>03183   <span class="comment">// elements if an element has been added at an index larger than</span>
<a name="l03184"></a>03184   <span class="comment">// kRequiresSlowElementsLimit or set_requires_slow_elements() has been called</span>
<a name="l03185"></a>03185   <span class="comment">// when defining a getter or setter with a number key.</span>
<a name="l03186"></a>03186   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a6a80262dbabab079434e9260e8c7a1eb">requires_slow_elements</a>();
<a name="l03187"></a>03187   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a729972b015f11fc83ba6eb0efbd233ca">set_requires_slow_elements</a>();
<a name="l03188"></a>03188 
<a name="l03189"></a>03189   <span class="comment">// Get the value of the max number key that has been added to this</span>
<a name="l03190"></a>03190   <span class="comment">// dictionary.  max_number_key can only be called if</span>
<a name="l03191"></a>03191   <span class="comment">// requires_slow_elements returns false.</span>
<a name="l03192"></a>03192   <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#ab5445b91af5175746651684b44a4dd9f">max_number_key</a>();
<a name="l03193"></a>03193 
<a name="l03194"></a>03194   <span class="comment">// Bit masks.</span>
<a name="l03195"></a><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#af07975b7d5f2fa40f44c564f03f7bfa6">03195</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#af07975b7d5f2fa40f44c564f03f7bfa6">kRequiresSlowElementsMask</a> = 1;
<a name="l03196"></a><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a34f7717701c83f02c689d60d9ac3c402">03196</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a34f7717701c83f02c689d60d9ac3c402">kRequiresSlowElementsTagSize</a> = 1;
<a name="l03197"></a><a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a60c8f3972587f54903789d0e08451809">03197</a>   <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_seeded_number_dictionary.html#a60c8f3972587f54903789d0e08451809">kRequiresSlowElementsLimit</a> = (1 &lt;&lt; 29) - 1;
<a name="l03198"></a>03198 };
<a name="l03199"></a>03199 
<a name="l03200"></a>03200 
<a name="l03201"></a><a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html">03201</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html">UnseededNumberDictionary</a>
<a name="l03202"></a>03202     : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_dictionary.html">Dictionary</a>&lt;UnseededNumberDictionaryShape, uint32_t&gt; {
<a name="l03203"></a>03203  <span class="keyword">public</span>:
<a name="l03204"></a><a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html#a7d95dbf76696ec93f931e61e36d0e629">03204</a>   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html">UnseededNumberDictionary</a>* <a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html#a7d95dbf76696ec93f931e61e36d0e629">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj) {
<a name="l03205"></a>03205     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(obj-&gt;IsDictionary());
<a name="l03206"></a>03206     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html">UnseededNumberDictionary</a>*<span class="keyword">&gt;</span>(obj);
<a name="l03207"></a>03207   }
<a name="l03208"></a>03208 
<a name="l03209"></a>03209   <span class="comment">// Type specific at put (default NONE attributes is used when adding).</span>
<a name="l03210"></a>03210   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html#a9645e2c780f26b1abd784a1da52143b7">AtNumberPut</a>(uint32_t key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03211"></a>03211   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html#ae3d1cca130249040b49a58b85ca80b8e">AddNumberEntry</a>(uint32_t key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03212"></a>03212 
<a name="l03213"></a>03213   <span class="comment">// Set an existing entry or add a new one if needed.</span>
<a name="l03214"></a>03214   <span class="comment">// Return the updated dictionary.</span>
<a name="l03215"></a>03215   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;UnseededNumberDictionary&gt;</a> <a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html#a18d703862205060eeff38735cdd1774c">Set</a>(
<a name="l03216"></a>03216       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;UnseededNumberDictionary&gt;</a> dictionary,
<a name="l03217"></a>03217       uint32_t index,
<a name="l03218"></a>03218       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> value);
<a name="l03219"></a>03219 
<a name="l03220"></a>03220   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_unseeded_number_dictionary.html#a18d703862205060eeff38735cdd1774c">Set</a>(uint32_t key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03221"></a>03221 };
<a name="l03222"></a>03222 
<a name="l03223"></a>03223 
<a name="l03224"></a>03224 <span class="keyword">template</span> &lt;<span class="keywordtype">int</span> entrysize&gt;
<a name="l03225"></a><a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html">03225</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html">ObjectHashTableShape</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html">BaseShape</a>&lt;Object*&gt; {
<a name="l03226"></a>03226  <span class="keyword">public</span>:
<a name="l03227"></a>03227   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html#a5f0d5552b4b0958857fc355c140f9fad">IsMatch</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* other);
<a name="l03228"></a>03228   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html#aeeb835b40f2a88ebc74f51c773604c20">Hash</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key);
<a name="l03229"></a>03229   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html#ab838e6c5729662a99222d66d77efb9c8">HashForObject</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>);
<a name="l03230"></a>03230   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> <span class="keyword">inline</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html#afa64fa685aced42f7a39b82d1587fa7c">AsObject</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key);
<a name="l03231"></a><a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html#ab67b4dda9429409ef233209562268db9">03231</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html#ab67b4dda9429409ef233209562268db9">kPrefixSize</a> = 0;
<a name="l03232"></a><a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html#aaf95fa996feb4357fdc7212172de3cff">03232</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_object_hash_table_shape.html#aaf95fa996feb4357fdc7212172de3cff">kEntrySize</a> = entrysize;
<a name="l03233"></a>03233 };
<a name="l03234"></a>03234 
<a name="l03235"></a>03235 
<a name="l03236"></a>03236 <span class="comment">// ObjectHashSet holds keys that are arbitrary objects by using the identity</span>
<a name="l03237"></a>03237 <span class="comment">// hash of the key for hashing purposes.</span>
<a name="l03238"></a><a class="code" href="classv8_1_1internal_1_1_object_hash_set.html">03238</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_object_hash_set.html">ObjectHashSet</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>&lt;ObjectHashTableShape&lt;1&gt;, Object*&gt; {
<a name="l03239"></a>03239  <span class="keyword">public</span>:
<a name="l03240"></a><a class="code" href="classv8_1_1internal_1_1_object_hash_set.html#aa9da7cd408d6c3d77b0098a143d64ccf">03240</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object_hash_set.html">ObjectHashSet</a>* <a class="code" href="classv8_1_1internal_1_1_object_hash_set.html#aa9da7cd408d6c3d77b0098a143d64ccf">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj) {
<a name="l03241"></a>03241     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(obj-&gt;IsHashTable());
<a name="l03242"></a>03242     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_object_hash_set.html">ObjectHashSet</a>*<span class="keyword">&gt;</span>(obj);
<a name="l03243"></a>03243   }
<a name="l03244"></a>03244 
<a name="l03245"></a>03245   <span class="comment">// Looks up whether the given key is part of this hash set.</span>
<a name="l03246"></a>03246   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_object_hash_set.html#a62df4179e47babb9a1481f37fb577ea8">Contains</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key);
<a name="l03247"></a>03247 
<a name="l03248"></a>03248   <span class="comment">// Adds the given key to this hash set.</span>
<a name="l03249"></a>03249   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object_hash_set.html#a3258c59052aa604942032bc020993ac5">Add</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key);
<a name="l03250"></a>03250 
<a name="l03251"></a>03251   <span class="comment">// Removes the given key from this hash set.</span>
<a name="l03252"></a>03252   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object_hash_set.html#af9ef7580d6bcc0a185600137b3936ae9">Remove</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key);
<a name="l03253"></a>03253 };
<a name="l03254"></a>03254 
<a name="l03255"></a>03255 
<a name="l03256"></a>03256 <span class="comment">// ObjectHashTable maps keys that are arbitrary objects to object values by</span>
<a name="l03257"></a>03257 <span class="comment">// using the identity hash of the key for hashing purposes.</span>
<a name="l03258"></a><a class="code" href="classv8_1_1internal_1_1_object_hash_table.html">03258</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_object_hash_table.html">ObjectHashTable</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>&lt;ObjectHashTableShape&lt;2&gt;, Object*&gt; {
<a name="l03259"></a>03259  <span class="keyword">public</span>:
<a name="l03260"></a><a class="code" href="classv8_1_1internal_1_1_object_hash_table.html#a8741a194b706f132109686933ef981fa">03260</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object_hash_table.html">ObjectHashTable</a>* <a class="code" href="classv8_1_1internal_1_1_object_hash_table.html#a8741a194b706f132109686933ef981fa">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj) {
<a name="l03261"></a>03261     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(obj-&gt;IsHashTable());
<a name="l03262"></a>03262     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1_object_hash_table.html">ObjectHashTable</a>*<span class="keyword">&gt;</span>(obj);
<a name="l03263"></a>03263   }
<a name="l03264"></a>03264 
<a name="l03265"></a>03265   <span class="comment">// Looks up the value associated with the given key. The undefined value is</span>
<a name="l03266"></a>03266   <span class="comment">// returned in case the key is not present.</span>
<a name="l03267"></a>03267   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_object_hash_table.html#a97e1ed6750aaed53c4bd6fd266e1ab44">Lookup</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key);
<a name="l03268"></a>03268 
<a name="l03269"></a>03269   <span class="comment">// Adds (or overwrites) the value associated with the given key. Mapping a</span>
<a name="l03270"></a>03270   <span class="comment">// key to the undefined value causes removal of the whole entry.</span>
<a name="l03271"></a>03271   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_object_hash_table.html#a165ae96abe299bcd5d5b9876326e63cd">Put</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03272"></a>03272 
<a name="l03273"></a>03273  <span class="keyword">private</span>:
<a name="l03274"></a><a class="code" href="classv8_1_1internal_1_1_object_hash_table.html#ae585a96455613b2bc2ae3ea75a061d8b">03274</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_mark_compact_collector.html">MarkCompactCollector</a>;
<a name="l03275"></a>03275 
<a name="l03276"></a>03276   <span class="keywordtype">void</span> AddEntry(<span class="keywordtype">int</span> entry, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03277"></a>03277   <span class="keywordtype">void</span> RemoveEntry(<span class="keywordtype">int</span> entry);
<a name="l03278"></a>03278 
<a name="l03279"></a>03279   <span class="comment">// Returns the index to the value of an entry.</span>
<a name="l03280"></a>03280   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> EntryToValueIndex(<span class="keywordtype">int</span> entry) {
<a name="l03281"></a>03281     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html#a0c22dfea91732f59e18649fe3daae469">EntryToIndex</a>(entry) + 1;
<a name="l03282"></a>03282   }
<a name="l03283"></a>03283 };
<a name="l03284"></a>03284 
<a name="l03285"></a>03285 
<a name="l03286"></a>03286 <span class="comment">// JSFunctionResultCache caches results of some JSFunction invocation.</span>
<a name="l03287"></a>03287 <span class="comment">// It is a fixed array with fixed structure:</span>
<a name="l03288"></a>03288 <span class="comment">//   [0]: factory function</span>
<a name="l03289"></a>03289 <span class="comment">//   [1]: finger index</span>
<a name="l03290"></a>03290 <span class="comment">//   [2]: current cache size</span>
<a name="l03291"></a>03291 <span class="comment">//   [3]: dummy field.</span>
<a name="l03292"></a>03292 <span class="comment">// The rest of array are key/value pairs.</span>
<a name="l03293"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html">03293</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html">JSFunctionResultCache</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a> {
<a name="l03294"></a>03294  <span class="keyword">public</span>:
<a name="l03295"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a38a1ce93324544f8685ce73801714982">03295</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a38a1ce93324544f8685ce73801714982">kFactoryIndex</a> = 0;
<a name="l03296"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#aed962139257321c760e467d6a93292e3">03296</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#aed962139257321c760e467d6a93292e3">kFingerIndex</a> = <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a38a1ce93324544f8685ce73801714982">kFactoryIndex</a> + 1;
<a name="l03297"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#ae6564bc0896cc2868f799dc69b4f8889">03297</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#ae6564bc0896cc2868f799dc69b4f8889">kCacheSizeIndex</a> = <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#aed962139257321c760e467d6a93292e3">kFingerIndex</a> + 1;
<a name="l03298"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a2ccc5e5d859fe12def93de99ba2c09fb">03298</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a2ccc5e5d859fe12def93de99ba2c09fb">kDummyIndex</a> = <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#ae6564bc0896cc2868f799dc69b4f8889">kCacheSizeIndex</a> + 1;
<a name="l03299"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a1e3a85bdec1703966eaa417caa0bca09">03299</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a1e3a85bdec1703966eaa417caa0bca09">kEntriesIndex</a> = <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a2ccc5e5d859fe12def93de99ba2c09fb">kDummyIndex</a> + 1;
<a name="l03300"></a>03300 
<a name="l03301"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a6a9ad7975af3443168c9e55db009e982">03301</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a6a9ad7975af3443168c9e55db009e982">kEntrySize</a> = 2;  <span class="comment">// key + value</span>
<a name="l03302"></a>03302 
<a name="l03303"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#ac35317eaeac39632ec2fd9b6e375f358">03303</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#ac35317eaeac39632ec2fd9b6e375f358">kFactoryOffset</a> = <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a>;
<a name="l03304"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#af37292d7fea82773ccfc905f72bc3a21">03304</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#af37292d7fea82773ccfc905f72bc3a21">kFingerOffset</a> = <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#ac35317eaeac39632ec2fd9b6e375f358">kFactoryOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l03305"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a598944bf57ad474aef7014ffbac84e2e">03305</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a598944bf57ad474aef7014ffbac84e2e">kCacheSizeOffset</a> = <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#af37292d7fea82773ccfc905f72bc3a21">kFingerOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l03306"></a>03306 
<a name="l03307"></a>03307   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a4d2ee7e91c34755ca74bb5922f6ba203">MakeZeroSize</a>();
<a name="l03308"></a>03308   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a3b532e1f64a3d3c5f7353449a756a015">Clear</a>();
<a name="l03309"></a>03309 
<a name="l03310"></a>03310   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a029f2ed10454ba44e7c22a54e46c385b">size</a>();
<a name="l03311"></a>03311   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a4c02c973d8a044332004e6bee3d1bd94">set_size</a>(<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a029f2ed10454ba44e7c22a54e46c385b">size</a>);
<a name="l03312"></a>03312   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a3638c5970987708522d036e9f37b2754">finger_index</a>();
<a name="l03313"></a>03313   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#ae7b553d68a04bc3fff33476d68f94d74">set_finger_index</a>(<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a3638c5970987708522d036e9f37b2754">finger_index</a>);
<a name="l03314"></a>03314 
<a name="l03315"></a>03315   <span class="comment">// Casting</span>
<a name="l03316"></a>03316   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html">JSFunctionResultCache</a>* <a class="code" href="classv8_1_1internal_1_1_j_s_function_result_cache.html#a1b8ab5be5b7e8a2e53ad6c6bc5ce72a1">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03317"></a>03317 
<a name="l03318"></a>03318 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l03319"></a>03319 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSFunctionResultCacheVerify();
<a name="l03320"></a>03320 <span class="preprocessor">#endif</span>
<a name="l03321"></a>03321 <span class="preprocessor"></span>};
<a name="l03322"></a>03322 
<a name="l03323"></a>03323 
<a name="l03324"></a>03324 <span class="comment">// ScopeInfo represents information about different scopes of a source</span>
<a name="l03325"></a>03325 <span class="comment">// program  and the allocation of the scope&#39;s variables. Scope information</span>
<a name="l03326"></a>03326 <span class="comment">// is stored in a compressed form in ScopeInfo objects and is used</span>
<a name="l03327"></a>03327 <span class="comment">// at runtime (stack dumps, deoptimization, etc.).</span>
<a name="l03328"></a>03328 
<a name="l03329"></a>03329 <span class="comment">// This object provides quick access to scope info details for runtime</span>
<a name="l03330"></a>03330 <span class="comment">// routines.</span>
<a name="l03331"></a><a class="code" href="classv8_1_1internal_1_1_scope_info.html">03331</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_scope_info.html">ScopeInfo</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a> {
<a name="l03332"></a>03332  <span class="keyword">public</span>:
<a name="l03333"></a>03333   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html">ScopeInfo</a>* <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a3b6554d5fac690479fdfa9881c5d3655">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>);
<a name="l03334"></a>03334 
<a name="l03335"></a>03335   <span class="comment">// Return the type of this scope.</span>
<a name="l03336"></a>03336   <a class="code" href="namespacev8_1_1internal.html#ad0138f8a2874ad84f5d2517b45e30e17">ScopeType</a> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#ae800e0fd14795e85c84c751500029d01">Type</a>();
<a name="l03337"></a>03337 
<a name="l03338"></a>03338   <span class="comment">// Does this scope call eval?</span>
<a name="l03339"></a>03339   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a432170e24589a5c5f9d1ad5bb1832623">CallsEval</a>();
<a name="l03340"></a>03340 
<a name="l03341"></a>03341   <span class="comment">// Return the language mode of this scope.</span>
<a name="l03342"></a>03342   <a class="code" href="namespacev8_1_1internal.html#a1ba33e2c27dbf4a22f26a28f80096e75">LanguageMode</a> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a1c3515dbe4bb6d991910ecb7a6001042">language_mode</a>();
<a name="l03343"></a>03343 
<a name="l03344"></a>03344   <span class="comment">// Does this scope make a non-strict eval call?</span>
<a name="l03345"></a><a class="code" href="classv8_1_1internal_1_1_scope_info.html#a26e727a924e89a56dc8b7f0c086bcfef">03345</a>   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a26e727a924e89a56dc8b7f0c086bcfef">CallsNonStrictEval</a>() {
<a name="l03346"></a>03346     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a432170e24589a5c5f9d1ad5bb1832623">CallsEval</a>() &amp;&amp; (<a class="code" href="classv8_1_1internal_1_1_scope_info.html#a1c3515dbe4bb6d991910ecb7a6001042">language_mode</a>() == <a class="code" href="namespacev8_1_1internal.html#a1ba33e2c27dbf4a22f26a28f80096e75af8474a96ccda57ff2ba1b7cac73459c8">CLASSIC_MODE</a>);
<a name="l03347"></a>03347   }
<a name="l03348"></a>03348 
<a name="l03349"></a>03349   <span class="comment">// Return the total number of locals allocated on the stack and in the</span>
<a name="l03350"></a>03350   <span class="comment">// context. This includes the parameters that are allocated in the context.</span>
<a name="l03351"></a>03351   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a8c5ea06d07d096ba90f9508307aeba96">LocalCount</a>();
<a name="l03352"></a>03352 
<a name="l03353"></a>03353   <span class="comment">// Return the number of stack slots for code. This number consists of two</span>
<a name="l03354"></a>03354   <span class="comment">// parts:</span>
<a name="l03355"></a>03355   <span class="comment">//  1. One stack slot per stack allocated local.</span>
<a name="l03356"></a>03356   <span class="comment">//  2. One stack slot for the function name if it is stack allocated.</span>
<a name="l03357"></a>03357   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a29109c40318ea4adf095f4e295d39a46">StackSlotCount</a>();
<a name="l03358"></a>03358 
<a name="l03359"></a>03359   <span class="comment">// Return the number of context slots for code if a context is allocated. This</span>
<a name="l03360"></a>03360   <span class="comment">// number consists of three parts:</span>
<a name="l03361"></a>03361   <span class="comment">//  1. Size of fixed header for every context: Context::MIN_CONTEXT_SLOTS</span>
<a name="l03362"></a>03362   <span class="comment">//  2. One context slot per context allocated local.</span>
<a name="l03363"></a>03363   <span class="comment">//  3. One context slot for the function name if it is context allocated.</span>
<a name="l03364"></a>03364   <span class="comment">// Parameters allocated in the context count as context allocated locals. If</span>
<a name="l03365"></a>03365   <span class="comment">// no contexts are allocated for this scope ContextLength returns 0.</span>
<a name="l03366"></a>03366   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#aef66422f96d9e2414e05178e28dc3220">ContextLength</a>();
<a name="l03367"></a>03367 
<a name="l03368"></a>03368   <span class="comment">// Is this scope the scope of a named function expression?</span>
<a name="l03369"></a>03369   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#adaaee44a533df7b23de313ce5b0ee0c8">HasFunctionName</a>();
<a name="l03370"></a>03370 
<a name="l03371"></a>03371   <span class="comment">// Return if this has context allocated locals.</span>
<a name="l03372"></a>03372   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a1208fd2b730b876332c68dbf842495b3">HasHeapAllocatedLocals</a>();
<a name="l03373"></a>03373 
<a name="l03374"></a>03374   <span class="comment">// Return if contexts are allocated for this scope.</span>
<a name="l03375"></a>03375   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a594e740248cc61d0d13bd8a4d0a90ba0">HasContext</a>();
<a name="l03376"></a>03376 
<a name="l03377"></a>03377   <span class="comment">// Return the function_name if present.</span>
<a name="l03378"></a>03378   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="classv8_1_1internal_1_1_scope_info.html#aec59a674c5efc48b30488fa94e60952f">FunctionName</a>();
<a name="l03379"></a>03379 
<a name="l03380"></a>03380   <span class="comment">// Return the name of the given parameter.</span>
<a name="l03381"></a>03381   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="classv8_1_1internal_1_1_scope_info.html#add97fe28aedcb5de286d0d79fd291aef">ParameterName</a>(<span class="keywordtype">int</span> var);
<a name="l03382"></a>03382 
<a name="l03383"></a>03383   <span class="comment">// Return the name of the given local.</span>
<a name="l03384"></a>03384   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="classv8_1_1internal_1_1_scope_info.html#acdac107aacd45fbfed0068240e5616bc">LocalName</a>(<span class="keywordtype">int</span> var);
<a name="l03385"></a>03385 
<a name="l03386"></a>03386   <span class="comment">// Return the name of the given stack local.</span>
<a name="l03387"></a>03387   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="classv8_1_1internal_1_1_scope_info.html#af01df9ddb90605479c6c065e8df37287">StackLocalName</a>(<span class="keywordtype">int</span> var);
<a name="l03388"></a>03388 
<a name="l03389"></a>03389   <span class="comment">// Return the name of the given context local.</span>
<a name="l03390"></a>03390   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="classv8_1_1internal_1_1_scope_info.html#acca4416c621b0b833e57bca1d5dff907">ContextLocalName</a>(<span class="keywordtype">int</span> var);
<a name="l03391"></a>03391 
<a name="l03392"></a>03392   <span class="comment">// Return the mode of the given context local.</span>
<a name="l03393"></a>03393   <a class="code" href="namespacev8_1_1internal.html#a7e6c17aa46835cb34aa75323fcc10c16">VariableMode</a> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a591902882e5e0a03a3e4a47361ffe32f">ContextLocalMode</a>(<span class="keywordtype">int</span> var);
<a name="l03394"></a>03394 
<a name="l03395"></a>03395   <span class="comment">// Return the initialization flag of the given context local.</span>
<a name="l03396"></a>03396   <a class="code" href="namespacev8_1_1internal.html#a1ba3f1160422ac24a0ad8dc4ee300e9c">InitializationFlag</a> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a03953d8010b3cfa19b38242fc1c089b2">ContextLocalInitFlag</a>(<span class="keywordtype">int</span> var);
<a name="l03397"></a>03397 
<a name="l03398"></a>03398   <span class="comment">// Lookup support for serialized scope info. Returns the</span>
<a name="l03399"></a>03399   <span class="comment">// the stack slot index for a given slot name if the slot is</span>
<a name="l03400"></a>03400   <span class="comment">// present; otherwise returns a value &lt; 0. The name must be a symbol</span>
<a name="l03401"></a>03401   <span class="comment">// (canonicalized).</span>
<a name="l03402"></a>03402   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a9d747b94a71c42e5eac3a2420c4686c9">StackSlotIndex</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l03403"></a>03403 
<a name="l03404"></a>03404   <span class="comment">// Lookup support for serialized scope info. Returns the</span>
<a name="l03405"></a>03405   <span class="comment">// context slot index for a given slot name if the slot is present; otherwise</span>
<a name="l03406"></a>03406   <span class="comment">// returns a value &lt; 0. The name must be a symbol (canonicalized).</span>
<a name="l03407"></a>03407   <span class="comment">// If the slot is present and mode != NULL, sets *mode to the corresponding</span>
<a name="l03408"></a>03408   <span class="comment">// mode for that variable.</span>
<a name="l03409"></a>03409   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#acf21bbe2df6e22acd76d13e2e10d5b1d">ContextSlotIndex</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>,
<a name="l03410"></a>03410                        <a class="code" href="namespacev8_1_1internal.html#a7e6c17aa46835cb34aa75323fcc10c16">VariableMode</a>* mode,
<a name="l03411"></a>03411                        <a class="code" href="namespacev8_1_1internal.html#a1ba3f1160422ac24a0ad8dc4ee300e9c">InitializationFlag</a>* init_flag);
<a name="l03412"></a>03412 
<a name="l03413"></a>03413   <span class="comment">// Lookup support for serialized scope info. Returns the</span>
<a name="l03414"></a>03414   <span class="comment">// parameter index for a given parameter name if the parameter is present;</span>
<a name="l03415"></a>03415   <span class="comment">// otherwise returns a value &lt; 0. The name must be a symbol (canonicalized).</span>
<a name="l03416"></a>03416   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a00f9938ad8b3975ffa57dbde5bccd7f3">ParameterIndex</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l03417"></a>03417 
<a name="l03418"></a>03418   <span class="comment">// Lookup support for serialized scope info. Returns the function context</span>
<a name="l03419"></a>03419   <span class="comment">// slot index if the function name is present and context-allocated (named</span>
<a name="l03420"></a>03420   <span class="comment">// function expressions, only), otherwise returns a value &lt; 0. The name</span>
<a name="l03421"></a>03421   <span class="comment">// must be a symbol (canonicalized).</span>
<a name="l03422"></a>03422   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a6f12ab64462159f6fd4226cdd14d2279">FunctionContextSlotIndex</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="namespacev8_1_1internal.html#a7e6c17aa46835cb34aa75323fcc10c16">VariableMode</a>* mode);
<a name="l03423"></a>03423 
<a name="l03424"></a>03424   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;ScopeInfo&gt;</a> <a class="code" href="classv8_1_1internal_1_1_scope_info.html#a04219f3f8f818bb8f1b30b95f2c5e831">Create</a>(<a class="code" href="classv8_1_1internal_1_1_scope.html">Scope</a>* scope);
<a name="l03425"></a>03425 
<a name="l03426"></a>03426   <span class="comment">// Serializes empty scope info.</span>
<a name="l03427"></a>03427   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_scope_info.html">ScopeInfo</a>* <a class="code" href="classv8_1_1internal_1_1_scope_info.html#ab9d9785ac7a9bc832dec0fa0cf34ab89">Empty</a>();
<a name="l03428"></a>03428 
<a name="l03429"></a>03429 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l03430"></a>03430 <span class="preprocessor"></span>  <span class="keywordtype">void</span> <a class="code" href="lineprocessor_8cc.html#ae894408d53a5dd2fec4c3e7ea09d5d4b">Print</a>();
<a name="l03431"></a>03431 <span class="preprocessor">#endif</span>
<a name="l03432"></a>03432 <span class="preprocessor"></span>
<a name="l03433"></a>03433   <span class="comment">// The layout of the static part of a ScopeInfo is as follows. Each entry is</span>
<a name="l03434"></a>03434   <span class="comment">// numeric and occupies one array slot.</span>
<a name="l03435"></a>03435   <span class="comment">// 1. A set of properties of the scope</span>
<a name="l03436"></a>03436   <span class="comment">// 2. The number of parameters. This only applies to function scopes. For</span>
<a name="l03437"></a>03437   <span class="comment">//    non-function scopes this is 0.</span>
<a name="l03438"></a>03438   <span class="comment">// 3. The number of non-parameter variables allocated on the stack.</span>
<a name="l03439"></a>03439   <span class="comment">// 4. The number of non-parameter and parameter variables allocated in the</span>
<a name="l03440"></a>03440   <span class="comment">//    context.</span>
<a name="l03441"></a><a class="code" href="objects_8h.html#a2994a37786832599a0398ef95f856d1b">03441</a> <span class="preprocessor">#define FOR_EACH_NUMERIC_FIELD(V)          \</span>
<a name="l03442"></a>03442 <span class="preprocessor">  V(Flags)                                 \</span>
<a name="l03443"></a>03443 <span class="preprocessor">  V(ParameterCount)                        \</span>
<a name="l03444"></a>03444 <span class="preprocessor">  V(StackLocalCount)                       \</span>
<a name="l03445"></a>03445 <span class="preprocessor">  V(ContextLocalCount)</span>
<a name="l03446"></a>03446 <span class="preprocessor"></span>
<a name="l03447"></a><a class="code" href="objects_8h.html#ae819af893bda1611c1f577048acea0af">03447</a> <span class="preprocessor">#define FIELD_ACCESSORS(name)                            \</span>
<a name="l03448"></a>03448 <span class="preprocessor">  void Set##name(int value) {                            \</span>
<a name="l03449"></a>03449 <span class="preprocessor">    set(k##name, Smi::FromInt(value));                   \</span>
<a name="l03450"></a>03450 <span class="preprocessor">  }                                                      \</span>
<a name="l03451"></a>03451 <span class="preprocessor">  int name() {                                           \</span>
<a name="l03452"></a>03452 <span class="preprocessor">    if (length() &gt; 0) {                                  \</span>
<a name="l03453"></a>03453 <span class="preprocessor">      return Smi::cast(get(k##name))-&gt;value();           \</span>
<a name="l03454"></a>03454 <span class="preprocessor">    } else {                                             \</span>
<a name="l03455"></a>03455 <span class="preprocessor">      return 0;                                          \</span>
<a name="l03456"></a>03456 <span class="preprocessor">    }                                                    \</span>
<a name="l03457"></a>03457 <span class="preprocessor">  }</span>
<a name="l03458"></a>03458 <span class="preprocessor"></span>  <a class="code" href="objects_8h.html#a2994a37786832599a0398ef95f856d1b">FOR_EACH_NUMERIC_FIELD</a>(<a class="code" href="objects_8h.html#ae819af893bda1611c1f577048acea0af">FIELD_ACCESSORS</a>)
<a name="l03459"></a>03459 <span class="preprocessor">#undef FIELD_ACCESSORS</span>
<a name="l03460"></a>03460 <span class="preprocessor"></span>
<a name="l03461"></a>03461  <span class="keyword">private</span>:
<a name="l03462"></a>03462   <span class="keyword">enum</span> {
<a name="l03463"></a><a class="code" href="objects_8h.html#a05878835b0c051be4a0af3202ac40519">03463</a> <span class="preprocessor">#define DECL_INDEX(name) k##name,</span>
<a name="l03464"></a>03464 <span class="preprocessor"></span>  <a class="code" href="objects_8h.html#a2994a37786832599a0398ef95f856d1b">FOR_EACH_NUMERIC_FIELD</a>(<a class="code" href="objects_8h.html#a05878835b0c051be4a0af3202ac40519">DECL_INDEX</a>)
<a name="l03465"></a>03465 <span class="preprocessor">#undef DECL_INDEX</span>
<a name="l03466"></a>03466 <span class="preprocessor"></span><span class="preprocessor">#undef FOR_EACH_NUMERIC_FIELD</span>
<a name="l03467"></a>03467 <span class="preprocessor"></span>  kVariablePartIndex
<a name="l03468"></a>03468   };
<a name="l03469"></a>03469 
<a name="l03470"></a>03470   <span class="comment">// The layout of the variable part of a ScopeInfo is as follows:</span>
<a name="l03471"></a>03471   <span class="comment">// 1. ParameterEntries:</span>
<a name="l03472"></a>03472   <span class="comment">//    This part stores the names of the parameters for function scopes. One</span>
<a name="l03473"></a>03473   <span class="comment">//    slot is used per parameter, so in total this part occupies</span>
<a name="l03474"></a>03474   <span class="comment">//    ParameterCount() slots in the array. For other scopes than function</span>
<a name="l03475"></a>03475   <span class="comment">//    scopes ParameterCount() is 0.</span>
<a name="l03476"></a>03476   <span class="comment">// 2. StackLocalEntries:</span>
<a name="l03477"></a>03477   <span class="comment">//    Contains the names of local variables that are allocated on the stack,</span>
<a name="l03478"></a>03478   <span class="comment">//    in increasing order of the stack slot index. One slot is used per stack</span>
<a name="l03479"></a>03479   <span class="comment">//    local, so in total this part occupies StackLocalCount() slots in the</span>
<a name="l03480"></a>03480   <span class="comment">//    array.</span>
<a name="l03481"></a>03481   <span class="comment">// 3. ContextLocalNameEntries:</span>
<a name="l03482"></a>03482   <span class="comment">//    Contains the names of local variables and parameters that are allocated</span>
<a name="l03483"></a>03483   <span class="comment">//    in the context. They are stored in increasing order of the context slot</span>
<a name="l03484"></a>03484   <span class="comment">//    index starting with Context::MIN_CONTEXT_SLOTS. One slot is used per</span>
<a name="l03485"></a>03485   <span class="comment">//    context local, so in total this part occupies ContextLocalCount() slots</span>
<a name="l03486"></a>03486   <span class="comment">//    in the array.</span>
<a name="l03487"></a>03487   <span class="comment">// 4. ContextLocalInfoEntries:</span>
<a name="l03488"></a>03488   <span class="comment">//    Contains the variable modes and initialization flags corresponding to</span>
<a name="l03489"></a>03489   <span class="comment">//    the context locals in ContextLocalNameEntries. One slot is used per</span>
<a name="l03490"></a>03490   <span class="comment">//    context local, so in total this part occupies ContextLocalCount()</span>
<a name="l03491"></a>03491   <span class="comment">//    slots in the array.</span>
<a name="l03492"></a>03492   <span class="comment">// 5. FunctionNameEntryIndex:</span>
<a name="l03493"></a>03493   <span class="comment">//    If the scope belongs to a named function expression this part contains</span>
<a name="l03494"></a>03494   <span class="comment">//    information about the function variable. It always occupies two array</span>
<a name="l03495"></a>03495   <span class="comment">//    slots:  a. The name of the function variable.</span>
<a name="l03496"></a>03496   <span class="comment">//            b. The context or stack slot index for the variable.</span>
<a name="l03497"></a>03497   <span class="keywordtype">int</span> ParameterEntriesIndex();
<a name="l03498"></a>03498   <span class="keywordtype">int</span> StackLocalEntriesIndex();
<a name="l03499"></a>03499   <span class="keywordtype">int</span> ContextLocalNameEntriesIndex();
<a name="l03500"></a>03500   <span class="keywordtype">int</span> ContextLocalInfoEntriesIndex();
<a name="l03501"></a>03501   <span class="keywordtype">int</span> FunctionNameEntryIndex();
<a name="l03502"></a>03502 
<a name="l03503"></a>03503   <span class="comment">// Location of the function variable for named function expressions.</span>
<a name="l03504"></a>03504   <span class="keyword">enum</span> FunctionVariableInfo {
<a name="l03505"></a>03505     NONE,     <span class="comment">// No function name present.</span>
<a name="l03506"></a>03506     STACK,    <span class="comment">// Function</span>
<a name="l03507"></a>03507     CONTEXT,
<a name="l03508"></a>03508     UNUSED
<a name="l03509"></a>03509   };
<a name="l03510"></a>03510 
<a name="l03511"></a>03511   <span class="comment">// Properties of scopes.</span>
<a name="l03512"></a>03512   <span class="keyword">class </span>TypeField:             <span class="keyword">public</span> BitField&lt;ScopeType,            0, 3&gt; {};
<a name="l03513"></a>03513   <span class="keyword">class </span>CallsEvalField:        <span class="keyword">public</span> BitField&lt;bool,                 3, 1&gt; {};
<a name="l03514"></a>03514   <span class="keyword">class </span>LanguageModeField:     <span class="keyword">public</span> BitField&lt;LanguageMode,         4, 2&gt; {};
<a name="l03515"></a>03515   <span class="keyword">class </span>FunctionVariableField: <span class="keyword">public</span> BitField&lt;FunctionVariableInfo, 6, 2&gt; {};
<a name="l03516"></a>03516   <span class="keyword">class </span>FunctionVariableMode:  <span class="keyword">public</span> BitField&lt;VariableMode,         8, 3&gt; {};
<a name="l03517"></a>03517 
<a name="l03518"></a>03518   <span class="comment">// BitFields representing the encoded information for context locals in the</span>
<a name="l03519"></a>03519   <span class="comment">// ContextLocalInfoEntries part.</span>
<a name="l03520"></a>03520   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_scope_info.html#a591902882e5e0a03a3e4a47361ffe32f">ContextLocalMode</a>:      <span class="keyword">public</span> BitField&lt;VariableMode,         0, 3&gt; {};
<a name="l03521"></a>03521   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_scope_info.html#a03953d8010b3cfa19b38242fc1c089b2">ContextLocalInitFlag</a>:  <span class="keyword">public</span> BitField&lt;InitializationFlag,   3, 1&gt; {};
<a name="l03522"></a>03522 };
<a name="l03523"></a>03523 
<a name="l03524"></a>03524 
<a name="l03525"></a>03525 <span class="comment">// The cache for maps used by normalized (dictionary mode) objects.</span>
<a name="l03526"></a>03526 <span class="comment">// Such maps do not have property descriptors, so a typical program</span>
<a name="l03527"></a>03527 <span class="comment">// needs very limited number of distinct normalized maps.</span>
<a name="l03528"></a><a class="code" href="classv8_1_1internal_1_1_normalized_map_cache.html">03528</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_normalized_map_cache.html">NormalizedMapCache</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a> {
<a name="l03529"></a>03529  <span class="keyword">public</span>:
<a name="l03530"></a><a class="code" href="classv8_1_1internal_1_1_normalized_map_cache.html#a828752080843da57db9c701281d62689">03530</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_normalized_map_cache.html#a828752080843da57db9c701281d62689">kEntries</a> = 64;
<a name="l03531"></a>03531 
<a name="l03532"></a>03532   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_normalized_map_cache.html#ae1aaea348c4447da38bf05cd6fd36f81">Get</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>* <span class="keywordtype">object</span>,
<a name="l03533"></a>03533                                    <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237a">PropertyNormalizationMode</a> mode);
<a name="l03534"></a>03534 
<a name="l03535"></a>03535   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_normalized_map_cache.html#a79ea7891816a709ad98ffbea0764b4e2">Clear</a>();
<a name="l03536"></a>03536 
<a name="l03537"></a>03537   <span class="comment">// Casting</span>
<a name="l03538"></a>03538   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_normalized_map_cache.html">NormalizedMapCache</a>* <a class="code" href="classv8_1_1internal_1_1_normalized_map_cache.html#a24e7b00ac4673c0d1e097f5a57bc98da">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03539"></a>03539 
<a name="l03540"></a>03540 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l03541"></a>03541 <span class="preprocessor"></span>  <span class="keywordtype">void</span> NormalizedMapCacheVerify();
<a name="l03542"></a>03542 <span class="preprocessor">#endif</span>
<a name="l03543"></a>03543 <span class="preprocessor"></span>};
<a name="l03544"></a>03544 
<a name="l03545"></a>03545 
<a name="l03546"></a>03546 <span class="comment">// ByteArray represents fixed sized byte arrays.  Used for the relocation info</span>
<a name="l03547"></a>03547 <span class="comment">// that is attached to code objects.</span>
<a name="l03548"></a><a class="code" href="classv8_1_1internal_1_1_byte_array.html">03548</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_byte_array.html">ByteArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a> {
<a name="l03549"></a>03549  <span class="keyword">public</span>:
<a name="l03550"></a><a class="code" href="classv8_1_1internal_1_1_byte_array.html#a738020faf50daf7fb95d4d0ef9fc8731">03550</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a738020faf50daf7fb95d4d0ef9fc8731">Size</a>() { <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>() + <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a>, <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>); }
<a name="l03551"></a>03551 
<a name="l03552"></a>03552   <span class="comment">// Setter and getter.</span>
<a name="l03553"></a>03553   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03554"></a>03554   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> value);
<a name="l03555"></a>03555 
<a name="l03556"></a>03556   <span class="comment">// Treat contents as an int array.</span>
<a name="l03557"></a>03557   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a451a1d97de1b1dbba8a8dd238d28d0dd">get_int</a>(<span class="keywordtype">int</span> index);
<a name="l03558"></a>03558 
<a name="l03559"></a><a class="code" href="classv8_1_1internal_1_1_byte_array.html#a0b2f58c92d17d1f72c82bf1116f79c62">03559</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a0b2f58c92d17d1f72c82bf1116f79c62">SizeFor</a>(<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>) {
<a name="l03560"></a>03560     <span class="keywordflow">return</span> <a class="code" href="v8globals_8h.html#a9ca74b32966f4dd37a67ce126daa56e0">OBJECT_POINTER_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a> + length);
<a name="l03561"></a>03561   }
<a name="l03562"></a>03562   <span class="comment">// We use byte arrays for free blocks in the heap.  Given a desired size in</span>
<a name="l03563"></a>03563   <span class="comment">// bytes that is a multiple of the word size and big enough to hold a byte</span>
<a name="l03564"></a>03564   <span class="comment">// array, this function returns the number of elements a byte array should</span>
<a name="l03565"></a>03565   <span class="comment">// have.</span>
<a name="l03566"></a><a class="code" href="classv8_1_1internal_1_1_byte_array.html#a59dfeddc28a37ee47271562bdfa3f97b">03566</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a59dfeddc28a37ee47271562bdfa3f97b">LengthFor</a>(<span class="keywordtype">int</span> size_in_bytes) {
<a name="l03567"></a>03567     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="namespacev8_1_1internal.html#ada66adab5e750853950daf4371db1392">IsAligned</a>(size_in_bytes, <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>));
<a name="l03568"></a>03568     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(size_in_bytes &gt;= <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a>);
<a name="l03569"></a>03569     <span class="keywordflow">return</span> size_in_bytes - <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a>;
<a name="l03570"></a>03570   }
<a name="l03571"></a>03571 
<a name="l03572"></a>03572   <span class="comment">// Returns data start address.</span>
<a name="l03573"></a>03573   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#adff402fb5d35ec6b54583c9cad16c462">GetDataStartAddress</a>();
<a name="l03574"></a>03574 
<a name="l03575"></a>03575   <span class="comment">// Returns a pointer to the ByteArray object for a given data start address.</span>
<a name="l03576"></a>03576   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html">ByteArray</a>* <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a9397eff4c1809d93e046473f57a30adc">FromDataStartAddress</a>(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a6969394bb5c9119fd1a23ec6bedda74d">address</a>);
<a name="l03577"></a>03577 
<a name="l03578"></a>03578   <span class="comment">// Casting.</span>
<a name="l03579"></a>03579   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html">ByteArray</a>* <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a4f53026a9337c11d67fc272b73bc43ee">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03580"></a>03580 
<a name="l03581"></a>03581   <span class="comment">// Dispatched behavior.</span>
<a name="l03582"></a><a class="code" href="classv8_1_1internal_1_1_byte_array.html#a64c9a5f6345c629889a3ddc101514e2a">03582</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a64c9a5f6345c629889a3ddc101514e2a">ByteArraySize</a>() {
<a name="l03583"></a>03583     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a0b2f58c92d17d1f72c82bf1116f79c62">SizeFor</a>(this-&gt;<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>());
<a name="l03584"></a>03584   }
<a name="l03585"></a>03585 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03586"></a>03586 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ByteArrayPrint() {
<a name="l03587"></a>03587     ByteArrayPrint(stdout);
<a name="l03588"></a>03588   }
<a name="l03589"></a>03589   <span class="keywordtype">void</span> ByteArrayPrint(FILE* out);
<a name="l03590"></a>03590 <span class="preprocessor">#endif</span>
<a name="l03591"></a>03591 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03592"></a>03592 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ByteArrayVerify();
<a name="l03593"></a>03593 <span class="preprocessor">#endif</span>
<a name="l03594"></a>03594 <span class="preprocessor"></span>
<a name="l03595"></a>03595   <span class="comment">// Layout description.</span>
<a name="l03596"></a><a class="code" href="classv8_1_1internal_1_1_byte_array.html#a2eff4f9abade4d922dd6f82df8c24387">03596</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a2eff4f9abade4d922dd6f82df8c24387">kAlignedSize</a> = <a class="code" href="v8globals_8h.html#a9ca74b32966f4dd37a67ce126daa56e0">OBJECT_POINTER_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a>);
<a name="l03597"></a>03597 
<a name="l03598"></a>03598   <span class="comment">// Maximal memory consumption for a single ByteArray.</span>
<a name="l03599"></a><a class="code" href="classv8_1_1internal_1_1_byte_array.html#a3efea1a92b13163d8948ff121732b8ad">03599</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a3efea1a92b13163d8948ff121732b8ad">kMaxSize</a> = 512 * <a class="code" href="namespacev8_1_1internal.html#ac9348d43b27afd1b556903717cbe0b84">MB</a>;
<a name="l03600"></a>03600   <span class="comment">// Maximal length of a single ByteArray.</span>
<a name="l03601"></a><a class="code" href="classv8_1_1internal_1_1_byte_array.html#abb6e4506197d4155b8c9509fd49f13cb">03601</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_byte_array.html#abb6e4506197d4155b8c9509fd49f13cb">kMaxLength</a> = <a class="code" href="classv8_1_1internal_1_1_byte_array.html#a3efea1a92b13163d8948ff121732b8ad">kMaxSize</a> - <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">kHeaderSize</a>;
<a name="l03602"></a>03602 
<a name="l03603"></a>03603  <span class="keyword">private</span>:
<a name="l03604"></a>03604   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_byte_array.html">ByteArray</a>);
<a name="l03605"></a>03605 };
<a name="l03606"></a>03606 
<a name="l03607"></a>03607 
<a name="l03608"></a>03608 <span class="comment">// FreeSpace represents fixed sized areas of the heap that are not currently in</span>
<a name="l03609"></a>03609 <span class="comment">// use.  Used by the heap and GC.</span>
<a name="l03610"></a><a class="code" href="classv8_1_1internal_1_1_free_space.html">03610</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_free_space.html">FreeSpace</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l03611"></a>03611  <span class="keyword">public</span>:
<a name="l03612"></a>03612   <span class="comment">// [size]: size of the free space including the header.</span>
<a name="l03613"></a>03613   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_free_space.html#af1a64ed3f9caf37c4934e583dfc30cb1">size</a>();
<a name="l03614"></a>03614   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_free_space.html#ae6e7329405deeb3d629da55f78a56a86">set_size</a>(<span class="keywordtype">int</span> value);
<a name="l03615"></a>03615 
<a name="l03616"></a><a class="code" href="classv8_1_1internal_1_1_free_space.html#add46e42a33fdf2fca5a450f278f54f48">03616</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_free_space.html#add46e42a33fdf2fca5a450f278f54f48">Size</a>() { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_free_space.html#af1a64ed3f9caf37c4934e583dfc30cb1">size</a>(); }
<a name="l03617"></a>03617 
<a name="l03618"></a>03618   <span class="comment">// Casting.</span>
<a name="l03619"></a>03619   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_free_space.html">FreeSpace</a>* <a class="code" href="classv8_1_1internal_1_1_free_space.html#a19acaafa0b43793a8ffbb8740b4052d3">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03620"></a>03620 
<a name="l03621"></a>03621 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03622"></a>03622 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> FreeSpacePrint() {
<a name="l03623"></a>03623     FreeSpacePrint(stdout);
<a name="l03624"></a>03624   }
<a name="l03625"></a>03625   <span class="keywordtype">void</span> FreeSpacePrint(FILE* out);
<a name="l03626"></a>03626 <span class="preprocessor">#endif</span>
<a name="l03627"></a>03627 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03628"></a>03628 <span class="preprocessor"></span>  <span class="keywordtype">void</span> FreeSpaceVerify();
<a name="l03629"></a>03629 <span class="preprocessor">#endif</span>
<a name="l03630"></a>03630 <span class="preprocessor"></span>
<a name="l03631"></a>03631   <span class="comment">// Layout description.</span>
<a name="l03632"></a>03632   <span class="comment">// Size is smi tagged when it is stored.</span>
<a name="l03633"></a><a class="code" href="classv8_1_1internal_1_1_free_space.html#a7fd33f05c7a8d5417c28228c73f8608a">03633</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_free_space.html#a7fd33f05c7a8d5417c28228c73f8608a">kSizeOffset</a> = <a class="code" href="classv8_1_1internal_1_1_free_space.html#aed2d0ffe285f32a2ec5bbc5d9821ba5e">HeapObject::kHeaderSize</a>;
<a name="l03634"></a><a class="code" href="classv8_1_1internal_1_1_free_space.html#aed2d0ffe285f32a2ec5bbc5d9821ba5e">03634</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_free_space.html#aed2d0ffe285f32a2ec5bbc5d9821ba5e">kHeaderSize</a> = <a class="code" href="classv8_1_1internal_1_1_free_space.html#a7fd33f05c7a8d5417c28228c73f8608a">kSizeOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l03635"></a>03635 
<a name="l03636"></a><a class="code" href="classv8_1_1internal_1_1_free_space.html#aec62349f79aba092dcb3e85f42a2de54">03636</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_free_space.html#aec62349f79aba092dcb3e85f42a2de54">kAlignedSize</a> = <a class="code" href="v8globals_8h.html#a9ca74b32966f4dd37a67ce126daa56e0">OBJECT_POINTER_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_free_space.html#aed2d0ffe285f32a2ec5bbc5d9821ba5e">kHeaderSize</a>);
<a name="l03637"></a>03637 
<a name="l03638"></a>03638  <span class="keyword">private</span>:
<a name="l03639"></a>03639   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_free_space.html">FreeSpace</a>);
<a name="l03640"></a>03640 };
<a name="l03641"></a>03641 
<a name="l03642"></a>03642 
<a name="l03643"></a>03643 <span class="comment">// An ExternalArray represents a fixed-size array of primitive values</span>
<a name="l03644"></a>03644 <span class="comment">// which live outside the JavaScript heap. Its subclasses are used to</span>
<a name="l03645"></a>03645 <span class="comment">// implement the CanvasArray types being defined in the WebGL</span>
<a name="l03646"></a>03646 <span class="comment">// specification. As of this writing the first public draft is not yet</span>
<a name="l03647"></a>03647 <span class="comment">// available, but Khronos members can access the draft at:</span>
<a name="l03648"></a>03648 <span class="comment">//   https://cvs.khronos.org/svn/repos/3dweb/trunk/doc/spec/WebGL-spec.html</span>
<a name="l03649"></a>03649 <span class="comment">//</span>
<a name="l03650"></a>03650 <span class="comment">// The semantics of these arrays differ from CanvasPixelArray.</span>
<a name="l03651"></a>03651 <span class="comment">// Out-of-range values passed to the setter are converted via a C</span>
<a name="l03652"></a>03652 <span class="comment">// cast, not clamping. Out-of-range indices cause exceptions to be</span>
<a name="l03653"></a>03653 <span class="comment">// raised rather than being silently ignored.</span>
<a name="l03654"></a><a class="code" href="classv8_1_1internal_1_1_external_array.html">03654</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a> {
<a name="l03655"></a>03655  <span class="keyword">public</span>:
<a name="l03656"></a><a class="code" href="classv8_1_1internal_1_1_external_array.html#a8a60cc282409b779e747dbcfe3d23015">03656</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a8a60cc282409b779e747dbcfe3d23015">is_the_hole</a>(<span class="keywordtype">int</span> index) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l03657"></a>03657 
<a name="l03658"></a>03658   <span class="comment">// [external_pointer]: The pointer to the external memory area backing this</span>
<a name="l03659"></a>03659   <span class="comment">// external array.</span>
<a name="l03660"></a>03660   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(external_pointer, <span class="keywordtype">void</span>)  <span class="comment">// Pointer to the data store.</span>
<a name="l03661"></a>03661 
<a name="l03662"></a>03662   <span class="comment">// Casting.</span>
<a name="l03663"></a>03663   static inline <a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a>* cast(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03664"></a>03664 
<a name="l03665"></a>03665   <span class="comment">// Maximal acceptable length for an external array.</span>
<a name="l03666"></a><a class="code" href="classv8_1_1internal_1_1_external_array.html#a43ee006c8e97ad6f0aa6affe07afe178">03666</a>   static const <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a43ee006c8e97ad6f0aa6affe07afe178">kMaxLength</a> = 0x3fffffff;
<a name="l03667"></a>03667 
<a name="l03668"></a>03668   <span class="comment">// ExternalArray headers are not quadword aligned.</span>
<a name="l03669"></a><a class="code" href="classv8_1_1internal_1_1_external_array.html#ac5904813cf360de5d436873c4bd9f524">03669</a>   static const <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#ac5904813cf360de5d436873c4bd9f524">kExternalPointerOffset</a> =
<a name="l03670"></a>03670       <a class="code" href="v8globals_8h.html#a94d672d4fa68c63cf5d7e3006fae440f">POINTER_SIZE_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a>::<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>);
<a name="l03671"></a><a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">03671</a>   static const <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a> = <a class="code" href="classv8_1_1internal_1_1_external_array.html#ac5904813cf360de5d436873c4bd9f524">kExternalPointerOffset</a> + kPointerSize;
<a name="l03672"></a><a class="code" href="classv8_1_1internal_1_1_external_array.html#ae3cba510811934c6569daf48e874dd21">03672</a>   static const <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#ae3cba510811934c6569daf48e874dd21">kAlignedSize</a> = <a class="code" href="v8globals_8h.html#a9ca74b32966f4dd37a67ce126daa56e0">OBJECT_POINTER_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a>);
<a name="l03673"></a>03673 
<a name="l03674"></a>03674  private:
<a name="l03675"></a>03675   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a>);
<a name="l03676"></a>03676 };
<a name="l03677"></a>03677 
<a name="l03678"></a>03678 
<a name="l03679"></a>03679 <span class="comment">// A ExternalPixelArray represents a fixed-size byte array with special</span>
<a name="l03680"></a>03680 <span class="comment">// semantics used for implementing the CanvasPixelArray object. Please see the</span>
<a name="l03681"></a>03681 <span class="comment">// specification at:</span>
<a name="l03682"></a>03682 
<a name="l03683"></a>03683 <span class="comment">// http://www.whatwg.org/specs/web-apps/current-work/</span>
<a name="l03684"></a>03684 <span class="comment">//                      multipage/the-canvas-element.html#canvaspixelarray</span>
<a name="l03685"></a>03685 <span class="comment">// In particular, write access clamps the value written to 0 or 255 if the</span>
<a name="l03686"></a>03686 <span class="comment">// value written is outside this range.</span>
<a name="l03687"></a><a class="code" href="classv8_1_1internal_1_1_external_pixel_array.html">03687</a> class <a class="code" href="classv8_1_1internal_1_1_external_pixel_array.html">ExternalPixelArray</a>: public ExternalArray {
<a name="l03688"></a>03688  <span class="keyword">public</span>:
<a name="l03689"></a>03689   <span class="keyword">inline</span> uint8_t* external_pixel_pointer();
<a name="l03690"></a>03690 
<a name="l03691"></a>03691   <span class="comment">// Setter and getter.</span>
<a name="l03692"></a>03692   <span class="keyword">inline</span> uint8_t get_scalar(<span class="keywordtype">int</span> index);
<a name="l03693"></a>03693   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03694"></a>03694   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, uint8_t value);
<a name="l03695"></a>03695 
<a name="l03696"></a>03696   <span class="comment">// This accessor applies the correct conversion from Smi, HeapNumber and</span>
<a name="l03697"></a>03697   <span class="comment">// undefined and clamps the converted value between 0 and 255.</span>
<a name="l03698"></a>03698   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* SetValue(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03699"></a>03699 
<a name="l03700"></a>03700   <span class="comment">// Casting.</span>
<a name="l03701"></a>03701   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_pixel_array.html">ExternalPixelArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03702"></a>03702 
<a name="l03703"></a>03703 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03704"></a>03704 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalPixelArrayPrint() {
<a name="l03705"></a>03705     ExternalPixelArrayPrint(stdout);
<a name="l03706"></a>03706   }
<a name="l03707"></a>03707   <span class="keywordtype">void</span> ExternalPixelArrayPrint(FILE* out);
<a name="l03708"></a>03708 <span class="preprocessor">#endif</span>
<a name="l03709"></a>03709 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03710"></a>03710 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ExternalPixelArrayVerify();
<a name="l03711"></a>03711 <span class="preprocessor">#endif  // DEBUG</span>
<a name="l03712"></a>03712 <span class="preprocessor"></span>
<a name="l03713"></a>03713  <span class="keyword">private</span>:
<a name="l03714"></a>03714   DISALLOW_IMPLICIT_CONSTRUCTORS(<a class="code" href="classv8_1_1internal_1_1_external_pixel_array.html">ExternalPixelArray</a>);
<a name="l03715"></a>03715 };
<a name="l03716"></a>03716 
<a name="l03717"></a>03717 
<a name="l03718"></a><a class="code" href="classv8_1_1internal_1_1_external_byte_array.html">03718</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_byte_array.html">ExternalByteArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a> {
<a name="l03719"></a>03719  <span class="keyword">public</span>:
<a name="l03720"></a>03720   <span class="comment">// Setter and getter.</span>
<a name="l03721"></a>03721   <span class="keyword">inline</span> int8_t get_scalar(<span class="keywordtype">int</span> index);
<a name="l03722"></a>03722   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03723"></a>03723   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, int8_t value);
<a name="l03724"></a>03724 
<a name="l03725"></a>03725   <span class="comment">// This accessor applies the correct conversion from Smi, HeapNumber</span>
<a name="l03726"></a>03726   <span class="comment">// and undefined.</span>
<a name="l03727"></a>03727   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetValue(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03728"></a>03728 
<a name="l03729"></a>03729   <span class="comment">// Casting.</span>
<a name="l03730"></a>03730   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_byte_array.html">ExternalByteArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03731"></a>03731 
<a name="l03732"></a>03732 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03733"></a>03733 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalByteArrayPrint() {
<a name="l03734"></a>03734     ExternalByteArrayPrint(stdout);
<a name="l03735"></a>03735   }
<a name="l03736"></a>03736   <span class="keywordtype">void</span> ExternalByteArrayPrint(FILE* out);
<a name="l03737"></a>03737 <span class="preprocessor">#endif</span>
<a name="l03738"></a>03738 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03739"></a>03739 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ExternalByteArrayVerify();
<a name="l03740"></a>03740 <span class="preprocessor">#endif  // DEBUG</span>
<a name="l03741"></a>03741 <span class="preprocessor"></span>
<a name="l03742"></a>03742  <span class="keyword">private</span>:
<a name="l03743"></a>03743   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_byte_array.html">ExternalByteArray</a>);
<a name="l03744"></a>03744 };
<a name="l03745"></a>03745 
<a name="l03746"></a>03746 
<a name="l03747"></a><a class="code" href="classv8_1_1internal_1_1_external_unsigned_byte_array.html">03747</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_unsigned_byte_array.html">ExternalUnsignedByteArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a> {
<a name="l03748"></a>03748  <span class="keyword">public</span>:
<a name="l03749"></a>03749   <span class="comment">// Setter and getter.</span>
<a name="l03750"></a>03750   <span class="keyword">inline</span> uint8_t get_scalar(<span class="keywordtype">int</span> index);
<a name="l03751"></a>03751   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03752"></a>03752   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, uint8_t value);
<a name="l03753"></a>03753 
<a name="l03754"></a>03754   <span class="comment">// This accessor applies the correct conversion from Smi, HeapNumber</span>
<a name="l03755"></a>03755   <span class="comment">// and undefined.</span>
<a name="l03756"></a>03756   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetValue(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03757"></a>03757 
<a name="l03758"></a>03758   <span class="comment">// Casting.</span>
<a name="l03759"></a>03759   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_unsigned_byte_array.html">ExternalUnsignedByteArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03760"></a>03760 
<a name="l03761"></a>03761 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03762"></a>03762 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalUnsignedByteArrayPrint() {
<a name="l03763"></a>03763     ExternalUnsignedByteArrayPrint(stdout);
<a name="l03764"></a>03764   }
<a name="l03765"></a>03765   <span class="keywordtype">void</span> ExternalUnsignedByteArrayPrint(FILE* out);
<a name="l03766"></a>03766 <span class="preprocessor">#endif</span>
<a name="l03767"></a>03767 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03768"></a>03768 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ExternalUnsignedByteArrayVerify();
<a name="l03769"></a>03769 <span class="preprocessor">#endif  // DEBUG</span>
<a name="l03770"></a>03770 <span class="preprocessor"></span>
<a name="l03771"></a>03771  <span class="keyword">private</span>:
<a name="l03772"></a>03772   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_unsigned_byte_array.html">ExternalUnsignedByteArray</a>);
<a name="l03773"></a>03773 };
<a name="l03774"></a>03774 
<a name="l03775"></a>03775 
<a name="l03776"></a><a class="code" href="classv8_1_1internal_1_1_external_short_array.html">03776</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_short_array.html">ExternalShortArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a> {
<a name="l03777"></a>03777  <span class="keyword">public</span>:
<a name="l03778"></a>03778   <span class="comment">// Setter and getter.</span>
<a name="l03779"></a>03779   <span class="keyword">inline</span> <a class="code" href="namespaceunibrow.html#a5b1ef8c20eda54dede6691e1d3c9dee3">int16_t</a> get_scalar(<span class="keywordtype">int</span> index);
<a name="l03780"></a>03780   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03781"></a>03781   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <a class="code" href="namespaceunibrow.html#a5b1ef8c20eda54dede6691e1d3c9dee3">int16_t</a> value);
<a name="l03782"></a>03782 
<a name="l03783"></a>03783   <span class="comment">// This accessor applies the correct conversion from Smi, HeapNumber</span>
<a name="l03784"></a>03784   <span class="comment">// and undefined.</span>
<a name="l03785"></a>03785   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetValue(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03786"></a>03786 
<a name="l03787"></a>03787   <span class="comment">// Casting.</span>
<a name="l03788"></a>03788   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_short_array.html">ExternalShortArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03789"></a>03789 
<a name="l03790"></a>03790 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03791"></a>03791 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalShortArrayPrint() {
<a name="l03792"></a>03792     ExternalShortArrayPrint(stdout);
<a name="l03793"></a>03793   }
<a name="l03794"></a>03794   <span class="keywordtype">void</span> ExternalShortArrayPrint(FILE* out);
<a name="l03795"></a>03795 <span class="preprocessor">#endif</span>
<a name="l03796"></a>03796 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03797"></a>03797 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ExternalShortArrayVerify();
<a name="l03798"></a>03798 <span class="preprocessor">#endif  // DEBUG</span>
<a name="l03799"></a>03799 <span class="preprocessor"></span>
<a name="l03800"></a>03800  <span class="keyword">private</span>:
<a name="l03801"></a>03801   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_short_array.html">ExternalShortArray</a>);
<a name="l03802"></a>03802 };
<a name="l03803"></a>03803 
<a name="l03804"></a>03804 
<a name="l03805"></a><a class="code" href="classv8_1_1internal_1_1_external_unsigned_short_array.html">03805</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_unsigned_short_array.html">ExternalUnsignedShortArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a> {
<a name="l03806"></a>03806  <span class="keyword">public</span>:
<a name="l03807"></a>03807   <span class="comment">// Setter and getter.</span>
<a name="l03808"></a>03808   <span class="keyword">inline</span> <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> get_scalar(<span class="keywordtype">int</span> index);
<a name="l03809"></a>03809   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03810"></a>03810   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> value);
<a name="l03811"></a>03811 
<a name="l03812"></a>03812   <span class="comment">// This accessor applies the correct conversion from Smi, HeapNumber</span>
<a name="l03813"></a>03813   <span class="comment">// and undefined.</span>
<a name="l03814"></a>03814   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetValue(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03815"></a>03815 
<a name="l03816"></a>03816   <span class="comment">// Casting.</span>
<a name="l03817"></a>03817   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_unsigned_short_array.html">ExternalUnsignedShortArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03818"></a>03818 
<a name="l03819"></a>03819 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03820"></a>03820 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalUnsignedShortArrayPrint() {
<a name="l03821"></a>03821     ExternalUnsignedShortArrayPrint(stdout);
<a name="l03822"></a>03822   }
<a name="l03823"></a>03823   <span class="keywordtype">void</span> ExternalUnsignedShortArrayPrint(FILE* out);
<a name="l03824"></a>03824 <span class="preprocessor">#endif</span>
<a name="l03825"></a>03825 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03826"></a>03826 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ExternalUnsignedShortArrayVerify();
<a name="l03827"></a>03827 <span class="preprocessor">#endif  // DEBUG</span>
<a name="l03828"></a>03828 <span class="preprocessor"></span>
<a name="l03829"></a>03829  <span class="keyword">private</span>:
<a name="l03830"></a>03830   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_unsigned_short_array.html">ExternalUnsignedShortArray</a>);
<a name="l03831"></a>03831 };
<a name="l03832"></a>03832 
<a name="l03833"></a>03833 
<a name="l03834"></a><a class="code" href="classv8_1_1internal_1_1_external_int_array.html">03834</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_int_array.html">ExternalIntArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a> {
<a name="l03835"></a>03835  <span class="keyword">public</span>:
<a name="l03836"></a>03836   <span class="comment">// Setter and getter.</span>
<a name="l03837"></a>03837   <span class="keyword">inline</span> <a class="code" href="namespaceunibrow.html#a60d2324d08aaa746bbaaa291aca51448">int32_t</a> get_scalar(<span class="keywordtype">int</span> index);
<a name="l03838"></a>03838   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03839"></a>03839   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <a class="code" href="namespaceunibrow.html#a60d2324d08aaa746bbaaa291aca51448">int32_t</a> value);
<a name="l03840"></a>03840 
<a name="l03841"></a>03841   <span class="comment">// This accessor applies the correct conversion from Smi, HeapNumber</span>
<a name="l03842"></a>03842   <span class="comment">// and undefined.</span>
<a name="l03843"></a>03843   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetValue(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03844"></a>03844 
<a name="l03845"></a>03845   <span class="comment">// Casting.</span>
<a name="l03846"></a>03846   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_int_array.html">ExternalIntArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03847"></a>03847 
<a name="l03848"></a>03848 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03849"></a>03849 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalIntArrayPrint() {
<a name="l03850"></a>03850     ExternalIntArrayPrint(stdout);
<a name="l03851"></a>03851   }
<a name="l03852"></a>03852   <span class="keywordtype">void</span> ExternalIntArrayPrint(FILE* out);
<a name="l03853"></a>03853 <span class="preprocessor">#endif</span>
<a name="l03854"></a>03854 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03855"></a>03855 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ExternalIntArrayVerify();
<a name="l03856"></a>03856 <span class="preprocessor">#endif  // DEBUG</span>
<a name="l03857"></a>03857 <span class="preprocessor"></span>
<a name="l03858"></a>03858  <span class="keyword">private</span>:
<a name="l03859"></a>03859   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_int_array.html">ExternalIntArray</a>);
<a name="l03860"></a>03860 };
<a name="l03861"></a>03861 
<a name="l03862"></a>03862 
<a name="l03863"></a><a class="code" href="classv8_1_1internal_1_1_external_unsigned_int_array.html">03863</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_unsigned_int_array.html">ExternalUnsignedIntArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a> {
<a name="l03864"></a>03864  <span class="keyword">public</span>:
<a name="l03865"></a>03865   <span class="comment">// Setter and getter.</span>
<a name="l03866"></a>03866   <span class="keyword">inline</span> uint32_t get_scalar(<span class="keywordtype">int</span> index);
<a name="l03867"></a>03867   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03868"></a>03868   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, uint32_t value);
<a name="l03869"></a>03869 
<a name="l03870"></a>03870   <span class="comment">// This accessor applies the correct conversion from Smi, HeapNumber</span>
<a name="l03871"></a>03871   <span class="comment">// and undefined.</span>
<a name="l03872"></a>03872   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetValue(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03873"></a>03873 
<a name="l03874"></a>03874   <span class="comment">// Casting.</span>
<a name="l03875"></a>03875   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_unsigned_int_array.html">ExternalUnsignedIntArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03876"></a>03876 
<a name="l03877"></a>03877 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03878"></a>03878 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalUnsignedIntArrayPrint() {
<a name="l03879"></a>03879     ExternalUnsignedIntArrayPrint(stdout);
<a name="l03880"></a>03880   }
<a name="l03881"></a>03881   <span class="keywordtype">void</span> ExternalUnsignedIntArrayPrint(FILE* out);
<a name="l03882"></a>03882 <span class="preprocessor">#endif</span>
<a name="l03883"></a>03883 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03884"></a>03884 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ExternalUnsignedIntArrayVerify();
<a name="l03885"></a>03885 <span class="preprocessor">#endif  // DEBUG</span>
<a name="l03886"></a>03886 <span class="preprocessor"></span>
<a name="l03887"></a>03887  <span class="keyword">private</span>:
<a name="l03888"></a>03888   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_unsigned_int_array.html">ExternalUnsignedIntArray</a>);
<a name="l03889"></a>03889 };
<a name="l03890"></a>03890 
<a name="l03891"></a>03891 
<a name="l03892"></a><a class="code" href="classv8_1_1internal_1_1_external_float_array.html">03892</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_float_array.html">ExternalFloatArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a> {
<a name="l03893"></a>03893  <span class="keyword">public</span>:
<a name="l03894"></a>03894   <span class="comment">// Setter and getter.</span>
<a name="l03895"></a>03895   <span class="keyword">inline</span> <span class="keywordtype">float</span> get_scalar(<span class="keywordtype">int</span> index);
<a name="l03896"></a>03896   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03897"></a>03897   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <span class="keywordtype">float</span> value);
<a name="l03898"></a>03898 
<a name="l03899"></a>03899   <span class="comment">// This accessor applies the correct conversion from Smi, HeapNumber</span>
<a name="l03900"></a>03900   <span class="comment">// and undefined.</span>
<a name="l03901"></a>03901   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetValue(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03902"></a>03902 
<a name="l03903"></a>03903   <span class="comment">// Casting.</span>
<a name="l03904"></a>03904   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_float_array.html">ExternalFloatArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03905"></a>03905 
<a name="l03906"></a>03906 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03907"></a>03907 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalFloatArrayPrint() {
<a name="l03908"></a>03908     ExternalFloatArrayPrint(stdout);
<a name="l03909"></a>03909   }
<a name="l03910"></a>03910   <span class="keywordtype">void</span> ExternalFloatArrayPrint(FILE* out);
<a name="l03911"></a>03911 <span class="preprocessor">#endif</span>
<a name="l03912"></a>03912 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03913"></a>03913 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ExternalFloatArrayVerify();
<a name="l03914"></a>03914 <span class="preprocessor">#endif  // DEBUG</span>
<a name="l03915"></a>03915 <span class="preprocessor"></span>
<a name="l03916"></a>03916  <span class="keyword">private</span>:
<a name="l03917"></a>03917   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_float_array.html">ExternalFloatArray</a>);
<a name="l03918"></a>03918 };
<a name="l03919"></a>03919 
<a name="l03920"></a>03920 
<a name="l03921"></a><a class="code" href="classv8_1_1internal_1_1_external_double_array.html">03921</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_double_array.html">ExternalDoubleArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html">ExternalArray</a> {
<a name="l03922"></a>03922  <span class="keyword">public</span>:
<a name="l03923"></a>03923   <span class="comment">// Setter and getter.</span>
<a name="l03924"></a>03924   <span class="keyword">inline</span> <span class="keywordtype">double</span> get_scalar(<span class="keywordtype">int</span> index);
<a name="l03925"></a>03925   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> index);
<a name="l03926"></a>03926   <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> index, <span class="keywordtype">double</span> value);
<a name="l03927"></a>03927 
<a name="l03928"></a>03928   <span class="comment">// This accessor applies the correct conversion from Smi, HeapNumber</span>
<a name="l03929"></a>03929   <span class="comment">// and undefined.</span>
<a name="l03930"></a>03930   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetValue(uint32_t index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l03931"></a>03931 
<a name="l03932"></a>03932   <span class="comment">// Casting.</span>
<a name="l03933"></a>03933   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_double_array.html">ExternalDoubleArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l03934"></a>03934 
<a name="l03935"></a>03935 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l03936"></a>03936 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalDoubleArrayPrint() {
<a name="l03937"></a>03937     ExternalDoubleArrayPrint(stdout);
<a name="l03938"></a>03938   }
<a name="l03939"></a>03939   <span class="keywordtype">void</span> ExternalDoubleArrayPrint(FILE* out);
<a name="l03940"></a>03940 <span class="preprocessor">#endif  // OBJECT_PRINT</span>
<a name="l03941"></a>03941 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l03942"></a>03942 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ExternalDoubleArrayVerify();
<a name="l03943"></a>03943 <span class="preprocessor">#endif  // DEBUG</span>
<a name="l03944"></a>03944 <span class="preprocessor"></span>
<a name="l03945"></a>03945  <span class="keyword">private</span>:
<a name="l03946"></a>03946   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_double_array.html">ExternalDoubleArray</a>);
<a name="l03947"></a>03947 };
<a name="l03948"></a>03948 
<a name="l03949"></a>03949 
<a name="l03950"></a>03950 <span class="comment">// DeoptimizationInputData is a fixed array used to hold the deoptimization</span>
<a name="l03951"></a>03951 <span class="comment">// data for code generated by the Hydrogen/Lithium compiler.  It also</span>
<a name="l03952"></a>03952 <span class="comment">// contains information about functions that were inlined.  If N different</span>
<a name="l03953"></a>03953 <span class="comment">// functions were inlined then first N elements of the literal array will</span>
<a name="l03954"></a>03954 <span class="comment">// contain these functions.</span>
<a name="l03955"></a>03955 <span class="comment">//</span>
<a name="l03956"></a>03956 <span class="comment">// It can be empty.</span>
<a name="l03957"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html">03957</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html">DeoptimizationInputData</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a> {
<a name="l03958"></a>03958  <span class="keyword">public</span>:
<a name="l03959"></a>03959   <span class="comment">// Layout description.  Indices in the array.</span>
<a name="l03960"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#a9414a7454edca2152a1558c5e0b1206d">03960</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTranslationByteArrayIndex = 0;
<a name="l03961"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#a0907e7b8c2dc48bfa5ea7f118a9a7e42">03961</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInlinedFunctionCountIndex = 1;
<a name="l03962"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#ac0fd200633e64854fcdb28c648f468c5">03962</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLiteralArrayIndex = 2;
<a name="l03963"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#abe96762c20c854160796daedb0abb89e">03963</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kOsrAstIdIndex = 3;
<a name="l03964"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#ae1ebe178aed6e2ab48964da6bd5baad4">03964</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kOsrPcOffsetIndex = 4;
<a name="l03965"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#ac3336088afb999adaf987aec93410185">03965</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFirstDeoptEntryIndex = 5;
<a name="l03966"></a>03966 
<a name="l03967"></a>03967   <span class="comment">// Offsets of deopt entry elements relative to the start of the entry.</span>
<a name="l03968"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#a1c0951a9dc014852ee833d58ebf222be">03968</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAstIdOffset = 0;
<a name="l03969"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#a0755ff2d38cf3902ba96620888fe3934">03969</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTranslationIndexOffset = 1;
<a name="l03970"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#ad32d4cd01d304693859ce1f0d256ca71">03970</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArgumentsStackHeightOffset = 2;
<a name="l03971"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#a7fbef008447e82e2f00c115bb31eef92">03971</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPcOffset = 3;
<a name="l03972"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#a67c0ac7c7d3be98ffe4e76cb583d4988">03972</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDeoptEntrySize = 4;
<a name="l03973"></a>03973 
<a name="l03974"></a>03974   <span class="comment">// Simple element accessors.</span>
<a name="l03975"></a><a class="code" href="objects_8h.html#a7100c230ec40d2e02bc4ce29027b9a19">03975</a> <span class="preprocessor">#define DEFINE_ELEMENT_ACCESSORS(name, type)      \</span>
<a name="l03976"></a>03976 <span class="preprocessor">  type* name() {                                  \</span>
<a name="l03977"></a>03977 <span class="preprocessor">    return type::cast(get(k##name##Index));       \</span>
<a name="l03978"></a>03978 <span class="preprocessor">  }                                               \</span>
<a name="l03979"></a>03979 <span class="preprocessor">  void Set##name(type* value) {                   \</span>
<a name="l03980"></a>03980 <span class="preprocessor">    set(k##name##Index, value);                   \</span>
<a name="l03981"></a>03981 <span class="preprocessor">  }</span>
<a name="l03982"></a>03982 <span class="preprocessor"></span>
<a name="l03983"></a>03983   <a class="code" href="objects_8h.html#a7100c230ec40d2e02bc4ce29027b9a19">DEFINE_ELEMENT_ACCESSORS</a>(TranslationByteArray, ByteArray)
<a name="l03984"></a>03984   <a class="code" href="objects_8h.html#a7100c230ec40d2e02bc4ce29027b9a19">DEFINE_ELEMENT_ACCESSORS</a>(InlinedFunctionCount, Smi)
<a name="l03985"></a>03985   <a class="code" href="objects_8h.html#a7100c230ec40d2e02bc4ce29027b9a19">DEFINE_ELEMENT_ACCESSORS</a>(LiteralArray, FixedArray)
<a name="l03986"></a>03986   <a class="code" href="objects_8h.html#a7100c230ec40d2e02bc4ce29027b9a19">DEFINE_ELEMENT_ACCESSORS</a>(OsrAstId, Smi)
<a name="l03987"></a>03987   <a class="code" href="objects_8h.html#a7100c230ec40d2e02bc4ce29027b9a19">DEFINE_ELEMENT_ACCESSORS</a>(OsrPcOffset, Smi)
<a name="l03988"></a>03988 
<a name="l03989"></a>03989 <span class="preprocessor">#undef DEFINE_ELEMENT_ACCESSORS</span>
<a name="l03990"></a>03990 <span class="preprocessor"></span>
<a name="l03991"></a>03991   <span class="comment">// Accessors for elements of the ith deoptimization entry.</span>
<a name="l03992"></a><a class="code" href="objects_8h.html#a9b75bc29095d3ae1b49040646b805074">03992</a> <span class="preprocessor">#define DEFINE_ENTRY_ACCESSORS(name, type)                       \</span>
<a name="l03993"></a>03993 <span class="preprocessor">  type* name(int i) {                                            \</span>
<a name="l03994"></a>03994 <span class="preprocessor">    return type::cast(get(IndexForEntry(i) + k##name##Offset));  \</span>
<a name="l03995"></a>03995 <span class="preprocessor">  }                                                              \</span>
<a name="l03996"></a>03996 <span class="preprocessor">  void Set##name(int i, type* value) {                           \</span>
<a name="l03997"></a>03997 <span class="preprocessor">    set(IndexForEntry(i) + k##name##Offset, value);              \</span>
<a name="l03998"></a>03998 <span class="preprocessor">  }</span>
<a name="l03999"></a>03999 <span class="preprocessor"></span>
<a name="l04000"></a>04000   <a class="code" href="objects_8h.html#a9b75bc29095d3ae1b49040646b805074">DEFINE_ENTRY_ACCESSORS</a>(AstId, Smi)
<a name="l04001"></a>04001   <a class="code" href="objects_8h.html#a9b75bc29095d3ae1b49040646b805074">DEFINE_ENTRY_ACCESSORS</a>(TranslationIndex, Smi)
<a name="l04002"></a>04002   <a class="code" href="objects_8h.html#a9b75bc29095d3ae1b49040646b805074">DEFINE_ENTRY_ACCESSORS</a>(ArgumentsStackHeight, Smi)
<a name="l04003"></a>04003   <a class="code" href="objects_8h.html#a9b75bc29095d3ae1b49040646b805074">DEFINE_ENTRY_ACCESSORS</a>(Pc, Smi)
<a name="l04004"></a>04004 
<a name="l04005"></a>04005 <span class="preprocessor">#undef DEFINE_ENTRY_ACCESSORS</span>
<a name="l04006"></a>04006 <span class="preprocessor"></span>
<a name="l04007"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#a863833fedc035ce852640d71a51b8ca7">04007</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html#a863833fedc035ce852640d71a51b8ca7">DeoptCount</a>() {
<a name="l04008"></a>04008     <span class="keywordflow">return</span> (<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>() - kFirstDeoptEntryIndex) / kDeoptEntrySize;
<a name="l04009"></a>04009   }
<a name="l04010"></a>04010 
<a name="l04011"></a>04011   <span class="comment">// Allocates a DeoptimizationInputData.</span>
<a name="l04012"></a>04012   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> MaybeObject* Allocate(<span class="keywordtype">int</span> deopt_entry_count,
<a name="l04013"></a>04013                                                <a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8">PretenureFlag</a> pretenure);
<a name="l04014"></a>04014 
<a name="l04015"></a>04015   <span class="comment">// Casting.</span>
<a name="l04016"></a>04016   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_deoptimization_input_data.html">DeoptimizationInputData</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l04017"></a>04017 
<a name="l04018"></a>04018 <span class="preprocessor">#ifdef ENABLE_DISASSEMBLER</span>
<a name="l04019"></a>04019 <span class="preprocessor"></span>  <span class="keywordtype">void</span> DeoptimizationInputDataPrint(FILE* out);
<a name="l04020"></a>04020 <span class="preprocessor">#endif</span>
<a name="l04021"></a>04021 <span class="preprocessor"></span>
<a name="l04022"></a>04022  <span class="keyword">private</span>:
<a name="l04023"></a>04023   <span class="keyword">static</span> <span class="keywordtype">int</span> IndexForEntry(<span class="keywordtype">int</span> i) {
<a name="l04024"></a>04024     <span class="keywordflow">return</span> kFirstDeoptEntryIndex + (i * kDeoptEntrySize);
<a name="l04025"></a>04025   }
<a name="l04026"></a>04026 
<a name="l04027"></a>04027   <span class="keyword">static</span> <span class="keywordtype">int</span> LengthFor(<span class="keywordtype">int</span> entry_count) {
<a name="l04028"></a>04028     <span class="keywordflow">return</span> IndexForEntry(entry_count);
<a name="l04029"></a>04029   }
<a name="l04030"></a>04030 };
<a name="l04031"></a>04031 
<a name="l04032"></a>04032 
<a name="l04033"></a>04033 <span class="comment">// DeoptimizationOutputData is a fixed array used to hold the deoptimization</span>
<a name="l04034"></a>04034 <span class="comment">// data for code generated by the full compiler.</span>
<a name="l04035"></a>04035 <span class="comment">// The format of the these objects is</span>
<a name="l04036"></a>04036 <span class="comment">//   [i * 2]: Ast ID for ith deoptimization.</span>
<a name="l04037"></a>04037 <span class="comment">//   [i * 2 + 1]: PC and state of ith deoptimization</span>
<a name="l04038"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html">04038</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html">DeoptimizationOutputData</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a> {
<a name="l04039"></a>04039  <span class="keyword">public</span>:
<a name="l04040"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#a577b2aca597e636ebbd0df81b4e30406">04040</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#a577b2aca597e636ebbd0df81b4e30406">DeoptPoints</a>() { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>() / 2; }
<a name="l04041"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#abba12ebef096a407d7f5e8689cbda417">04041</a>   <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* <a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#abba12ebef096a407d7f5e8689cbda417">AstId</a>(<span class="keywordtype">int</span> index) { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">Smi::cast</a>(<span class="keyword">get</span>(index * 2)); }
<a name="l04042"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#a02f347778993a55edec0f962ec81d3d8">04042</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#a02f347778993a55edec0f962ec81d3d8">SetAstId</a>(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* <span class="keywordtype">id</span>) { <span class="keyword">set</span>(index * 2, id); }
<a name="l04043"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#a28df67779e4002f52662626a3fee9a68">04043</a>   <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* <a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#a28df67779e4002f52662626a3fee9a68">PcAndState</a>(<span class="keywordtype">int</span> index) { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">Smi::cast</a>(<span class="keyword">get</span>(1 + index * 2)); }
<a name="l04044"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#aad0f0e555be6dc8509d475b8371b364e">04044</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#aad0f0e555be6dc8509d475b8371b364e">SetPcAndState</a>(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* offset) { <span class="keyword">set</span>(1 + index * 2, offset); }
<a name="l04045"></a>04045 
<a name="l04046"></a><a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#aa706aa8c56eb61a7df6bed0379bf2021">04046</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html#aa706aa8c56eb61a7df6bed0379bf2021">LengthOfFixedArray</a>(<span class="keywordtype">int</span> deopt_points) {
<a name="l04047"></a>04047     <span class="keywordflow">return</span> deopt_points * 2;
<a name="l04048"></a>04048   }
<a name="l04049"></a>04049 
<a name="l04050"></a>04050   <span class="comment">// Allocates a DeoptimizationOutputData.</span>
<a name="l04051"></a>04051   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> MaybeObject* Allocate(<span class="keywordtype">int</span> number_of_deopt_points,
<a name="l04052"></a>04052                                                <a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8">PretenureFlag</a> pretenure);
<a name="l04053"></a>04053 
<a name="l04054"></a>04054   <span class="comment">// Casting.</span>
<a name="l04055"></a>04055   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_deoptimization_output_data.html">DeoptimizationOutputData</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l04056"></a>04056 
<a name="l04057"></a>04057 <span class="preprocessor">#if defined(OBJECT_PRINT) || defined(ENABLE_DISASSEMBLER)</span>
<a name="l04058"></a>04058 <span class="preprocessor"></span>  <span class="keywordtype">void</span> DeoptimizationOutputDataPrint(FILE* out);
<a name="l04059"></a>04059 <span class="preprocessor">#endif</span>
<a name="l04060"></a>04060 <span class="preprocessor"></span>};
<a name="l04061"></a>04061 
<a name="l04062"></a>04062 
<a name="l04063"></a>04063 <span class="comment">// Forward declaration.</span>
<a name="l04064"></a>04064 <span class="keyword">class </span>JSGlobalPropertyCell;
<a name="l04065"></a>04065 
<a name="l04066"></a>04066 <span class="comment">// TypeFeedbackCells is a fixed array used to hold the association between</span>
<a name="l04067"></a>04067 <span class="comment">// cache cells and AST ids for code generated by the full compiler.</span>
<a name="l04068"></a>04068 <span class="comment">// The format of the these objects is</span>
<a name="l04069"></a>04069 <span class="comment">//   [i * 2]: Global property cell of ith cache cell.</span>
<a name="l04070"></a>04070 <span class="comment">//   [i * 2 + 1]: Ast ID for ith cache cell.</span>
<a name="l04071"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html">04071</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html">TypeFeedbackCells</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a> {
<a name="l04072"></a>04072  <span class="keyword">public</span>:
<a name="l04073"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html#a9524ddb53970c9d5c596b6335ea9db55">04073</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html#a9524ddb53970c9d5c596b6335ea9db55">CellCount</a>() { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>() / 2; }
<a name="l04074"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html#a5ed0aeb407aef83f0d0a46d027e6bfaa">04074</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html#a5ed0aeb407aef83f0d0a46d027e6bfaa">LengthOfFixedArray</a>(<span class="keywordtype">int</span> cell_count) { <span class="keywordflow">return</span> cell_count * 2; }
<a name="l04075"></a>04075 
<a name="l04076"></a>04076   <span class="comment">// Accessors for AST ids associated with cache values.</span>
<a name="l04077"></a>04077   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* AstId(<span class="keywordtype">int</span> index);
<a name="l04078"></a>04078   <span class="keyword">inline</span> <span class="keywordtype">void</span> SetAstId(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* <span class="keywordtype">id</span>);
<a name="l04079"></a>04079 
<a name="l04080"></a>04080   <span class="comment">// Accessors for global property cells holding the cache values.</span>
<a name="l04081"></a>04081   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html">JSGlobalPropertyCell</a>* Cell(<span class="keywordtype">int</span> index);
<a name="l04082"></a>04082   <span class="keyword">inline</span> <span class="keywordtype">void</span> SetCell(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html">JSGlobalPropertyCell</a>* cell);
<a name="l04083"></a>04083 
<a name="l04084"></a>04084   <span class="comment">// The object that indicates an uninitialized cache.</span>
<a name="l04085"></a>04085   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> UninitializedSentinel(<a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate);
<a name="l04086"></a>04086 
<a name="l04087"></a>04087   <span class="comment">// The object that indicates a megamorphic state.</span>
<a name="l04088"></a>04088   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> MegamorphicSentinel(<a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate);
<a name="l04089"></a>04089 
<a name="l04090"></a>04090   <span class="comment">// A raw version of the uninitialized sentinel that&#39;s safe to read during</span>
<a name="l04091"></a>04091   <span class="comment">// garbage collection (e.g., for patching the cache).</span>
<a name="l04092"></a>04092   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* RawUninitializedSentinel(<a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* heap);
<a name="l04093"></a>04093 
<a name="l04094"></a>04094   <span class="comment">// Casting.</span>
<a name="l04095"></a>04095   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html">TypeFeedbackCells</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l04096"></a>04096 
<a name="l04097"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html#af5dda70a1042b51bbfa869238d0ac8e3">04097</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kForInFastCaseMarker = 0;
<a name="l04098"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html#a98f455e6a288699ed37a9b08f1767756">04098</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kForInSlowCaseMarker = 1;
<a name="l04099"></a>04099 };
<a name="l04100"></a>04100 
<a name="l04101"></a>04101 
<a name="l04102"></a>04102 <span class="comment">// Forward declaration.</span>
<a name="l04103"></a>04103 <span class="keyword">class </span>SafepointEntry;
<a name="l04104"></a>04104 <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_type_feedback_info.html">TypeFeedbackInfo</a>;
<a name="l04105"></a>04105 
<a name="l04106"></a>04106 <span class="comment">// Code describes objects with on-the-fly generated machine code.</span>
<a name="l04107"></a><a class="code" href="classv8_1_1internal_1_1_code.html">04107</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l04108"></a>04108  <span class="keyword">public</span>:
<a name="l04109"></a>04109   <span class="comment">// Opaque data type for encapsulating code flags like kind, inline</span>
<a name="l04110"></a>04110   <span class="comment">// cache state, and arguments count.</span>
<a name="l04111"></a>04111   <span class="comment">// FLAGS_MIN_VALUE and FLAGS_MAX_VALUE are specified to ensure that</span>
<a name="l04112"></a>04112   <span class="comment">// enumeration type has correct value range (see Issue 830 for more details).</span>
<a name="l04113"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">04113</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Flags</a> {
<a name="l04114"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110ada754d81cd1e78725c043ad4378d541b">04114</a>     FLAGS_MIN_VALUE = <a class="code" href="namespacev8_1_1internal.html#a8b8478f6eb1479d794e8f5ddcd75bbca">kMinInt</a>,
<a name="l04115"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110a47b75b5b071851f0df32076c4bf94c55">04115</a>     FLAGS_MAX_VALUE = <a class="code" href="namespacev8_1_1internal.html#a5b727e42b93f6f06fe1d68a69d23e4d7">kMaxInt</a>
<a name="l04116"></a>04116   };
<a name="l04117"></a>04117 
<a name="l04118"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466e">04118</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466e">Kind</a> {
<a name="l04119"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa75b3b7bf39481515787968624b8d6a2">04119</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa75b3b7bf39481515787968624b8d6a2">FUNCTION</a>,
<a name="l04120"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa2c9bffd1860ee8b0cc1e29fad0ee414">04120</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa2c9bffd1860ee8b0cc1e29fad0ee414">OPTIMIZED_FUNCTION</a>,
<a name="l04121"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eabb1cf4909ded59b5c453ac6cb725907d">04121</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eabb1cf4909ded59b5c453ac6cb725907d">STUB</a>,
<a name="l04122"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea933683b3349664320e63002f85071f09">04122</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea933683b3349664320e63002f85071f09">BUILTIN</a>,
<a name="l04123"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea6487a21ce4a30dd8c18ece214ad9df1b">04123</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea6487a21ce4a30dd8c18ece214ad9df1b">LOAD_IC</a>,
<a name="l04124"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa885e39d412cbd9d7ed6e31248c2460d">04124</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa885e39d412cbd9d7ed6e31248c2460d">KEYED_LOAD_IC</a>,
<a name="l04125"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaf6eed79a576f41c0f6ac701b05343aed">04125</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaf6eed79a576f41c0f6ac701b05343aed">CALL_IC</a>,
<a name="l04126"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea6f6df5a870ff37c99a14c23d8f3dbd35">04126</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea6f6df5a870ff37c99a14c23d8f3dbd35">KEYED_CALL_IC</a>,
<a name="l04127"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea8715b768559234b46187c663c3ee3954">04127</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea8715b768559234b46187c663c3ee3954">STORE_IC</a>,
<a name="l04128"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eac3a547364b076da47b9ec94dab329170">04128</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eac3a547364b076da47b9ec94dab329170">KEYED_STORE_IC</a>,
<a name="l04129"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea10f25ea7479984ec69c9c5a88ab41466">04129</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea10f25ea7479984ec69c9c5a88ab41466">UNARY_OP_IC</a>,
<a name="l04130"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa3603db37b4af030fe4dce5b5d6017f8">04130</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa3603db37b4af030fe4dce5b5d6017f8">BINARY_OP_IC</a>,
<a name="l04131"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea8d48cbf27b82bc8928828d790732ae3c">04131</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea8d48cbf27b82bc8928828d790732ae3c">COMPARE_IC</a>,
<a name="l04132"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa79d23e00d649f7c9f709206b22f6369">04132</a>     <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466eaa79d23e00d649f7c9f709206b22f6369">TO_BOOLEAN_IC</a>,
<a name="l04133"></a>04133     <span class="comment">// No more than 16 kinds. The value currently encoded in four bits in</span>
<a name="l04134"></a>04134     <span class="comment">// Flags.</span>
<a name="l04135"></a>04135 
<a name="l04136"></a>04136     <span class="comment">// Pseudo-kinds.</span>
<a name="l04137"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea40416647fc26f229b6d42e6d591b22bc">04137</a>     REGEXP = <a class="code" href="namespacev8_1_1internal.html#afe9b3a8c84d52b38d43fcc8ca5b4e084a7a260ce9e6a1dac2a6efc7b1761cfa56">BUILTIN</a>,
<a name="l04138"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea9c6eb9aa79ed29ebd392829657e334f3">04138</a>     FIRST_IC_KIND = LOAD_IC,
<a name="l04139"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466ea2ab44f424e628488de6eb7c9201e5f0e">04139</a>     LAST_IC_KIND = TO_BOOLEAN_IC
<a name="l04140"></a>04140   };
<a name="l04141"></a>04141 
<a name="l04142"></a>04142   <span class="keyword">enum</span> {
<a name="l04143"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a410e831acddb043f7a27b4049d75002cacadf8ef5526cac1f1f38abaf2589fba5">04143</a>     NUMBER_OF_KINDS = LAST_IC_KIND + 1
<a name="l04144"></a>04144   };
<a name="l04145"></a>04145 
<a name="l04146"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a620bfb3ff6dd765ca4e7882a74cd9649">04146</a>   <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a620bfb3ff6dd765ca4e7882a74cd9649">ExtraICState</a>;
<a name="l04147"></a>04147 
<a name="l04148"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a86994385ccae8be02224f9092cf84360">04148</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a620bfb3ff6dd765ca4e7882a74cd9649">ExtraICState</a> kNoExtraICState = 0;
<a name="l04149"></a>04149 
<a name="l04150"></a>04150 <span class="preprocessor">#ifdef ENABLE_DISASSEMBLER</span>
<a name="l04151"></a>04151 <span class="preprocessor"></span>  <span class="comment">// Printing</span>
<a name="l04152"></a>04152   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* Kind2String(<a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466e">Kind</a> kind);
<a name="l04153"></a>04153   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* ICState2String(<a class="code" href="namespacev8_1_1internal.html#aeef5aadaecbd08b3fcbb9ec1faa36c01">InlineCacheState</a> state);
<a name="l04154"></a>04154   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* PropertyType2String(<a class="code" href="namespacev8_1_1internal.html#a7fa37bfbe847a6947e1249067d4fdd47">PropertyType</a> <a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>);
<a name="l04155"></a>04155   <span class="keyword">static</span> <span class="keywordtype">void</span> PrintExtraICState(FILE* out, <a class="code" href="classv8_1_1internal_1_1_code.html#aabd99abf83167f429b6ad4f0b761466e">Kind</a> kind, <a class="code" href="classv8_1_1internal_1_1_code.html#a620bfb3ff6dd765ca4e7882a74cd9649">ExtraICState</a> extra);
<a name="l04156"></a>04156   <span class="keyword">inline</span> <span class="keywordtype">void</span> Disassemble(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>) {
<a name="l04157"></a>04157     Disassemble(name, stdout);
<a name="l04158"></a>04158   }
<a name="l04159"></a>04159   <span class="keywordtype">void</span> Disassemble(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, FILE* out);
<a name="l04160"></a>04160 <span class="preprocessor">#endif  // ENABLE_DISASSEMBLER</span>
<a name="l04161"></a>04161 <span class="preprocessor"></span>
<a name="l04162"></a>04162   <span class="comment">// [instruction_size]: Size of the native instructions</span>
<a name="l04163"></a>04163   <span class="keyword">inline</span> <span class="keywordtype">int</span> instruction_size();
<a name="l04164"></a>04164   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_instruction_size(<span class="keywordtype">int</span> value);
<a name="l04165"></a>04165 
<a name="l04166"></a>04166   <span class="comment">// [relocation_info]: Code relocation information</span>
<a name="l04167"></a>04167   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(relocation_info, <a class="code" href="classv8_1_1internal_1_1_byte_array.html">ByteArray</a>)
<a name="l04168"></a>04168   void InvalidateRelocation();
<a name="l04169"></a>04169 
<a name="l04170"></a>04170   <span class="comment">// [handler_table]: Fixed array containing offsets of exception handlers.</span>
<a name="l04171"></a>04171   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(handler_table, <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>)
<a name="l04172"></a>04172 
<a name="l04173"></a>04173   <span class="comment">// [deoptimization_data]: Array containing data for deopt.</span>
<a name="l04174"></a>04174   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(deoptimization_data, <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>)
<a name="l04175"></a>04175 
<a name="l04176"></a>04176   <span class="comment">// [type_feedback_info]: Struct containing type feedback information.</span>
<a name="l04177"></a>04177   <span class="comment">// Will contain either a TypeFeedbackInfo object, or undefined.</span>
<a name="l04178"></a>04178   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(type_feedback_info, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l04179"></a>04179 
<a name="l04180"></a>04180   <span class="comment">// [gc_metadata]: Field used to hold GC related metadata. The contents of this</span>
<a name="l04181"></a>04181   <span class="comment">// field does not have to be traced during garbage collection since</span>
<a name="l04182"></a>04182   <span class="comment">// it is only used by the garbage collector itself.</span>
<a name="l04183"></a>04183   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(gc_metadata, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l04184"></a>04184 
<a name="l04185"></a>04185   <span class="comment">// [ic_age]: Inline caching age: the value of the Heap::global_ic_age</span>
<a name="l04186"></a>04186   <span class="comment">// at the moment when this object was created.</span>
<a name="l04187"></a>04187   inline <span class="keywordtype">void</span> set_ic_age(<span class="keywordtype">int</span> count);
<a name="l04188"></a>04188   inline <span class="keywordtype">int</span> ic_age();
<a name="l04189"></a>04189 
<a name="l04190"></a>04190   <span class="comment">// Unchecked accessors to be used during GC.</span>
<a name="l04191"></a>04191   inline <a class="code" href="classv8_1_1internal_1_1_byte_array.html">ByteArray</a>* unchecked_relocation_info();
<a name="l04192"></a>04192   inline <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* unchecked_deoptimization_data();
<a name="l04193"></a>04193 
<a name="l04194"></a>04194   inline <span class="keywordtype">int</span> relocation_size();
<a name="l04195"></a>04195 
<a name="l04196"></a>04196   <span class="comment">// [flags]: Various code flags.</span>
<a name="l04197"></a>04197   inline Flags <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>();
<a name="l04198"></a>04198   inline <span class="keywordtype">void</span> set_flags(Flags flags);
<a name="l04199"></a>04199 
<a name="l04200"></a>04200   <span class="comment">// [flags]: Access to specific code flags.</span>
<a name="l04201"></a>04201   inline Kind kind();
<a name="l04202"></a>04202   inline <a class="code" href="namespacev8_1_1internal.html#aeef5aadaecbd08b3fcbb9ec1faa36c01">InlineCacheState</a> ic_state();  <span class="comment">// Only valid for IC stubs.</span>
<a name="l04203"></a>04203   inline ExtraICState extra_ic_state();  <span class="comment">// Only valid for IC stubs.</span>
<a name="l04204"></a>04204   inline <a class="code" href="namespacev8_1_1internal.html#a7fa37bfbe847a6947e1249067d4fdd47">PropertyType</a> <a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>();  <span class="comment">// Only valid for monomorphic IC stubs.</span>
<a name="l04205"></a>04205   inline <span class="keywordtype">int</span> arguments_count();  <span class="comment">// Only valid for call IC stubs.</span>
<a name="l04206"></a>04206 
<a name="l04207"></a>04207   <span class="comment">// Testers for IC stub kinds.</span>
<a name="l04208"></a>04208   inline <span class="keywordtype">bool</span> is_inline_cache_stub();
<a name="l04209"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a6a7db56fe07dec1352283741512e812e">04209</a>   inline <span class="keywordtype">bool</span> is_load_stub() { <span class="keywordflow">return</span> kind() == LOAD_IC; }
<a name="l04210"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a8f6bf944db7bbda293c8249dc337804c">04210</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a8f6bf944db7bbda293c8249dc337804c">is_keyed_load_stub</a>() { <span class="keywordflow">return</span> kind() == KEYED_LOAD_IC; }
<a name="l04211"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a2ce8295581569f0d5cbb229631264f02">04211</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a2ce8295581569f0d5cbb229631264f02">is_store_stub</a>() { <span class="keywordflow">return</span> kind() == STORE_IC; }
<a name="l04212"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a8ab268069104a4962fcd1ee828e7d0b3">04212</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a8ab268069104a4962fcd1ee828e7d0b3">is_keyed_store_stub</a>() { <span class="keywordflow">return</span> kind() == KEYED_STORE_IC; }
<a name="l04213"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a83a0e8e329b0e29de1cb40b987553594">04213</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a83a0e8e329b0e29de1cb40b987553594">is_call_stub</a>() { <span class="keywordflow">return</span> kind() == CALL_IC; }
<a name="l04214"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aaf3f5baf49d5a4b473ded54b388f1546">04214</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code.html#aaf3f5baf49d5a4b473ded54b388f1546">is_keyed_call_stub</a>() { <span class="keywordflow">return</span> kind() == KEYED_CALL_IC; }
<a name="l04215"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a39e87ebded3572346b68be44ded71151">04215</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a39e87ebded3572346b68be44ded71151">is_unary_op_stub</a>() { <span class="keywordflow">return</span> kind() == UNARY_OP_IC; }
<a name="l04216"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aa51538445b03e34b6e366a0943fae334">04216</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code.html#aa51538445b03e34b6e366a0943fae334">is_binary_op_stub</a>() { <span class="keywordflow">return</span> kind() == BINARY_OP_IC; }
<a name="l04217"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a2f486b0f8fd557b581527f930a32dfdd">04217</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a2f486b0f8fd557b581527f930a32dfdd">is_compare_ic_stub</a>() { <span class="keywordflow">return</span> kind() == COMPARE_IC; }
<a name="l04218"></a><a class="code" href="classv8_1_1internal_1_1_code.html#aca10ecba49409b4f28a951138dc24458">04218</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code.html#aca10ecba49409b4f28a951138dc24458">is_to_boolean_ic_stub</a>() { <span class="keywordflow">return</span> kind() == TO_BOOLEAN_IC; }
<a name="l04219"></a>04219 
<a name="l04220"></a>04220   <span class="comment">// [major_key]: For kind STUB or BINARY_OP_IC, the major key.</span>
<a name="l04221"></a>04221   <span class="keyword">inline</span> <span class="keywordtype">int</span> major_key();
<a name="l04222"></a>04222   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_major_key(<span class="keywordtype">int</span> value);
<a name="l04223"></a>04223 
<a name="l04224"></a>04224   <span class="comment">// For stubs, tells whether they should always exist, so that they can be</span>
<a name="l04225"></a>04225   <span class="comment">// called from other stubs.</span>
<a name="l04226"></a>04226   <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_pregenerated();
<a name="l04227"></a>04227   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_is_pregenerated(<span class="keywordtype">bool</span> value);
<a name="l04228"></a>04228 
<a name="l04229"></a>04229   <span class="comment">// [optimizable]: For FUNCTION kind, tells if it is optimizable.</span>
<a name="l04230"></a>04230   <span class="keyword">inline</span> <span class="keywordtype">bool</span> optimizable();
<a name="l04231"></a>04231   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_optimizable(<span class="keywordtype">bool</span> value);
<a name="l04232"></a>04232 
<a name="l04233"></a>04233   <span class="comment">// [has_deoptimization_support]: For FUNCTION kind, tells if it has</span>
<a name="l04234"></a>04234   <span class="comment">// deoptimization support.</span>
<a name="l04235"></a>04235   <span class="keyword">inline</span> <span class="keywordtype">bool</span> has_deoptimization_support();
<a name="l04236"></a>04236   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_has_deoptimization_support(<span class="keywordtype">bool</span> value);
<a name="l04237"></a>04237 
<a name="l04238"></a>04238   <span class="comment">// [has_debug_break_slots]: For FUNCTION kind, tells if it has</span>
<a name="l04239"></a>04239   <span class="comment">// been compiled with debug break slots.</span>
<a name="l04240"></a>04240   <span class="keyword">inline</span> <span class="keywordtype">bool</span> has_debug_break_slots();
<a name="l04241"></a>04241   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_has_debug_break_slots(<span class="keywordtype">bool</span> value);
<a name="l04242"></a>04242 
<a name="l04243"></a>04243   <span class="comment">// [compiled_with_optimizing]: For FUNCTION kind, tells if it has</span>
<a name="l04244"></a>04244   <span class="comment">// been compiled with IsOptimizing set to true.</span>
<a name="l04245"></a>04245   <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_compiled_optimizable();
<a name="l04246"></a>04246   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_compiled_optimizable(<span class="keywordtype">bool</span> value);
<a name="l04247"></a>04247 
<a name="l04248"></a>04248   <span class="comment">// [allow_osr_at_loop_nesting_level]: For FUNCTION kind, tells for</span>
<a name="l04249"></a>04249   <span class="comment">// how long the function has been marked for OSR and therefore which</span>
<a name="l04250"></a>04250   <span class="comment">// level of loop nesting we are willing to do on-stack replacement</span>
<a name="l04251"></a>04251   <span class="comment">// for.</span>
<a name="l04252"></a>04252   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_allow_osr_at_loop_nesting_level(<span class="keywordtype">int</span> level);
<a name="l04253"></a>04253   <span class="keyword">inline</span> <span class="keywordtype">int</span> allow_osr_at_loop_nesting_level();
<a name="l04254"></a>04254 
<a name="l04255"></a>04255   <span class="comment">// [profiler_ticks]: For FUNCTION kind, tells for how many profiler ticks</span>
<a name="l04256"></a>04256   <span class="comment">// the code object was seen on the stack with no IC patching going on.</span>
<a name="l04257"></a>04257   <span class="keyword">inline</span> <span class="keywordtype">int</span> profiler_ticks();
<a name="l04258"></a>04258   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_profiler_ticks(<span class="keywordtype">int</span> <a class="code" href="namespacell__prof.html#aee18cad841554e04d1e5ea9d1b9f6ea9">ticks</a>);
<a name="l04259"></a>04259 
<a name="l04260"></a>04260   <span class="comment">// [stack_slots]: For kind OPTIMIZED_FUNCTION, the number of stack slots</span>
<a name="l04261"></a>04261   <span class="comment">// reserved in the code prologue.</span>
<a name="l04262"></a>04262   <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> stack_slots();
<a name="l04263"></a>04263   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_stack_slots(<span class="keywordtype">unsigned</span> slots);
<a name="l04264"></a>04264 
<a name="l04265"></a>04265   <span class="comment">// [safepoint_table_start]: For kind OPTIMIZED_CODE, the offset in</span>
<a name="l04266"></a>04266   <span class="comment">// the instruction stream where the safepoint table starts.</span>
<a name="l04267"></a>04267   <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> safepoint_table_offset();
<a name="l04268"></a>04268   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_safepoint_table_offset(<span class="keywordtype">unsigned</span> offset);
<a name="l04269"></a>04269 
<a name="l04270"></a>04270   <span class="comment">// [stack_check_table_start]: For kind FUNCTION, the offset in the</span>
<a name="l04271"></a>04271   <span class="comment">// instruction stream where the stack check table starts.</span>
<a name="l04272"></a>04272   <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> stack_check_table_offset();
<a name="l04273"></a>04273   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_stack_check_table_offset(<span class="keywordtype">unsigned</span> offset);
<a name="l04274"></a>04274 
<a name="l04275"></a>04275   <span class="comment">// [check type]: For kind CALL_IC, tells how to check if the</span>
<a name="l04276"></a>04276   <span class="comment">// receiver is valid for the given call.</span>
<a name="l04277"></a>04277   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af317197adf48eda13f10c247e684473a">CheckType</a> check_type();
<a name="l04278"></a>04278   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_check_type(<a class="code" href="namespacev8_1_1internal.html#af317197adf48eda13f10c247e684473a">CheckType</a> value);
<a name="l04279"></a>04279 
<a name="l04280"></a>04280   <span class="comment">// [type-recording unary op type]: For kind UNARY_OP_IC.</span>
<a name="l04281"></a>04281   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> unary_op_type();
<a name="l04282"></a>04282   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_unary_op_type(<a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> value);
<a name="l04283"></a>04283 
<a name="l04284"></a>04284   <span class="comment">// [type-recording binary op type]: For kind BINARY_OP_IC.</span>
<a name="l04285"></a>04285   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> binary_op_type();
<a name="l04286"></a>04286   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_binary_op_type(<a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> value);
<a name="l04287"></a>04287   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> binary_op_result_type();
<a name="l04288"></a>04288   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_binary_op_result_type(<a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> value);
<a name="l04289"></a>04289 
<a name="l04290"></a>04290   <span class="comment">// [compare state]: For kind COMPARE_IC, tells what state the stub is in.</span>
<a name="l04291"></a>04291   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> compare_state();
<a name="l04292"></a>04292   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_compare_state(<a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> value);
<a name="l04293"></a>04293 
<a name="l04294"></a>04294   <span class="comment">// [to_boolean_foo]: For kind TO_BOOLEAN_IC tells what state the stub is in.</span>
<a name="l04295"></a>04295   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> to_boolean_state();
<a name="l04296"></a>04296   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_to_boolean_state(<a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> value);
<a name="l04297"></a>04297 
<a name="l04298"></a>04298   <span class="comment">// [has_function_cache]: For kind STUB tells whether there is a function</span>
<a name="l04299"></a>04299   <span class="comment">// cache is passed to the stub.</span>
<a name="l04300"></a>04300   <span class="keyword">inline</span> <span class="keywordtype">bool</span> has_function_cache();
<a name="l04301"></a>04301   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_has_function_cache(<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>);
<a name="l04302"></a>04302 
<a name="l04303"></a>04303   <span class="comment">// Get the safepoint entry for the given pc.</span>
<a name="l04304"></a>04304   SafepointEntry GetSafepointEntry(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> <a class="code" href="namespacev8_1_1internal.html#a7b4bab853ce065995f0c729a4106d405">pc</a>);
<a name="l04305"></a>04305 
<a name="l04306"></a>04306   <span class="comment">// Mark this code object as not having a stack check table.  Assumes kind</span>
<a name="l04307"></a>04307   <span class="comment">// is FUNCTION.</span>
<a name="l04308"></a>04308   <span class="keywordtype">void</span> SetNoStackCheckTable();
<a name="l04309"></a>04309 
<a name="l04310"></a>04310   <span class="comment">// Find the first map in an IC stub.</span>
<a name="l04311"></a>04311   <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* FindFirstMap();
<a name="l04312"></a>04312 
<a name="l04313"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_extra_i_c_state_strict_mode.html">04313</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_extra_i_c_state_strict_mode.html">ExtraICStateStrictMode</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;StrictModeFlag, 0, 1&gt; {};
<a name="l04314"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_extra_i_c_state_keyed_access_grow_mode.html">04314</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_extra_i_c_state_keyed_access_grow_mode.html">ExtraICStateKeyedAccessGrowMode</a>:
<a name="l04315"></a>04315       <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;KeyedAccessGrowMode, 1, 1&gt; {};  <span class="comment">// NOLINT</span>
<a name="l04316"></a>04316 
<a name="l04317"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a242ebd570faffb411ca72f82f6dfe67d">04317</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kExtraICStateGrowModeShift = 1;
<a name="l04318"></a>04318 
<a name="l04319"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a97362501a86e734569d1adf6e5ad330b">04319</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> <a class="code" href="classv8_1_1internal_1_1_code.html#a97362501a86e734569d1adf6e5ad330b">GetStrictMode</a>(<a class="code" href="classv8_1_1internal_1_1_code.html#a620bfb3ff6dd765ca4e7882a74cd9649">ExtraICState</a> extra_ic_state) {
<a name="l04320"></a>04320     <span class="keywordflow">return</span> ExtraICStateStrictMode::decode(extra_ic_state);
<a name="l04321"></a>04321   }
<a name="l04322"></a>04322 
<a name="l04323"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a8ed25ed2dd02d37ec8ad845a52e122ae">04323</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a0237e72e3d150637b124de995ec11959">KeyedAccessGrowMode</a> GetKeyedAccessGrowMode(
<a name="l04324"></a>04324       <a class="code" href="classv8_1_1internal_1_1_code.html#a620bfb3ff6dd765ca4e7882a74cd9649">ExtraICState</a> extra_ic_state) {
<a name="l04325"></a>04325     <span class="keywordflow">return</span> ExtraICStateKeyedAccessGrowMode::decode(extra_ic_state);
<a name="l04326"></a>04326   }
<a name="l04327"></a>04327 
<a name="l04328"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a523da943dcbcd22a391f56fd12936f2f">04328</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a620bfb3ff6dd765ca4e7882a74cd9649">ExtraICState</a> ComputeExtraICState(
<a name="l04329"></a>04329       <a class="code" href="namespacev8_1_1internal.html#a0237e72e3d150637b124de995ec11959">KeyedAccessGrowMode</a> grow_mode,
<a name="l04330"></a>04330       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode) {
<a name="l04331"></a>04331     <span class="keywordflow">return</span> ExtraICStateKeyedAccessGrowMode::encode(grow_mode) |
<a name="l04332"></a>04332         ExtraICStateStrictMode::encode(strict_mode);
<a name="l04333"></a>04333   }
<a name="l04334"></a>04334 
<a name="l04335"></a>04335   <span class="comment">// Flags operations.</span>
<a name="l04336"></a>04336   <span class="keyword">static</span> <span class="keyword">inline</span> Flags ComputeFlags(
<a name="l04337"></a>04337       Kind kind,
<a name="l04338"></a>04338       <a class="code" href="namespacev8_1_1internal.html#aeef5aadaecbd08b3fcbb9ec1faa36c01">InlineCacheState</a> ic_state = <a class="code" href="namespacev8_1_1internal.html#aeef5aadaecbd08b3fcbb9ec1faa36c01a9745146f7e8ca09e25cdf3f1aed16b23">UNINITIALIZED</a>,
<a name="l04339"></a>04339       ExtraICState extra_ic_state = kNoExtraICState,
<a name="l04340"></a>04340       <a class="code" href="namespacev8_1_1internal.html#a7fa37bfbe847a6947e1249067d4fdd47">PropertyType</a> <a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a> = <a class="code" href="namespacev8_1_1internal.html#a7fa37bfbe847a6947e1249067d4fdd47a192c629439d62b9828cb08f97e620b22">NORMAL</a>,
<a name="l04341"></a>04341       <span class="keywordtype">int</span> argc = -1,
<a name="l04342"></a>04342       <a class="code" href="namespacev8_1_1internal.html#a060f547b0daec3f0c84e64ba91f0839f">InlineCacheHolderFlag</a> holder = <a class="code" href="namespacev8_1_1internal.html#a060f547b0daec3f0c84e64ba91f0839fab2b9a866e886ec339152dd6b55f4011a">OWN_MAP</a>);
<a name="l04343"></a>04343 
<a name="l04344"></a>04344   <span class="keyword">static</span> <span class="keyword">inline</span> Flags ComputeMonomorphicFlags(
<a name="l04345"></a>04345       Kind kind,
<a name="l04346"></a>04346       <a class="code" href="namespacev8_1_1internal.html#a7fa37bfbe847a6947e1249067d4fdd47">PropertyType</a> <a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>,
<a name="l04347"></a>04347       ExtraICState extra_ic_state = kNoExtraICState,
<a name="l04348"></a>04348       <a class="code" href="namespacev8_1_1internal.html#a060f547b0daec3f0c84e64ba91f0839f">InlineCacheHolderFlag</a> holder = <a class="code" href="namespacev8_1_1internal.html#a060f547b0daec3f0c84e64ba91f0839fab2b9a866e886ec339152dd6b55f4011a">OWN_MAP</a>,
<a name="l04349"></a>04349       <span class="keywordtype">int</span> argc = -1);
<a name="l04350"></a>04350 
<a name="l04351"></a>04351   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#aeef5aadaecbd08b3fcbb9ec1faa36c01">InlineCacheState</a> ExtractICStateFromFlags(Flags <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l04352"></a>04352   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a7fa37bfbe847a6947e1249067d4fdd47">PropertyType</a> ExtractTypeFromFlags(Flags <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l04353"></a>04353   <span class="keyword">static</span> <span class="keyword">inline</span> Kind ExtractKindFromFlags(Flags <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l04354"></a>04354   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a060f547b0daec3f0c84e64ba91f0839f">InlineCacheHolderFlag</a> ExtractCacheHolderFromFlags(Flags <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l04355"></a>04355   <span class="keyword">static</span> <span class="keyword">inline</span> ExtraICState ExtractExtraICStateFromFlags(Flags <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l04356"></a>04356   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> ExtractArgumentsCountFromFlags(Flags <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l04357"></a>04357 
<a name="l04358"></a>04358   <span class="keyword">static</span> <span class="keyword">inline</span> Flags RemoveTypeFromFlags(Flags <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l04359"></a>04359 
<a name="l04360"></a>04360   <span class="comment">// Convert a target address into a code object.</span>
<a name="l04361"></a>04361   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* GetCodeFromTargetAddress(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a6969394bb5c9119fd1a23ec6bedda74d">address</a>);
<a name="l04362"></a>04362 
<a name="l04363"></a>04363   <span class="comment">// Convert an entry address into an object.</span>
<a name="l04364"></a>04364   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* GetObjectFromEntryAddress(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> location_of_address);
<a name="l04365"></a>04365 
<a name="l04366"></a>04366   <span class="comment">// Returns the address of the first instruction.</span>
<a name="l04367"></a>04367   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a>* instruction_start();
<a name="l04368"></a>04368 
<a name="l04369"></a>04369   <span class="comment">// Returns the address right after the last instruction.</span>
<a name="l04370"></a>04370   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a>* instruction_end();
<a name="l04371"></a>04371 
<a name="l04372"></a>04372   <span class="comment">// Returns the size of the instructions, padding, and relocation information.</span>
<a name="l04373"></a>04373   <span class="keyword">inline</span> <span class="keywordtype">int</span> body_size();
<a name="l04374"></a>04374 
<a name="l04375"></a>04375   <span class="comment">// Returns the address of the first relocation info (read backwards!).</span>
<a name="l04376"></a>04376   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a>* relocation_start();
<a name="l04377"></a>04377 
<a name="l04378"></a>04378   <span class="comment">// Code entry point.</span>
<a name="l04379"></a>04379   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a>* entry();
<a name="l04380"></a>04380 
<a name="l04381"></a>04381   <span class="comment">// Returns true if pc is inside this object&#39;s instructions.</span>
<a name="l04382"></a>04382   <span class="keyword">inline</span> <span class="keywordtype">bool</span> contains(<a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a>* <a class="code" href="namespacev8_1_1internal.html#a7b4bab853ce065995f0c729a4106d405">pc</a>);
<a name="l04383"></a>04383 
<a name="l04384"></a>04384   <span class="comment">// Relocate the code by delta bytes. Called to signal that this code</span>
<a name="l04385"></a>04385   <span class="comment">// object has been moved by delta bytes.</span>
<a name="l04386"></a>04386   <span class="keywordtype">void</span> Relocate(intptr_t delta);
<a name="l04387"></a>04387 
<a name="l04388"></a>04388   <span class="comment">// Migrate code described by desc.</span>
<a name="l04389"></a>04389   <span class="keywordtype">void</span> CopyFrom(<span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1_code_desc.html">CodeDesc</a>&amp; desc);
<a name="l04390"></a>04390 
<a name="l04391"></a>04391   <span class="comment">// Returns the object size for a given body (used for allocation).</span>
<a name="l04392"></a><a class="code" href="classv8_1_1internal_1_1_code.html#acad887ee43af2a9777cd0569940d54e1">04392</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_code.html#acad887ee43af2a9777cd0569940d54e1">SizeFor</a>(<span class="keywordtype">int</span> body_size) {
<a name="l04393"></a>04393     <a class="code" href="v8checks_8h.html#a3f83fc21fe73bb1ad93dffe5d71784f7">ASSERT_SIZE_TAG_ALIGNED</a>(body_size);
<a name="l04394"></a>04394     <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a4718d33a2325528d5e80c19da5199e20">RoundUp</a>(<a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a> + body_size, <a class="code" href="namespacev8_1_1internal.html#a2d5cdc2af9c079d425f5d297bda088af">kCodeAlignment</a>);
<a name="l04395"></a>04395   }
<a name="l04396"></a>04396 
<a name="l04397"></a>04397   <span class="comment">// Calculate the size of the code object to report for log events. This takes</span>
<a name="l04398"></a>04398   <span class="comment">// the layout of the code object into account.</span>
<a name="l04399"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a4be90b2cf174cc356edba9e06c83a569">04399</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a4be90b2cf174cc356edba9e06c83a569">ExecutableSize</a>() {
<a name="l04400"></a>04400     <span class="comment">// Check that the assumptions about the layout of the code object holds.</span>
<a name="l04401"></a>04401     <a class="code" href="checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(static_cast&lt;int&gt;(instruction_start() - <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a6969394bb5c9119fd1a23ec6bedda74d">address</a>()),
<a name="l04402"></a>04402               <a class="code" href="classv8_1_1internal_1_1_code.html#abfc7192bae05436fc229b94bbab81648">Code::kHeaderSize</a>);
<a name="l04403"></a>04403     <span class="keywordflow">return</span> instruction_size() + <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">Code::kHeaderSize</a>;
<a name="l04404"></a>04404   }
<a name="l04405"></a>04405 
<a name="l04406"></a>04406   <span class="comment">// Locating source position.</span>
<a name="l04407"></a>04407   <span class="keywordtype">int</span> SourcePosition(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> <a class="code" href="namespacev8_1_1internal.html#a7b4bab853ce065995f0c729a4106d405">pc</a>);
<a name="l04408"></a>04408   <span class="keywordtype">int</span> SourceStatementPosition(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> <a class="code" href="namespacev8_1_1internal.html#a7b4bab853ce065995f0c729a4106d405">pc</a>);
<a name="l04409"></a>04409 
<a name="l04410"></a>04410   <span class="comment">// Casting.</span>
<a name="l04411"></a>04411   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l04412"></a>04412 
<a name="l04413"></a>04413   <span class="comment">// Dispatched behavior.</span>
<a name="l04414"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a470d5feff99f57f2327150c5cbb582aa">04414</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_code.html#a470d5feff99f57f2327150c5cbb582aa">CodeSize</a>() { <span class="keywordflow">return</span> SizeFor(body_size()); }
<a name="l04415"></a>04415   <span class="keyword">inline</span> <span class="keywordtype">void</span> CodeIterateBody(ObjectVisitor* v);
<a name="l04416"></a>04416 
<a name="l04417"></a>04417   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> StaticVisitor&gt;
<a name="l04418"></a>04418   <span class="keyword">inline</span> <span class="keywordtype">void</span> CodeIterateBody(<a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* heap);
<a name="l04419"></a>04419 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l04420"></a>04420 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> CodePrint() {
<a name="l04421"></a>04421     CodePrint(stdout);
<a name="l04422"></a>04422   }
<a name="l04423"></a>04423   <span class="keywordtype">void</span> CodePrint(FILE* out);
<a name="l04424"></a>04424 <span class="preprocessor">#endif</span>
<a name="l04425"></a>04425 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l04426"></a>04426 <span class="preprocessor"></span>  <span class="keywordtype">void</span> CodeVerify();
<a name="l04427"></a>04427 <span class="preprocessor">#endif</span>
<a name="l04428"></a>04428 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ClearInlineCaches();
<a name="l04429"></a>04429 
<a name="l04430"></a>04430   <span class="comment">// Max loop nesting marker used to postpose OSR. We don&#39;t take loop</span>
<a name="l04431"></a>04431   <span class="comment">// nesting that is deeper than 5 levels into account.</span>
<a name="l04432"></a><a class="code" href="classv8_1_1internal_1_1_code.html#af68a87cf29bd9a110d9daedc1fcfd349">04432</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxLoopNestingMarker = 6;
<a name="l04433"></a>04433 
<a name="l04434"></a>04434   <span class="comment">// Layout description.</span>
<a name="l04435"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a3e586e823b9236fabe55611465c30846">04435</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInstructionSizeOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l04436"></a><a class="code" href="classv8_1_1internal_1_1_code.html#abc5dee556e430a443fa8e9740a68b5dc">04436</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kRelocationInfoOffset = kInstructionSizeOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l04437"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a63498b53776675a50af64ed19375a581">04437</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHandlerTableOffset = kRelocationInfoOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04438"></a><a class="code" href="classv8_1_1internal_1_1_code.html#ae96feb908e13cef0ff94020a8b3d2692">04438</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDeoptimizationDataOffset =
<a name="l04439"></a>04439       kHandlerTableOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04440"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a5ec9f802ed75109281eb87650ba00e6d">04440</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTypeFeedbackInfoOffset =
<a name="l04441"></a>04441       kDeoptimizationDataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04442"></a><a class="code" href="classv8_1_1internal_1_1_code.html#afaea58c28ff9bb0fc3090025bc6682b8">04442</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kGCMetadataOffset = kTypeFeedbackInfoOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04443"></a><a class="code" href="classv8_1_1internal_1_1_code.html#ace642a40217f211270408faf1790f7f2">04443</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kICAgeOffset =
<a name="l04444"></a>04444       kGCMetadataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04445"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a23fd16742a1176874d656c92b7ae7508">04445</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFlagsOffset = kICAgeOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l04446"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a994f4b2efd3d5e7918687c67446a55d0">04446</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kKindSpecificFlagsOffset = kFlagsOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l04447"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a25d7aaeab9d16470d66cc7d0bccdee9f">04447</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kKindSpecificFlagsSize = 2 * <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l04448"></a>04448 
<a name="l04449"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a84ec3741772ff38c7efa6001523ff3b8">04449</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHeaderPaddingStart = kKindSpecificFlagsOffset +
<a name="l04450"></a>04450       kKindSpecificFlagsSize;
<a name="l04451"></a>04451 
<a name="l04452"></a>04452   <span class="comment">// Add padding to align the instruction start following right after</span>
<a name="l04453"></a>04453   <span class="comment">// the Code object header.</span>
<a name="l04454"></a><a class="code" href="classv8_1_1internal_1_1_code.html#abfc7192bae05436fc229b94bbab81648">04454</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a> =
<a name="l04455"></a>04455       (kHeaderPaddingStart + <a class="code" href="namespacev8_1_1internal.html#a91c36489bce313966412669179b084d0">kCodeAlignmentMask</a>) &amp; ~<a class="code" href="namespacev8_1_1internal.html#a91c36489bce313966412669179b084d0">kCodeAlignmentMask</a>;
<a name="l04456"></a>04456 
<a name="l04457"></a>04457   <span class="comment">// Byte offsets within kKindSpecificFlagsOffset.</span>
<a name="l04458"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a5ec04258b2e5242fc72a0bf351e411e9">04458</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStubMajorKeyOffset = kKindSpecificFlagsOffset;
<a name="l04459"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a1b5e5322587c1df215dbd6bffae595aa">04459</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kOptimizableOffset = kKindSpecificFlagsOffset;
<a name="l04460"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a0f737ba0d8bcc54d6096498ec7b70d4f">04460</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStackSlotsOffset = kKindSpecificFlagsOffset;
<a name="l04461"></a><a class="code" href="classv8_1_1internal_1_1_code.html#ad1ca792e4971413c6b670333b5d23b2b">04461</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCheckTypeOffset = kKindSpecificFlagsOffset;
<a name="l04462"></a>04462 
<a name="l04463"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a89496219400155b259260ee377c83787">04463</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUnaryOpTypeOffset = kStubMajorKeyOffset + 1;
<a name="l04464"></a><a class="code" href="classv8_1_1internal_1_1_code.html#ab047b008d6babf8d3a1eb174eb4b5f55">04464</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBinaryOpTypeOffset = kStubMajorKeyOffset + 1;
<a name="l04465"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a648159ea767aadf3848abad7820e0de3">04465</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompareStateOffset = kStubMajorKeyOffset + 1;
<a name="l04466"></a><a class="code" href="classv8_1_1internal_1_1_code.html#afd88cda2fb5500021f8b66519d72ca4b">04466</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kToBooleanTypeOffset = kStubMajorKeyOffset + 1;
<a name="l04467"></a><a class="code" href="classv8_1_1internal_1_1_code.html#acbd582945ccf17551b100652025247c4">04467</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHasFunctionCacheOffset = kStubMajorKeyOffset + 1;
<a name="l04468"></a>04468 
<a name="l04469"></a><a class="code" href="classv8_1_1internal_1_1_code.html#ad599b35e9cb80eaaea242597f5799a07">04469</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFullCodeFlags = kOptimizableOffset + 1;
<a name="l04470"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_full_code_flags_has_deoptimization_support_field.html">04470</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_full_code_flags_has_deoptimization_support_field.html">FullCodeFlagsHasDeoptimizationSupportField</a>:
<a name="l04471"></a>04471       <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;bool, 0, 1&gt; {};  <span class="comment">// NOLINT</span>
<a name="l04472"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_full_code_flags_has_debug_break_slots_field.html">04472</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_full_code_flags_has_debug_break_slots_field.html">FullCodeFlagsHasDebugBreakSlotsField</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;bool, 1, 1&gt; {};
<a name="l04473"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_full_code_flags_is_compiled_optimizable.html">04473</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_full_code_flags_is_compiled_optimizable.html">FullCodeFlagsIsCompiledOptimizable</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;bool, 2, 1&gt; {};
<a name="l04474"></a>04474 
<a name="l04475"></a><a class="code" href="classv8_1_1internal_1_1_code.html#adb177e232ecceea5b10ddc2ec6d7756a">04475</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBinaryOpReturnTypeOffset = kBinaryOpTypeOffset + 1;
<a name="l04476"></a>04476 
<a name="l04477"></a><a class="code" href="classv8_1_1internal_1_1_code.html#afee96000057003625b5838c8f74a7ea9">04477</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAllowOSRAtLoopNestingLevelOffset = kFullCodeFlags + 1;
<a name="l04478"></a><a class="code" href="classv8_1_1internal_1_1_code.html#af8bf1a33f4c8b234e3bb9b704f49b7b2">04478</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kProfilerTicksOffset = kAllowOSRAtLoopNestingLevelOffset + 1;
<a name="l04479"></a>04479 
<a name="l04480"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a76d65649c5d3c40910cc0c8af0b4bf97">04480</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSafepointTableOffsetOffset = kStackSlotsOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l04481"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a7727db6d354aa9cfe8eb706fed36f164">04481</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStackCheckTableOffsetOffset = kStackSlotsOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l04482"></a>04482 
<a name="l04483"></a>04483   <span class="comment">// Flags layout.  BitField&lt;type, shift, size&gt;.</span>
<a name="l04484"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_i_c_state_field.html">04484</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_i_c_state_field.html">ICStateField</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;InlineCacheState, 0, 3&gt; {};
<a name="l04485"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_type_field.html">04485</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_type_field.html">TypeField</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;PropertyType, 3, 4&gt; {};
<a name="l04486"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_cache_holder_field.html">04486</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_cache_holder_field.html">CacheHolderField</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;InlineCacheHolderFlag, 7, 1&gt; {};
<a name="l04487"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_kind_field.html">04487</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_kind_field.html">KindField</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;Kind, 8, 4&gt; {};
<a name="l04488"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_extra_i_c_state_field.html">04488</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_extra_i_c_state_field.html">ExtraICStateField</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;ExtraICState, 12, 2&gt; {};
<a name="l04489"></a><a class="code" href="classv8_1_1internal_1_1_code_1_1_is_pregenerated_field.html">04489</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_1_1_is_pregenerated_field.html">IsPregeneratedField</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;bool, 14, 1&gt; {};
<a name="l04490"></a>04490 
<a name="l04491"></a>04491   <span class="comment">// Signed field cannot be encoded using the BitField class.</span>
<a name="l04492"></a><a class="code" href="classv8_1_1internal_1_1_code.html#ace4f18a95758a89c8b98234201d623aa">04492</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArgumentsCountShift = 15;
<a name="l04493"></a><a class="code" href="classv8_1_1internal_1_1_code.html#ad2e5ba9b14a1f6c0d234a3c3df088d8d">04493</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArgumentsCountMask = ~((1 &lt;&lt; kArgumentsCountShift) - 1);
<a name="l04494"></a>04494 
<a name="l04495"></a>04495   <span class="comment">// This constant should be encodable in an ARM instruction.</span>
<a name="l04496"></a><a class="code" href="classv8_1_1internal_1_1_code.html#a9adebc0535aeb461df71fa7ca03f2fed">04496</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFlagsNotUsedInLookup =
<a name="l04497"></a>04497       TypeField::kMask | CacheHolderField::kMask;
<a name="l04498"></a>04498 
<a name="l04499"></a>04499  <span class="keyword">private</span>:
<a name="l04500"></a>04500   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>);
<a name="l04501"></a>04501 };
<a name="l04502"></a>04502 
<a name="l04503"></a>04503 
<a name="l04504"></a>04504 <span class="comment">// All heap objects have a Map that describes their structure.</span>
<a name="l04505"></a>04505 <span class="comment">//  A Map contains information about:</span>
<a name="l04506"></a>04506 <span class="comment">//  - Size information about the object</span>
<a name="l04507"></a>04507 <span class="comment">//  - How to iterate over an object (for garbage collection)</span>
<a name="l04508"></a><a class="code" href="classv8_1_1internal_1_1_map.html">04508</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l04509"></a>04509  <span class="keyword">public</span>:
<a name="l04510"></a>04510   <span class="comment">// Instance size.</span>
<a name="l04511"></a>04511   <span class="comment">// Size in bytes or kVariableSizeSentinel if instances do not have</span>
<a name="l04512"></a>04512   <span class="comment">// a fixed size.</span>
<a name="l04513"></a>04513   <span class="keyword">inline</span> <span class="keywordtype">int</span> instance_size();
<a name="l04514"></a>04514   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_instance_size(<span class="keywordtype">int</span> value);
<a name="l04515"></a>04515 
<a name="l04516"></a>04516   <span class="comment">// Count of properties allocated in the object.</span>
<a name="l04517"></a>04517   <span class="keyword">inline</span> <span class="keywordtype">int</span> inobject_properties();
<a name="l04518"></a>04518   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_inobject_properties(<span class="keywordtype">int</span> value);
<a name="l04519"></a>04519 
<a name="l04520"></a>04520   <span class="comment">// Count of property fields pre-allocated in the object when first allocated.</span>
<a name="l04521"></a>04521   <span class="keyword">inline</span> <span class="keywordtype">int</span> pre_allocated_property_fields();
<a name="l04522"></a>04522   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_pre_allocated_property_fields(<span class="keywordtype">int</span> value);
<a name="l04523"></a>04523 
<a name="l04524"></a>04524   <span class="comment">// Instance type.</span>
<a name="l04525"></a>04525   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9b">InstanceType</a> instance_type();
<a name="l04526"></a>04526   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_instance_type(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9b">InstanceType</a> value);
<a name="l04527"></a>04527 
<a name="l04528"></a>04528   <span class="comment">// Tells how many unused property fields are available in the</span>
<a name="l04529"></a>04529   <span class="comment">// instance (only used for JSObject in fast mode).</span>
<a name="l04530"></a>04530   <span class="keyword">inline</span> <span class="keywordtype">int</span> unused_property_fields();
<a name="l04531"></a>04531   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_unused_property_fields(<span class="keywordtype">int</span> value);
<a name="l04532"></a>04532 
<a name="l04533"></a>04533   <span class="comment">// Bit field.</span>
<a name="l04534"></a>04534   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> bit_field();
<a name="l04535"></a>04535   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_bit_field(<a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> value);
<a name="l04536"></a>04536 
<a name="l04537"></a>04537   <span class="comment">// Bit field 2.</span>
<a name="l04538"></a>04538   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> bit_field2();
<a name="l04539"></a>04539   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_bit_field2(<a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> value);
<a name="l04540"></a>04540 
<a name="l04541"></a>04541   <span class="comment">// Bit field 3.</span>
<a name="l04542"></a>04542   <span class="comment">// TODO(1399): It should be possible to make room for bit_field3 in the map</span>
<a name="l04543"></a>04543   <span class="comment">// without overloading the instance descriptors field (and storing it in the</span>
<a name="l04544"></a>04544   <span class="comment">// DescriptorArray when the map has one).</span>
<a name="l04545"></a>04545   <span class="keyword">inline</span> <span class="keywordtype">int</span> bit_field3();
<a name="l04546"></a>04546   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_bit_field3(<span class="keywordtype">int</span> value);
<a name="l04547"></a>04547 
<a name="l04548"></a>04548   <span class="comment">// Tells whether the object in the prototype property will be used</span>
<a name="l04549"></a>04549   <span class="comment">// for instances created from this function.  If the prototype</span>
<a name="l04550"></a>04550   <span class="comment">// property is set to a value that is not a JSObject, the prototype</span>
<a name="l04551"></a>04551   <span class="comment">// property will not be used to create instances of the function.</span>
<a name="l04552"></a>04552   <span class="comment">// See ECMA-262, 13.2.2.</span>
<a name="l04553"></a>04553   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_non_instance_prototype(<span class="keywordtype">bool</span> value);
<a name="l04554"></a>04554   <span class="keyword">inline</span> <span class="keywordtype">bool</span> has_non_instance_prototype();
<a name="l04555"></a>04555 
<a name="l04556"></a>04556   <span class="comment">// Tells whether function has special prototype property. If not, prototype</span>
<a name="l04557"></a>04557   <span class="comment">// property will not be created when accessed (will return undefined),</span>
<a name="l04558"></a>04558   <span class="comment">// and construction from this function will not be allowed.</span>
<a name="l04559"></a>04559   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_function_with_prototype(<span class="keywordtype">bool</span> value);
<a name="l04560"></a>04560   <span class="keyword">inline</span> <span class="keywordtype">bool</span> function_with_prototype();
<a name="l04561"></a>04561 
<a name="l04562"></a>04562   <span class="comment">// Tells whether the instance with this map should be ignored by the</span>
<a name="l04563"></a>04563   <span class="comment">// __proto__ accessor.</span>
<a name="l04564"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a2427eabb5ac583420da71b4c981c557d">04564</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a2427eabb5ac583420da71b4c981c557d">set_is_hidden_prototype</a>() {
<a name="l04565"></a>04565     set_bit_field(bit_field() | (1 &lt;&lt; kIsHiddenPrototype));
<a name="l04566"></a>04566   }
<a name="l04567"></a>04567 
<a name="l04568"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a4a75abefb155e74ce641ba49a1bc2610">04568</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a4a75abefb155e74ce641ba49a1bc2610">is_hidden_prototype</a>() {
<a name="l04569"></a>04569     <span class="keywordflow">return</span> ((1 &lt;&lt; kIsHiddenPrototype) &amp; bit_field()) != 0;
<a name="l04570"></a>04570   }
<a name="l04571"></a>04571 
<a name="l04572"></a>04572   <span class="comment">// Records and queries whether the instance has a named interceptor.</span>
<a name="l04573"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a9645e689ef1fb654bb7e4ad8cc993b83">04573</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a9645e689ef1fb654bb7e4ad8cc993b83">set_has_named_interceptor</a>() {
<a name="l04574"></a>04574     set_bit_field(bit_field() | (1 &lt;&lt; kHasNamedInterceptor));
<a name="l04575"></a>04575   }
<a name="l04576"></a>04576 
<a name="l04577"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a4475b2c44b9e4cdb315f3118264daa2f">04577</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a4475b2c44b9e4cdb315f3118264daa2f">has_named_interceptor</a>() {
<a name="l04578"></a>04578     <span class="keywordflow">return</span> ((1 &lt;&lt; kHasNamedInterceptor) &amp; bit_field()) != 0;
<a name="l04579"></a>04579   }
<a name="l04580"></a>04580 
<a name="l04581"></a>04581   <span class="comment">// Records and queries whether the instance has an indexed interceptor.</span>
<a name="l04582"></a><a class="code" href="classv8_1_1internal_1_1_map.html#aec70bb5bd2f3f0866d962970acb66f87">04582</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_map.html#aec70bb5bd2f3f0866d962970acb66f87">set_has_indexed_interceptor</a>() {
<a name="l04583"></a>04583     set_bit_field(bit_field() | (1 &lt;&lt; kHasIndexedInterceptor));
<a name="l04584"></a>04584   }
<a name="l04585"></a>04585 
<a name="l04586"></a><a class="code" href="classv8_1_1internal_1_1_map.html#ae380f57ebda320723bb35af1fb699221">04586</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#ae380f57ebda320723bb35af1fb699221">has_indexed_interceptor</a>() {
<a name="l04587"></a>04587     <span class="keywordflow">return</span> ((1 &lt;&lt; kHasIndexedInterceptor) &amp; bit_field()) != 0;
<a name="l04588"></a>04588   }
<a name="l04589"></a>04589 
<a name="l04590"></a>04590   <span class="comment">// Tells whether the instance is undetectable.</span>
<a name="l04591"></a>04591   <span class="comment">// An undetectable object is a special class of JSObject: &#39;typeof&#39; operator</span>
<a name="l04592"></a>04592   <span class="comment">// returns undefined, ToBoolean returns false. Otherwise it behaves like</span>
<a name="l04593"></a>04593   <span class="comment">// a normal JS object.  It is useful for implementing undetectable</span>
<a name="l04594"></a>04594   <span class="comment">// document.all in Firefox &amp; Safari.</span>
<a name="l04595"></a>04595   <span class="comment">// See https://bugzilla.mozilla.org/show_bug.cgi?id=248549.</span>
<a name="l04596"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a2c458a573eb4f99fd6064ed4bb9ff92d">04596</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a2c458a573eb4f99fd6064ed4bb9ff92d">set_is_undetectable</a>() {
<a name="l04597"></a>04597     set_bit_field(bit_field() | (1 &lt;&lt; kIsUndetectable));
<a name="l04598"></a>04598   }
<a name="l04599"></a>04599 
<a name="l04600"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a97897da959f2d55c8673f0f103b44403">04600</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a97897da959f2d55c8673f0f103b44403">is_undetectable</a>() {
<a name="l04601"></a>04601     <span class="keywordflow">return</span> ((1 &lt;&lt; kIsUndetectable) &amp; bit_field()) != 0;
<a name="l04602"></a>04602   }
<a name="l04603"></a>04603 
<a name="l04604"></a>04604   <span class="comment">// Tells whether the instance has a call-as-function handler.</span>
<a name="l04605"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a98b48fe1d6f9e896bd16899938ee6d9b">04605</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a98b48fe1d6f9e896bd16899938ee6d9b">set_has_instance_call_handler</a>() {
<a name="l04606"></a>04606     set_bit_field(bit_field() | (1 &lt;&lt; kHasInstanceCallHandler));
<a name="l04607"></a>04607   }
<a name="l04608"></a>04608 
<a name="l04609"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a695be08fd59cd7fac657fe07394a1fcf">04609</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a695be08fd59cd7fac657fe07394a1fcf">has_instance_call_handler</a>() {
<a name="l04610"></a>04610     <span class="keywordflow">return</span> ((1 &lt;&lt; kHasInstanceCallHandler) &amp; bit_field()) != 0;
<a name="l04611"></a>04611   }
<a name="l04612"></a>04612 
<a name="l04613"></a>04613   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_is_extensible(<span class="keywordtype">bool</span> value);
<a name="l04614"></a>04614   <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_extensible();
<a name="l04615"></a>04615 
<a name="l04616"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a9632fe844e996ace79d586ba76d95911">04616</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a9632fe844e996ace79d586ba76d95911">set_elements_kind</a>(<a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> elements_kind) {
<a name="l04617"></a>04617     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(elements_kind &lt; <a class="code" href="namespacev8_1_1internal.html#a59f61913183055e580d8711263ed8eae">kElementsKindCount</a>);
<a name="l04618"></a>04618     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="namespacev8_1_1internal.html#a59f61913183055e580d8711263ed8eae">kElementsKindCount</a> &lt;= (1 &lt;&lt; kElementsKindBitCount));
<a name="l04619"></a>04619     set_bit_field2((bit_field2() &amp; ~kElementsKindMask) |
<a name="l04620"></a>04620         (elements_kind &lt;&lt; kElementsKindShift));
<a name="l04621"></a>04621     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(this-&gt;elements_kind() == elements_kind);
<a name="l04622"></a>04622   }
<a name="l04623"></a>04623 
<a name="l04624"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a051598779de355f1b9f1aea0210b74ef">04624</a>   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> <a class="code" href="classv8_1_1internal_1_1_map.html#a051598779de355f1b9f1aea0210b74ef">elements_kind</a>() {
<a name="l04625"></a>04625     <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a><span class="keyword">&gt;</span>(
<a name="l04626"></a>04626         (bit_field2() &amp; kElementsKindMask) &gt;&gt; kElementsKindShift);
<a name="l04627"></a>04627   }
<a name="l04628"></a>04628 
<a name="l04629"></a>04629   <span class="comment">// Tells whether the instance has fast elements that are only Smis.</span>
<a name="l04630"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a4b6751bc0d03e39777625049d8d5561c">04630</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a4b6751bc0d03e39777625049d8d5561c">has_fast_smi_only_elements</a>() {
<a name="l04631"></a>04631     <span class="keywordflow">return</span> elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a59f3078cced73b7f91c16693eb276f35">FAST_SMI_ONLY_ELEMENTS</a>;
<a name="l04632"></a>04632   }
<a name="l04633"></a>04633 
<a name="l04634"></a>04634   <span class="comment">// Tells whether the instance has fast elements.</span>
<a name="l04635"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a41e77f7ac129e40fa144c8db4c0851f0">04635</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a41e77f7ac129e40fa144c8db4c0851f0">has_fast_elements</a>() {
<a name="l04636"></a>04636     <span class="keywordflow">return</span> elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a02e35be424bf2b17338a33a8a0786862">FAST_ELEMENTS</a>;
<a name="l04637"></a>04637   }
<a name="l04638"></a>04638 
<a name="l04639"></a><a class="code" href="classv8_1_1internal_1_1_map.html#ab62c42ca3179a9a3e8a0a8610e29388f">04639</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#ab62c42ca3179a9a3e8a0a8610e29388f">has_fast_double_elements</a>() {
<a name="l04640"></a>04640     <span class="keywordflow">return</span> elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a941eaf33944f2b09406243fd90036d61">FAST_DOUBLE_ELEMENTS</a>;
<a name="l04641"></a>04641   }
<a name="l04642"></a>04642 
<a name="l04643"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a5c16fc42989ad70e51dd9073e4bd596c">04643</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a5c16fc42989ad70e51dd9073e4bd596c">has_non_strict_arguments_elements</a>() {
<a name="l04644"></a>04644     <span class="keywordflow">return</span> elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ac5f83fcbde8af492c2028fcc107aedb0">NON_STRICT_ARGUMENTS_ELEMENTS</a>;
<a name="l04645"></a>04645   }
<a name="l04646"></a>04646 
<a name="l04647"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a02567bc214afb41c74599662d92b7324">04647</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a02567bc214afb41c74599662d92b7324">has_external_array_elements</a>() {
<a name="l04648"></a>04648     <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> kind(elements_kind());
<a name="l04649"></a>04649     <span class="keywordflow">return</span> kind &gt;= <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31afce7db7873cd53dd41f3402d3e902639">FIRST_EXTERNAL_ARRAY_ELEMENTS_KIND</a> &amp;&amp;
<a name="l04650"></a>04650         kind &lt;= <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a2245fe41b2c5fb2fdc6470d9ac09735f">LAST_EXTERNAL_ARRAY_ELEMENTS_KIND</a>;
<a name="l04651"></a>04651   }
<a name="l04652"></a>04652 
<a name="l04653"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a4e365f3328d1b293a4740a50664d2e97">04653</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a4e365f3328d1b293a4740a50664d2e97">has_dictionary_elements</a>() {
<a name="l04654"></a>04654     <span class="keywordflow">return</span> elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ace123a96977080e9fd831f0f40e97a37">DICTIONARY_ELEMENTS</a>;
<a name="l04655"></a>04655   }
<a name="l04656"></a>04656 
<a name="l04657"></a><a class="code" href="classv8_1_1internal_1_1_map.html#afc42aeafaf31adad5b96767a5d595aed">04657</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_map.html#afc42aeafaf31adad5b96767a5d595aed">has_slow_elements_kind</a>() {
<a name="l04658"></a>04658     <span class="keywordflow">return</span> elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ace123a96977080e9fd831f0f40e97a37">DICTIONARY_ELEMENTS</a>
<a name="l04659"></a>04659         || elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31ac5f83fcbde8af492c2028fcc107aedb0">NON_STRICT_ARGUMENTS_ELEMENTS</a>;
<a name="l04660"></a>04660   }
<a name="l04661"></a>04661 
<a name="l04662"></a>04662   <span class="keyword">static</span> <span class="keywordtype">bool</span> IsValidElementsTransition(<a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> from_kind,
<a name="l04663"></a>04663                                         <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> to_kind);
<a name="l04664"></a>04664 
<a name="l04665"></a>04665   <span class="comment">// Tells whether the map is attached to SharedFunctionInfo</span>
<a name="l04666"></a>04666   <span class="comment">// (for inobject slack tracking).</span>
<a name="l04667"></a>04667   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_attached_to_shared_function_info(<span class="keywordtype">bool</span> value);
<a name="l04668"></a>04668 
<a name="l04669"></a>04669   <span class="keyword">inline</span> <span class="keywordtype">bool</span> attached_to_shared_function_info();
<a name="l04670"></a>04670 
<a name="l04671"></a>04671   <span class="comment">// Tells whether the map is shared between objects that may have different</span>
<a name="l04672"></a>04672   <span class="comment">// behavior. If true, the map should never be modified, instead a clone</span>
<a name="l04673"></a>04673   <span class="comment">// should be created and modified.</span>
<a name="l04674"></a>04674   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_is_shared(<span class="keywordtype">bool</span> value);
<a name="l04675"></a>04675 
<a name="l04676"></a>04676   <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_shared();
<a name="l04677"></a>04677 
<a name="l04678"></a>04678   <span class="comment">// Tells whether the instance needs security checks when accessing its</span>
<a name="l04679"></a>04679   <span class="comment">// properties.</span>
<a name="l04680"></a>04680   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_is_access_check_needed(<span class="keywordtype">bool</span> access_check_needed);
<a name="l04681"></a>04681   <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_access_check_needed();
<a name="l04682"></a>04682 
<a name="l04683"></a>04683   <span class="comment">// [prototype]: implicit prototype object.</span>
<a name="l04684"></a>04684   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(prototype, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l04685"></a>04685 
<a name="l04686"></a>04686   <span class="comment">// [constructor]: points back to the function responsible for this map.</span>
<a name="l04687"></a>04687   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(constructor, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l04688"></a>04688 
<a name="l04689"></a>04689   inline <a class="code" href="classv8_1_1internal_1_1_j_s_function.html">JSFunction</a>* unchecked_constructor();
<a name="l04690"></a>04690 
<a name="l04691"></a>04691   <span class="comment">// Should only be called by the code that initializes map to set initial valid</span>
<a name="l04692"></a>04692   <span class="comment">// value of the instance descriptor member.</span>
<a name="l04693"></a>04693   inline <span class="keywordtype">void</span> init_instance_descriptors();
<a name="l04694"></a>04694 
<a name="l04695"></a>04695   <span class="comment">// [instance descriptors]: describes the object.</span>
<a name="l04696"></a>04696   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(instance_descriptors, <a class="code" href="classv8_1_1internal_1_1_descriptor_array.html">DescriptorArray</a>)
<a name="l04697"></a>04697 
<a name="l04698"></a>04698   <span class="comment">// Sets the instance descriptor array for the map to be an empty descriptor</span>
<a name="l04699"></a>04699   <span class="comment">// array.</span>
<a name="l04700"></a>04700   inline <span class="keywordtype">void</span> clear_instance_descriptors();
<a name="l04701"></a>04701 
<a name="l04702"></a>04702   <span class="comment">// [stub cache]: contains stubs compiled for this map.</span>
<a name="l04703"></a>04703   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(code_cache, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l04704"></a>04704 
<a name="l04705"></a>04705   <span class="comment">// [prototype transitions]: cache of prototype transitions.</span>
<a name="l04706"></a>04706   <span class="comment">// Prototype transition is a transition that happens</span>
<a name="l04707"></a>04707   <span class="comment">// when we change object&#39;s prototype to a new one.</span>
<a name="l04708"></a>04708   <span class="comment">// Cache format:</span>
<a name="l04709"></a>04709   <span class="comment">//    0: finger - index of the first free cell in the cache</span>
<a name="l04710"></a>04710   <span class="comment">//    1 + 2 * i: prototype</span>
<a name="l04711"></a>04711   <span class="comment">//    2 + 2 * i: target map</span>
<a name="l04712"></a>04712   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(prototype_transitions, <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>)
<a name="l04713"></a>04713 
<a name="l04714"></a>04714   inline <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* unchecked_prototype_transitions();
<a name="l04715"></a>04715 
<a name="l04716"></a><a class="code" href="classv8_1_1internal_1_1_map.html#af0534f51136bd75b923e123dc32e3b74">04716</a>   static const <span class="keywordtype">int</span> kProtoTransitionHeaderSize = 1;
<a name="l04717"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a986f745e077847257de3460e07e4796a">04717</a>   static const <span class="keywordtype">int</span> kProtoTransitionNumberOfEntriesOffset = 0;
<a name="l04718"></a><a class="code" href="classv8_1_1internal_1_1_map.html#aa2ae67474548807a9c6121cb3cbd8660">04718</a>   static const <span class="keywordtype">int</span> kProtoTransitionElementsPerEntry = 2;
<a name="l04719"></a><a class="code" href="classv8_1_1internal_1_1_map.html#aad1f95a33c3c4d57e3cb5511250cc471">04719</a>   static const <span class="keywordtype">int</span> kProtoTransitionPrototypeOffset = 0;
<a name="l04720"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a2764c9c1fff3dcc27cb4465f2766c3b5">04720</a>   static const <span class="keywordtype">int</span> kProtoTransitionMapOffset = 1;
<a name="l04721"></a>04721 
<a name="l04722"></a><a class="code" href="classv8_1_1internal_1_1_map.html#ad0158525f6e49424acb7964f3ca4da1c">04722</a>   inline <span class="keywordtype">int</span> NumberOfProtoTransitions() {
<a name="l04723"></a>04723     <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* cache = prototype_transitions();
<a name="l04724"></a>04724     <span class="keywordflow">if</span> (cache-&gt;<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>() == 0) <span class="keywordflow">return</span> 0;
<a name="l04725"></a>04725     <span class="keywordflow">return</span>
<a name="l04726"></a>04726         <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">Smi::cast</a>(cache-&gt;<a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a44361ce215ec75f98ba22f84f7d4b360">get</a>(kProtoTransitionNumberOfEntriesOffset))-&gt;value();
<a name="l04727"></a>04727   }
<a name="l04728"></a>04728 
<a name="l04729"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a42924a422bc0c292a2d213394ec01770">04729</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_map.html#a42924a422bc0c292a2d213394ec01770">SetNumberOfProtoTransitions</a>(<span class="keywordtype">int</span> value) {
<a name="l04730"></a>04730     <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* cache = prototype_transitions();
<a name="l04731"></a>04731     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(cache-&gt;<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>() != 0);
<a name="l04732"></a>04732     cache-&gt;<a class="code" href="classv8_1_1internal_1_1_fixed_array.html#a54c903803279c1a3ef933dbfb325ed84">set_unchecked</a>(kProtoTransitionNumberOfEntriesOffset,
<a name="l04733"></a>04733                          <a class="code" href="classv8_1_1internal_1_1_smi.html#ab8a06699d9e96c9c50be9bf54c29ea86">Smi::FromInt</a>(value));
<a name="l04734"></a>04734   }
<a name="l04735"></a>04735 
<a name="l04736"></a>04736   <span class="comment">// Lookup in the map&#39;s instance descriptors and fill out the result</span>
<a name="l04737"></a>04737   <span class="comment">// with the given holder if the name is found. The holder may be</span>
<a name="l04738"></a>04738   <span class="comment">// NULL when this function is used from the compiler.</span>
<a name="l04739"></a>04739   <span class="keywordtype">void</span> LookupInDescriptors(<a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>* holder,
<a name="l04740"></a>04740                            <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>,
<a name="l04741"></a>04741                            LookupResult* result);
<a name="l04742"></a>04742 
<a name="l04743"></a>04743   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* CopyDropDescriptors();
<a name="l04744"></a>04744 
<a name="l04745"></a>04745   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* CopyNormalized(<a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237a">PropertyNormalizationMode</a> mode,
<a name="l04746"></a>04746                                               <a class="code" href="namespacev8_1_1internal.html#a747acea02464a243c466783120c0f3d0">NormalizedMapSharingMode</a> sharing);
<a name="l04747"></a>04747 
<a name="l04748"></a>04748   <span class="comment">// Returns a copy of the map, with all transitions dropped from the</span>
<a name="l04749"></a>04749   <span class="comment">// instance descriptors.</span>
<a name="l04750"></a>04750   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* CopyDropTransitions();
<a name="l04751"></a>04751 
<a name="l04752"></a>04752   <span class="comment">// Returns the property index for name (only valid for FAST MODE).</span>
<a name="l04753"></a>04753   <span class="keywordtype">int</span> PropertyIndexFor(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l04754"></a>04754 
<a name="l04755"></a>04755   <span class="comment">// Returns the next free property index (only valid for FAST MODE).</span>
<a name="l04756"></a>04756   <span class="keywordtype">int</span> NextFreePropertyIndex();
<a name="l04757"></a>04757 
<a name="l04758"></a>04758   <span class="comment">// Returns the number of properties described in instance_descriptors</span>
<a name="l04759"></a>04759   <span class="comment">// filtering out properties with the specified attributes.</span>
<a name="l04760"></a>04760   <span class="keywordtype">int</span> NumberOfDescribedProperties(<a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> filter = <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a>);
<a name="l04761"></a>04761 
<a name="l04762"></a>04762   <span class="comment">// Casting.</span>
<a name="l04763"></a>04763   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l04764"></a>04764 
<a name="l04765"></a>04765   <span class="comment">// Locate an accessor in the instance descriptor.</span>
<a name="l04766"></a>04766   <a class="code" href="structv8_1_1internal_1_1_accessor_descriptor.html">AccessorDescriptor</a>* FindAccessor(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l04767"></a>04767 
<a name="l04768"></a>04768   <span class="comment">// Code cache operations.</span>
<a name="l04769"></a>04769 
<a name="l04770"></a>04770   <span class="comment">// Clears the code cache.</span>
<a name="l04771"></a>04771   <span class="keyword">inline</span> <span class="keywordtype">void</span> ClearCodeCache(<a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* heap);
<a name="l04772"></a>04772 
<a name="l04773"></a>04773   <span class="comment">// Update code cache.</span>
<a name="l04774"></a>04774   <span class="keyword">static</span> <span class="keywordtype">void</span> UpdateCodeCache(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#adb4fe930ff2cca856204810cbb456ac3">map</a>,
<a name="l04775"></a>04775                               <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>,
<a name="l04776"></a>04776                               <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Code&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>);
<a name="l04777"></a>04777   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* UpdateCodeCache(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>);
<a name="l04778"></a>04778 
<a name="l04779"></a>04779   <span class="comment">// Returns the found code or undefined if absent.</span>
<a name="l04780"></a>04780   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* FindInCodeCache(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Code::Flags</a> <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l04781"></a>04781 
<a name="l04782"></a>04782   <span class="comment">// Returns the non-negative index of the code object if it is in the</span>
<a name="l04783"></a>04783   <span class="comment">// cache and -1 otherwise.</span>
<a name="l04784"></a>04784   <span class="keywordtype">int</span> IndexInCodeCache(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>);
<a name="l04785"></a>04785 
<a name="l04786"></a>04786   <span class="comment">// Removes a code object from the code cache at the given index.</span>
<a name="l04787"></a>04787   <span class="keywordtype">void</span> RemoveFromCodeCache(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>, <span class="keywordtype">int</span> index);
<a name="l04788"></a>04788 
<a name="l04789"></a>04789   <span class="comment">// For every transition in this map, makes the transition&#39;s</span>
<a name="l04790"></a>04790   <span class="comment">// target&#39;s prototype pointer point back to this map.</span>
<a name="l04791"></a>04791   <span class="comment">// This is undone in MarkCompactCollector::ClearNonLiveTransitions().</span>
<a name="l04792"></a>04792   <span class="keywordtype">void</span> CreateBackPointers();
<a name="l04793"></a>04793 
<a name="l04794"></a>04794   <span class="keywordtype">void</span> CreateOneBackPointer(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* transition_target);
<a name="l04795"></a>04795 
<a name="l04796"></a>04796   <span class="comment">// Set all map transitions from this map to dead maps to null.</span>
<a name="l04797"></a>04797   <span class="comment">// Also, restore the original prototype on the targets of these</span>
<a name="l04798"></a>04798   <span class="comment">// transitions, so that we do not process this map again while</span>
<a name="l04799"></a>04799   <span class="comment">// following back pointers.</span>
<a name="l04800"></a>04800   <span class="keywordtype">void</span> ClearNonLiveTransitions(<a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* heap, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* real_prototype);
<a name="l04801"></a>04801 
<a name="l04802"></a>04802   <span class="comment">// Restore a possible back pointer in the prototype field of object.</span>
<a name="l04803"></a>04803   <span class="comment">// Return true in that case and false otherwise. Set *keep_entry to</span>
<a name="l04804"></a>04804   <span class="comment">// true when a live map transition has been found.</span>
<a name="l04805"></a>04805   <span class="keywordtype">bool</span> RestoreOneBackPointer(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>,
<a name="l04806"></a>04806                              <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* real_prototype,
<a name="l04807"></a>04807                              <span class="keywordtype">bool</span>* keep_entry);
<a name="l04808"></a>04808 
<a name="l04809"></a>04809   <span class="comment">// Computes a hash value for this map, to be used in HashTables and such.</span>
<a name="l04810"></a>04810   <span class="keywordtype">int</span> Hash();
<a name="l04811"></a>04811 
<a name="l04812"></a>04812   <span class="comment">// Compares this map to another to see if they describe equivalent objects.</span>
<a name="l04813"></a>04813   <span class="comment">// If |mode| is set to CLEAR_INOBJECT_PROPERTIES, |other| is treated as if</span>
<a name="l04814"></a>04814   <span class="comment">// it had exactly zero inobject properties.</span>
<a name="l04815"></a>04815   <span class="comment">// The &quot;shared&quot; flags of both this map and |other| are ignored.</span>
<a name="l04816"></a>04816   <span class="keywordtype">bool</span> EquivalentToForNormalization(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* other, <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237a">PropertyNormalizationMode</a> mode);
<a name="l04817"></a>04817 
<a name="l04818"></a>04818   <span class="comment">// Returns the contents of this map&#39;s descriptor array for the given string.</span>
<a name="l04819"></a>04819   <span class="comment">// May return NULL. |safe_to_add_transition| is set to false and NULL</span>
<a name="l04820"></a>04820   <span class="comment">// is returned if adding transitions is not allowed.</span>
<a name="l04821"></a>04821   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* GetDescriptorContents(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* sentinel_name,
<a name="l04822"></a>04822                                 <span class="keywordtype">bool</span>* safe_to_add_transitions);
<a name="l04823"></a>04823 
<a name="l04824"></a>04824   <span class="comment">// Returns the map that this map transitions to if its elements_kind</span>
<a name="l04825"></a>04825   <span class="comment">// is changed to |elements_kind|, or NULL if no such map is cached yet.</span>
<a name="l04826"></a>04826   <span class="comment">// |safe_to_add_transitions| is set to false if adding transitions is not</span>
<a name="l04827"></a>04827   <span class="comment">// allowed.</span>
<a name="l04828"></a>04828   <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* LookupElementsTransitionMap(<a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> elements_kind,
<a name="l04829"></a>04829                                    <span class="keywordtype">bool</span>* safe_to_add_transition);
<a name="l04830"></a>04830 
<a name="l04831"></a>04831   <span class="comment">// Adds an entry to this map&#39;s descriptor array for a transition to</span>
<a name="l04832"></a>04832   <span class="comment">// |transitioned_map| when its elements_kind is changed to |elements_kind|.</span>
<a name="l04833"></a>04833   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* AddElementsTransition(
<a name="l04834"></a>04834       <a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31">ElementsKind</a> elements_kind, <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* transitioned_map);
<a name="l04835"></a>04835 
<a name="l04836"></a>04836   <span class="comment">// Returns the transitioned map for this map with the most generic</span>
<a name="l04837"></a>04837   <span class="comment">// elements_kind that&#39;s found in |candidates|, or null handle if no match is</span>
<a name="l04838"></a>04838   <span class="comment">// found at all.</span>
<a name="l04839"></a>04839   <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Map&gt;</a> FindTransitionedMap(<a class="code" href="classv8_1_1internal_1_1_list.html">MapHandleList</a>* candidates);
<a name="l04840"></a>04840   <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* FindTransitionedMap(<a class="code" href="classv8_1_1internal_1_1_list.html">MapList</a>* candidates);
<a name="l04841"></a>04841 
<a name="l04842"></a>04842 
<a name="l04843"></a>04843   <span class="comment">// Dispatched behavior.</span>
<a name="l04844"></a>04844 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l04845"></a>04845 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> MapPrint() {
<a name="l04846"></a>04846     MapPrint(stdout);
<a name="l04847"></a>04847   }
<a name="l04848"></a>04848   <span class="keywordtype">void</span> MapPrint(FILE* out);
<a name="l04849"></a>04849 <span class="preprocessor">#endif</span>
<a name="l04850"></a>04850 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l04851"></a>04851 <span class="preprocessor"></span>  <span class="keywordtype">void</span> MapVerify();
<a name="l04852"></a>04852   <span class="keywordtype">void</span> SharedMapVerify();
<a name="l04853"></a>04853 <span class="preprocessor">#endif</span>
<a name="l04854"></a>04854 <span class="preprocessor"></span>
<a name="l04855"></a>04855   <span class="keyword">inline</span> <span class="keywordtype">int</span> visitor_id();
<a name="l04856"></a>04856   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_visitor_id(<span class="keywordtype">int</span> visitor_id);
<a name="l04857"></a>04857 
<a name="l04858"></a><a class="code" href="classv8_1_1internal_1_1_map.html#ad4645c6ae35397fb2ce9c6d521cba8e8">04858</a>   <span class="keyword">typedef</span> void (*TraverseCallback)(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#adb4fe930ff2cca856204810cbb456ac3">map</a>, <span class="keywordtype">void</span>* data);
<a name="l04859"></a>04859 
<a name="l04860"></a>04860   <span class="keywordtype">void</span> TraverseTransitionTree(TraverseCallback callback, <span class="keywordtype">void</span>* data);
<a name="l04861"></a>04861 
<a name="l04862"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a718339ce7718d9c27d4c298b49743599">04862</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxCachedPrototypeTransitions = 256;
<a name="l04863"></a>04863 
<a name="l04864"></a>04864   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* GetPrototypeTransition(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* prototype);
<a name="l04865"></a>04865 
<a name="l04866"></a>04866   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* PutPrototypeTransition(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* prototype,
<a name="l04867"></a>04867                                                       <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#adb4fe930ff2cca856204810cbb456ac3">map</a>);
<a name="l04868"></a>04868 
<a name="l04869"></a><a class="code" href="classv8_1_1internal_1_1_map.html#ad878be44f72b34291a3995a9a9c4783d">04869</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxPreAllocatedPropertyFields = 255;
<a name="l04870"></a>04870 
<a name="l04871"></a>04871   <span class="comment">// Layout description.</span>
<a name="l04872"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a87c3c5f503d77b60652e9df6a047d21c">04872</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInstanceSizesOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l04873"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a30dbbec5152d64e484d586a918b5be0a">04873</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInstanceAttributesOffset = kInstanceSizesOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l04874"></a><a class="code" href="classv8_1_1internal_1_1_map.html#ae771e9e987681d98dd684c85b18c9a61">04874</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPrototypeOffset = kInstanceAttributesOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l04875"></a><a class="code" href="classv8_1_1internal_1_1_map.html#ad032da2473a08f6de04105708c6bdd6a">04875</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kConstructorOffset = kPrototypeOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04876"></a>04876   <span class="comment">// Storage for instance descriptors is overloaded to also contain additional</span>
<a name="l04877"></a>04877   <span class="comment">// map flags when unused (bit_field3). When the map has instance descriptors,</span>
<a name="l04878"></a>04878   <span class="comment">// the flags are transferred to the instance descriptor array and accessed</span>
<a name="l04879"></a>04879   <span class="comment">// through an extra indirection.</span>
<a name="l04880"></a>04880   <span class="comment">// TODO(1399): It should be possible to make room for bit_field3 in the map</span>
<a name="l04881"></a>04881   <span class="comment">// without overloading the instance descriptors field, but the map is</span>
<a name="l04882"></a>04882   <span class="comment">// currently perfectly aligned to 32 bytes and extending it at all would</span>
<a name="l04883"></a>04883   <span class="comment">// double its size.  After the increment GC work lands, this size restriction</span>
<a name="l04884"></a>04884   <span class="comment">// could be loosened and bit_field3 moved directly back in the map.</span>
<a name="l04885"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a2ed0888d8e7a8c10a4aa63047cdfa3e1">04885</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInstanceDescriptorsOrBitField3Offset =
<a name="l04886"></a>04886       kConstructorOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04887"></a><a class="code" href="classv8_1_1internal_1_1_map.html#ac3ced53934ca552850c1ac86de495eb6">04887</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeCacheOffset =
<a name="l04888"></a>04888       kInstanceDescriptorsOrBitField3Offset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04889"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a9600ed6f27405d417a6896f5f8b2f532">04889</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPrototypeTransitionsOffset =
<a name="l04890"></a>04890       kCodeCacheOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04891"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a2b3a2a09ab3f2f84ed899686c0bb46d1">04891</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPadStart = kPrototypeTransitionsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04892"></a><a class="code" href="classv8_1_1internal_1_1_map.html#aa4e29ae9c6ce51359888cf4a769a1585">04892</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="v8globals_8h.html#ae2258e1c77d9b1b27ec6ee88b1ec5c4c">MAP_POINTER_ALIGN</a>(kPadStart);
<a name="l04893"></a>04893 
<a name="l04894"></a>04894   <span class="comment">// Layout of pointer fields. Heap iteration code relies on them</span>
<a name="l04895"></a>04895   <span class="comment">// being continuously allocated.</span>
<a name="l04896"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a31a62da6ae3835ea76e1f48a735f5e18">04896</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPointerFieldsBeginOffset = <a class="code" href="classv8_1_1internal_1_1_map.html#ae771e9e987681d98dd684c85b18c9a61">Map::kPrototypeOffset</a>;
<a name="l04897"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a03f76d6b32e01a0217d97d7a17d29781">04897</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPointerFieldsEndOffset =
<a name="l04898"></a>04898       <a class="code" href="classv8_1_1internal_1_1_map.html#a9600ed6f27405d417a6896f5f8b2f532">Map::kPrototypeTransitionsOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l04899"></a>04899 
<a name="l04900"></a>04900   <span class="comment">// Byte offsets within kInstanceSizesOffset.</span>
<a name="l04901"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a90565a6d11c9416b1768a6e51849614e">04901</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInstanceSizeOffset = kInstanceSizesOffset + 0;
<a name="l04902"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a31715dacc7cd036e31b19628d5442bf6">04902</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInObjectPropertiesByte = 1;
<a name="l04903"></a><a class="code" href="classv8_1_1internal_1_1_map.html#abb892ea4c12b68553185322a4c851be9">04903</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInObjectPropertiesOffset =
<a name="l04904"></a>04904       kInstanceSizesOffset + kInObjectPropertiesByte;
<a name="l04905"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a7c17ed784f7048eea5a540a3ab3e795c">04905</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPreAllocatedPropertyFieldsByte = 2;
<a name="l04906"></a><a class="code" href="classv8_1_1internal_1_1_map.html#aa3c49fd741ab78990e7635ea0e49f118">04906</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPreAllocatedPropertyFieldsOffset =
<a name="l04907"></a>04907       kInstanceSizesOffset + kPreAllocatedPropertyFieldsByte;
<a name="l04908"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a6dc85d25a73a94ab6660530695bac8ae">04908</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kVisitorIdByte = 3;
<a name="l04909"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a75fed4ddabed6fed23748405c5de491a">04909</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kVisitorIdOffset = kInstanceSizesOffset + kVisitorIdByte;
<a name="l04910"></a>04910 
<a name="l04911"></a>04911   <span class="comment">// Byte offsets within kInstanceAttributesOffset attributes.</span>
<a name="l04912"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a6a9a39baa24992d237b42edcf634db9d">04912</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInstanceTypeOffset = kInstanceAttributesOffset + 0;
<a name="l04913"></a><a class="code" href="classv8_1_1internal_1_1_map.html#afa596db997f369a1206e2acf2fa94d1d">04913</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUnusedPropertyFieldsOffset = kInstanceAttributesOffset + 1;
<a name="l04914"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a346c93635c7bba2c256e1703121e9ea8">04914</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBitFieldOffset = kInstanceAttributesOffset + 2;
<a name="l04915"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a82252f8d0b1dbf43ae262d742ff4ac40">04915</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBitField2Offset = kInstanceAttributesOffset + 3;
<a name="l04916"></a>04916 
<a name="l04917"></a>04917   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(kInstanceTypeOffset == <a class="code" href="classv8_1_1internal_1_1_internals.html#a39ea290dfaa9de300bd79aa73a874a88">Internals::kMapInstanceTypeOffset</a>);
<a name="l04918"></a>04918 
<a name="l04919"></a>04919   <span class="comment">// Bit positions for bit field.</span>
<a name="l04920"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a73983032eaba3f1c3018ac168551e36f">04920</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUnused = 0;  <span class="comment">// To be used for marking recently used maps.</span>
<a name="l04921"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a625118736a731f98f24fb0b46def35c4">04921</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHasNonInstancePrototype = 1;
<a name="l04922"></a><a class="code" href="classv8_1_1internal_1_1_map.html#afbe267cd52fb4634f1c2f4722d06d514">04922</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIsHiddenPrototype = 2;
<a name="l04923"></a><a class="code" href="classv8_1_1internal_1_1_map.html#ae1bcc8aebd00c892cc929c10bcda0239">04923</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHasNamedInterceptor = 3;
<a name="l04924"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a2fb730e0d0fa7622af6a0cc07386fc6b">04924</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHasIndexedInterceptor = 4;
<a name="l04925"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a23419f5d3c0c3bdecfd11e8d67649ab5">04925</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIsUndetectable = 5;
<a name="l04926"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a18319fd34a922f5387db4b73e2da5a17">04926</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHasInstanceCallHandler = 6;
<a name="l04927"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a4166f71f4987249578dabb3e24b8f4e7">04927</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIsAccessCheckNeeded = 7;
<a name="l04928"></a>04928 
<a name="l04929"></a>04929   <span class="comment">// Bit positions for bit field 2</span>
<a name="l04930"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a022e2df17d0a2b317d930dad7cba8f7d">04930</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIsExtensible = 0;
<a name="l04931"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a5d88497db17697032d9a2d77a33d9c45">04931</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFunctionWithPrototype = 1;
<a name="l04932"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a4dc68fcf0448b89923f2303d6826c1d6">04932</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStringWrapperSafeForDefaultValueOf = 2;
<a name="l04933"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a13fe48101dc3c3b3d23bdd74f96e0570">04933</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAttachedToSharedFunctionInfo = 3;
<a name="l04934"></a>04934   <span class="comment">// No bits can be used after kElementsKindFirstBit, they are all reserved for</span>
<a name="l04935"></a>04935   <span class="comment">// storing ElementKind.</span>
<a name="l04936"></a><a class="code" href="classv8_1_1internal_1_1_map.html#aa6d9b9e5b47963a9750dfe65d95cf9c3">04936</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElementsKindShift = 4;
<a name="l04937"></a><a class="code" href="classv8_1_1internal_1_1_map.html#acb18b4967c4fa03bf5179e158ae16206">04937</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElementsKindBitCount = 4;
<a name="l04938"></a>04938 
<a name="l04939"></a>04939   <span class="comment">// Derived values from bit field 2</span>
<a name="l04940"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a7cd5a20c1e851000d8a2a18bce6c9bf0">04940</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElementsKindMask = (-1 &lt;&lt; kElementsKindShift) &amp;
<a name="l04941"></a>04941       ((1 &lt;&lt; (kElementsKindShift + kElementsKindBitCount)) - 1);
<a name="l04942"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a6ac920c0f1bde8b4b6bb83c2ada337d8">04942</a>   <span class="keyword">static</span> <span class="keyword">const</span> int8_t kMaximumBitField2FastElementValue = <span class="keyword">static_cast&lt;</span>int8_t<span class="keyword">&gt;</span>(
<a name="l04943"></a>04943       (<a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a02e35be424bf2b17338a33a8a0786862">FAST_ELEMENTS</a> + 1) &lt;&lt; <a class="code" href="classv8_1_1internal_1_1_map.html#aa6d9b9e5b47963a9750dfe65d95cf9c3">Map::kElementsKindShift</a>) - 1;
<a name="l04944"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a64126d75b6d6e4cccec8dce2b0d0e7ba">04944</a>   <span class="keyword">static</span> <span class="keyword">const</span> int8_t kMaximumBitField2FastSmiOnlyElementValue =
<a name="l04945"></a>04945       <span class="keyword">static_cast&lt;</span>int8_t<span class="keyword">&gt;</span>((<a class="code" href="namespacev8_1_1internal.html#a63689e64c196a95ef58c92ea3134ce31a59f3078cced73b7f91c16693eb276f35">FAST_SMI_ONLY_ELEMENTS</a> + 1) &lt;&lt;
<a name="l04946"></a>04946                           <a class="code" href="classv8_1_1internal_1_1_map.html#aa6d9b9e5b47963a9750dfe65d95cf9c3">Map::kElementsKindShift</a>) - 1;
<a name="l04947"></a>04947 
<a name="l04948"></a>04948   <span class="comment">// Bit positions for bit field 3</span>
<a name="l04949"></a><a class="code" href="classv8_1_1internal_1_1_map.html#aa4da82fb4b417fd9b016e9099ddc59ef">04949</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIsShared = 0;
<a name="l04950"></a>04950 
<a name="l04951"></a>04951   <span class="comment">// Layout of the default cache. It holds alternating name and code objects.</span>
<a name="l04952"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a7bfebc07f3b02efb194b7627a28743a4">04952</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeCacheEntrySize = 2;
<a name="l04953"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a422ccfa04b9e1195b4c70351794d7433">04953</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeCacheEntryNameOffset = 0;
<a name="l04954"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a876be581811a01366b471102f36fb817">04954</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeCacheEntryCodeOffset = 1;
<a name="l04955"></a>04955 
<a name="l04956"></a>04956   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor</a>&lt;kPointerFieldsBeginOffset,
<a name="l04957"></a>04957                               kPointerFieldsEndOffset,
<a name="l04958"></a><a class="code" href="classv8_1_1internal_1_1_map.html#a3a7765ae1b838d6f5b8b87b1955b9e96">04958</a>                               kSize&gt; <a class="code" href="classv8_1_1internal_1_1_map.html#a3a7765ae1b838d6f5b8b87b1955b9e96">BodyDescriptor</a>;
<a name="l04959"></a>04959 
<a name="l04960"></a>04960  <span class="keyword">private</span>:
<a name="l04961"></a>04961   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* elements_transition_sentinel_name();
<a name="l04962"></a>04962   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>);
<a name="l04963"></a>04963 };
<a name="l04964"></a>04964 
<a name="l04965"></a>04965 
<a name="l04966"></a>04966 <span class="comment">// An abstract superclass, a marker class really, for simple structure classes.</span>
<a name="l04967"></a>04967 <span class="comment">// It doesn&#39;t carry much functionality but allows struct classes to be</span>
<a name="l04968"></a>04968 <span class="comment">// identified in the type system.</span>
<a name="l04969"></a><a class="code" href="classv8_1_1internal_1_1_struct.html">04969</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l04970"></a>04970  <span class="keyword">public</span>:
<a name="l04971"></a>04971   <span class="keyword">inline</span> <span class="keywordtype">void</span> InitializeBody(<span class="keywordtype">int</span> object_size);
<a name="l04972"></a>04972   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* that);
<a name="l04973"></a>04973 };
<a name="l04974"></a>04974 
<a name="l04975"></a>04975 
<a name="l04976"></a>04976 <span class="comment">// Script describes a script which has been added to the VM.</span>
<a name="l04977"></a><a class="code" href="classv8_1_1internal_1_1_script.html">04977</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_script.html">Script</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l04978"></a>04978  <span class="keyword">public</span>:
<a name="l04979"></a>04979   <span class="comment">// Script types.</span>
<a name="l04980"></a><a class="code" href="classv8_1_1internal_1_1_script.html#ab293a016cf807eed21d94c4eb8b5d3a4">04980</a>   <span class="keyword">enum</span> Type {
<a name="l04981"></a><a class="code" href="classv8_1_1internal_1_1_script.html#ab293a016cf807eed21d94c4eb8b5d3a4a49912a6e963b0e13f57a04f78faa8f54">04981</a>     TYPE_NATIVE = 0,
<a name="l04982"></a><a class="code" href="classv8_1_1internal_1_1_script.html#ab293a016cf807eed21d94c4eb8b5d3a4a401b49d582b81682979712a68aef0c6a">04982</a>     TYPE_EXTENSION = 1,
<a name="l04983"></a><a class="code" href="classv8_1_1internal_1_1_script.html#ab293a016cf807eed21d94c4eb8b5d3a4addfc5e7bed3bb540a358099e53068209">04983</a>     TYPE_NORMAL = 2
<a name="l04984"></a>04984   };
<a name="l04985"></a>04985 
<a name="l04986"></a>04986   <span class="comment">// Script compilation types.</span>
<a name="l04987"></a><a class="code" href="classv8_1_1internal_1_1_script.html#ad5ba2ef0105d489f8e29013ad262f584">04987</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_script.html#ad5ba2ef0105d489f8e29013ad262f584">CompilationType</a> {
<a name="l04988"></a><a class="code" href="classv8_1_1internal_1_1_script.html#ad5ba2ef0105d489f8e29013ad262f584ac94f25b25b73c70d1fb42f3ceff59e73">04988</a>     COMPILATION_TYPE_HOST = 0,
<a name="l04989"></a><a class="code" href="classv8_1_1internal_1_1_script.html#ad5ba2ef0105d489f8e29013ad262f584a66eb166ecffe05d76eb3a47774e3740b">04989</a>     COMPILATION_TYPE_EVAL = 1
<a name="l04990"></a>04990   };
<a name="l04991"></a>04991 
<a name="l04992"></a>04992   <span class="comment">// Script compilation state.</span>
<a name="l04993"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a365b68632fc01a8bbae09764f6a0c2d5">04993</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_script.html#a365b68632fc01a8bbae09764f6a0c2d5">CompilationState</a> {
<a name="l04994"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a365b68632fc01a8bbae09764f6a0c2d5a1578c7501d10da876661ac67a65840cb">04994</a>     COMPILATION_STATE_INITIAL = 0,
<a name="l04995"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a365b68632fc01a8bbae09764f6a0c2d5ab520cc7ef43e5489dd3f64a05c2fb964">04995</a>     COMPILATION_STATE_COMPILED = 1
<a name="l04996"></a>04996   };
<a name="l04997"></a>04997 
<a name="l04998"></a>04998   <span class="comment">// [source]: the script source.</span>
<a name="l04999"></a>04999   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(source, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05000"></a>05000 
<a name="l05001"></a>05001   <span class="comment">// [name]: the script name.</span>
<a name="l05002"></a>05002   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05003"></a>05003 
<a name="l05004"></a>05004   <span class="comment">// [id]: the script id.</span>
<a name="l05005"></a>05005   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<span class="keywordtype">id</span>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05006"></a>05006 
<a name="l05007"></a>05007   <span class="comment">// [line_offset]: script line offset in resource from where it was extracted.</span>
<a name="l05008"></a>05008   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(line_offset, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>)
<a name="l05009"></a>05009 
<a name="l05010"></a>05010   <span class="comment">// [column_offset]: script column offset in resource from where it was</span>
<a name="l05011"></a>05011   <span class="comment">// extracted.</span>
<a name="l05012"></a>05012   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(column_offset, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>)
<a name="l05013"></a>05013 
<a name="l05014"></a>05014   <span class="comment">// [data]: additional data associated with this script.</span>
<a name="l05015"></a>05015   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(data, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05016"></a>05016 
<a name="l05017"></a>05017   <span class="comment">// [context_data]: context data for the context this script was compiled in.</span>
<a name="l05018"></a>05018   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(context_data, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05019"></a>05019 
<a name="l05020"></a>05020   <span class="comment">// [wrapper]: the wrapper cache.</span>
<a name="l05021"></a>05021   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(wrapper, <a class="code" href="classv8_1_1internal_1_1_foreign.html">Foreign</a>)
<a name="l05022"></a>05022 
<a name="l05023"></a>05023   <span class="comment">// [type]: the script type.</span>
<a name="l05024"></a>05024   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>)
<a name="l05025"></a>05025 
<a name="l05026"></a>05026   <span class="comment">// [compilation]: how the the script was compiled.</span>
<a name="l05027"></a>05027   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(compilation_type, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>)
<a name="l05028"></a>05028 
<a name="l05029"></a>05029   <span class="comment">// [is_compiled]: determines whether the script has already been compiled.</span>
<a name="l05030"></a>05030   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(compilation_state, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>)
<a name="l05031"></a>05031 
<a name="l05032"></a>05032   <span class="comment">// [line_ends]: FixedArray of line ends positions.</span>
<a name="l05033"></a>05033   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(line_ends, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05034"></a>05034 
<a name="l05035"></a>05035   <span class="comment">// [eval_from_shared]: for eval scripts the shared funcion info for the</span>
<a name="l05036"></a>05036   <span class="comment">// function from which eval was called.</span>
<a name="l05037"></a>05037   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(eval_from_shared, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05038"></a>05038 
<a name="l05039"></a>05039   <span class="comment">// [eval_from_instructions_offset]: the instruction offset in the code for the</span>
<a name="l05040"></a>05040   <span class="comment">// function from which eval was called where eval was called.</span>
<a name="l05041"></a>05041   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a82564faf471ed617bbd072f5f60c05e8">eval_from_instructions_offset</a>, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>)
<a name="l05042"></a>05042 
<a name="l05043"></a>05043   static inline <a class="code" href="classv8_1_1internal_1_1_script.html">Script</a>* cast(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l05044"></a>05044 
<a name="l05045"></a>05045   <span class="comment">// If script source is an external string, check that the underlying</span>
<a name="l05046"></a>05046   <span class="comment">// resource is accessible. Otherwise, always return true.</span>
<a name="l05047"></a>05047   inline <span class="keywordtype">bool</span> HasValidSource();
<a name="l05048"></a>05048 
<a name="l05049"></a>05049 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l05050"></a>05050 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ScriptPrint() {
<a name="l05051"></a>05051     ScriptPrint(stdout);
<a name="l05052"></a>05052   }
<a name="l05053"></a>05053   <span class="keywordtype">void</span> ScriptPrint(FILE* out);
<a name="l05054"></a>05054 <span class="preprocessor">#endif</span>
<a name="l05055"></a>05055 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l05056"></a>05056 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ScriptVerify();
<a name="l05057"></a>05057 <span class="preprocessor">#endif</span>
<a name="l05058"></a>05058 <span class="preprocessor"></span>
<a name="l05059"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a225adb25596f83c8821fe3eabd39c511">05059</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSourceOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l05060"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a40ff6e23759cd2b3a04ecf027325ce78">05060</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNameOffset = kSourceOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05061"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a956dac18eae162c1b27233b8dde59f24">05061</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLineOffsetOffset = kNameOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05062"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a07bdb4450a61351c14c57340cb433def">05062</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kColumnOffsetOffset = kLineOffsetOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05063"></a><a class="code" href="classv8_1_1internal_1_1_script.html#ad5aff0011ae1b4517bbd42a20adf862a">05063</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataOffset = kColumnOffsetOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05064"></a><a class="code" href="classv8_1_1internal_1_1_script.html#aa5f92f3d5a8070ff039dd47e866d942e">05064</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kContextOffset = kDataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05065"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a1a469ce1fd98e3243c5c93e23d8af841">05065</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kWrapperOffset = kContextOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05066"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a209c86d068d81195af0c6382f771f5ae">05066</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTypeOffset = kWrapperOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05067"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a5c6076c1341f76bb489bd38a9047e69e">05067</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompilationTypeOffset = kTypeOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05068"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a6977a6310c74ed2d6dd3effde2b8a1a4">05068</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompilationStateOffset =
<a name="l05069"></a>05069       kCompilationTypeOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05070"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a4ad5125df9cf76582ea2a70b11c70bba">05070</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLineEndsOffset = kCompilationStateOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05071"></a><a class="code" href="classv8_1_1internal_1_1_script.html#aee4b2225f5e2ec14f122c6d06d0f1c51">05071</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIdOffset = kLineEndsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05072"></a><a class="code" href="classv8_1_1internal_1_1_script.html#ad65ac113056769cff3093fede56c5c34">05072</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kEvalFromSharedOffset = kIdOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05073"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a5c7eecae36ba89633e7a9854a7f79629">05073</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kEvalFrominstructionsOffsetOffset =
<a name="l05074"></a>05074       kEvalFromSharedOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05075"></a><a class="code" href="classv8_1_1internal_1_1_script.html#a80d31769a7f5c7901ff3a9534b4fcae3">05075</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kEvalFrominstructionsOffsetOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05076"></a>05076 
<a name="l05077"></a>05077  <span class="keyword">private</span>:
<a name="l05078"></a>05078   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_script.html">Script</a>);
<a name="l05079"></a>05079 };
<a name="l05080"></a>05080 
<a name="l05081"></a>05081 
<a name="l05082"></a>05082 <span class="comment">// List of builtin functions we want to identify to improve code</span>
<a name="l05083"></a>05083 <span class="comment">// generation.</span>
<a name="l05084"></a>05084 <span class="comment">//</span>
<a name="l05085"></a>05085 <span class="comment">// Each entry has a name of a global object property holding an object</span>
<a name="l05086"></a>05086 <span class="comment">// optionally followed by &quot;.prototype&quot;, a name of a builtin function</span>
<a name="l05087"></a>05087 <span class="comment">// on the object (the one the id is set for), and a label.</span>
<a name="l05088"></a>05088 <span class="comment">//</span>
<a name="l05089"></a>05089 <span class="comment">// Installation of ids for the selected builtin functions is handled</span>
<a name="l05090"></a>05090 <span class="comment">// by the bootstrapper.</span>
<a name="l05091"></a>05091 <span class="comment">//</span>
<a name="l05092"></a>05092 <span class="comment">// NOTE: Order is important: math functions should be at the end of</span>
<a name="l05093"></a>05093 <span class="comment">// the list and MathFloor should be the first math function.</span>
<a name="l05094"></a><a class="code" href="objects_8h.html#abc0e38202ed027ef3de1afc1687e54bd">05094</a> <span class="preprocessor">#define FUNCTIONS_WITH_ID_LIST(V)                   \</span>
<a name="l05095"></a>05095 <span class="preprocessor">  V(Array.prototype, push, ArrayPush)               \</span>
<a name="l05096"></a>05096 <span class="preprocessor">  V(Array.prototype, pop, ArrayPop)                 \</span>
<a name="l05097"></a>05097 <span class="preprocessor">  V(Function.prototype, apply, FunctionApply)       \</span>
<a name="l05098"></a>05098 <span class="preprocessor">  V(String.prototype, charCodeAt, StringCharCodeAt) \</span>
<a name="l05099"></a>05099 <span class="preprocessor">  V(String.prototype, charAt, StringCharAt)         \</span>
<a name="l05100"></a>05100 <span class="preprocessor">  V(String, fromCharCode, StringFromCharCode)       \</span>
<a name="l05101"></a>05101 <span class="preprocessor">  V(Math, floor, MathFloor)                         \</span>
<a name="l05102"></a>05102 <span class="preprocessor">  V(Math, round, MathRound)                         \</span>
<a name="l05103"></a>05103 <span class="preprocessor">  V(Math, ceil, MathCeil)                           \</span>
<a name="l05104"></a>05104 <span class="preprocessor">  V(Math, abs, MathAbs)                             \</span>
<a name="l05105"></a>05105 <span class="preprocessor">  V(Math, log, MathLog)                             \</span>
<a name="l05106"></a>05106 <span class="preprocessor">  V(Math, sin, MathSin)                             \</span>
<a name="l05107"></a>05107 <span class="preprocessor">  V(Math, cos, MathCos)                             \</span>
<a name="l05108"></a>05108 <span class="preprocessor">  V(Math, tan, MathTan)                             \</span>
<a name="l05109"></a>05109 <span class="preprocessor">  V(Math, asin, MathASin)                           \</span>
<a name="l05110"></a>05110 <span class="preprocessor">  V(Math, acos, MathACos)                           \</span>
<a name="l05111"></a>05111 <span class="preprocessor">  V(Math, atan, MathATan)                           \</span>
<a name="l05112"></a>05112 <span class="preprocessor">  V(Math, exp, MathExp)                             \</span>
<a name="l05113"></a>05113 <span class="preprocessor">  V(Math, sqrt, MathSqrt)                           \</span>
<a name="l05114"></a>05114 <span class="preprocessor">  V(Math, pow, MathPow)                             \</span>
<a name="l05115"></a>05115 <span class="preprocessor">  V(Math, random, MathRandom)                       \</span>
<a name="l05116"></a>05116 <span class="preprocessor">  V(Math, max, MathMax)                             \</span>
<a name="l05117"></a>05117 <span class="preprocessor">  V(Math, min, MathMin)</span>
<a name="l05118"></a>05118 <span class="preprocessor"></span>
<a name="l05119"></a>05119 
<a name="l05120"></a><a class="code" href="namespacev8_1_1internal.html#a57a282a4e64aa385e8e96a32b8e0b434">05120</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a57a282a4e64aa385e8e96a32b8e0b434">BuiltinFunctionId</a> {
<a name="l05121"></a><a class="code" href="objects_8h.html#a0ba357665b3fd3db41fcf4fdff50912d">05121</a> <span class="preprocessor">#define DECLARE_FUNCTION_ID(ignored1, ignore2, name)    \</span>
<a name="l05122"></a>05122 <span class="preprocessor">  k##name,</span>
<a name="l05123"></a>05123 <span class="preprocessor"></span>  <a class="code" href="objects_8h.html#abc0e38202ed027ef3de1afc1687e54bd">FUNCTIONS_WITH_ID_LIST</a>(<a class="code" href="objects_8h.html#a0ba357665b3fd3db41fcf4fdff50912d">DECLARE_FUNCTION_ID</a>)
<a name="l05124"></a>05124 <span class="preprocessor">#undef DECLARE_FUNCTION_ID</span>
<a name="l05125"></a>05125 <span class="preprocessor"></span>  <span class="comment">// Fake id for a special case of Math.pow. Note, it continues the</span>
<a name="l05126"></a>05126   <span class="comment">// list of math functions.</span>
<a name="l05127"></a><a class="code" href="namespacev8_1_1internal.html#a57a282a4e64aa385e8e96a32b8e0b434a5bca87f16f3061fb0b4ae138e1f6f7af">05127</a>   <a class="code" href="namespacev8_1_1internal.html#a57a282a4e64aa385e8e96a32b8e0b434a5bca87f16f3061fb0b4ae138e1f6f7af">kMathPowHalf</a>,
<a name="l05128"></a><a class="code" href="namespacev8_1_1internal.html#a57a282a4e64aa385e8e96a32b8e0b434af7fd9708a0b89d5a1dfaad5dc0c74be3">05128</a>   <a class="code" href="namespacev8_1_1internal.html#a57a282a4e64aa385e8e96a32b8e0b434af7fd9708a0b89d5a1dfaad5dc0c74be3">kFirstMathFunctionId</a> = kMathFloor
<a name="l05129"></a>05129 };
<a name="l05130"></a>05130 
<a name="l05131"></a>05131 
<a name="l05132"></a>05132 <span class="comment">// SharedFunctionInfo describes the JSFunction information that can be</span>
<a name="l05133"></a>05133 <span class="comment">// shared by multiple instances of the function.</span>
<a name="l05134"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html">05134</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html">SharedFunctionInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l05135"></a>05135  <span class="keyword">public</span>:
<a name="l05136"></a>05136   <span class="comment">// [name]: Function name.</span>
<a name="l05137"></a>05137   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05138"></a>05138 
<a name="l05139"></a>05139   <span class="comment">// [code]: Function code.</span>
<a name="l05140"></a>05140   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>)
<a name="l05141"></a>05141 
<a name="l05142"></a>05142   <span class="comment">// [scope_info]: Scope info.</span>
<a name="l05143"></a>05143   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(scope_info, <a class="code" href="classv8_1_1internal_1_1_scope_info.html">ScopeInfo</a>)
<a name="l05144"></a>05144 
<a name="l05145"></a>05145   <span class="comment">// [construct stub]: Code stub for constructing instances of this function.</span>
<a name="l05146"></a>05146   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(construct_stub, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>)
<a name="l05147"></a>05147 
<a name="l05148"></a>05148   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* unchecked_code();
<a name="l05149"></a>05149 
<a name="l05150"></a>05150   <span class="comment">// Returns if this function has been compiled to native code yet.</span>
<a name="l05151"></a>05151   <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_compiled();
<a name="l05152"></a>05152 
<a name="l05153"></a>05153   <span class="comment">// [length]: The function length - usually the number of declared parameters.</span>
<a name="l05154"></a>05154   <span class="comment">// Use up to 2^30 parameters.</span>
<a name="l05155"></a>05155   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>();
<a name="l05156"></a>05156   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a67b8eea4413f1651bfe1a8b4c74f53d1">set_length</a>(<span class="keywordtype">int</span> value);
<a name="l05157"></a>05157 
<a name="l05158"></a>05158   <span class="comment">// [formal parameter count]: The declared number of parameters.</span>
<a name="l05159"></a>05159   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#ade425a0f26139a3421c8d55cc4461eef">formal_parameter_count</a>();
<a name="l05160"></a>05160   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_formal_parameter_count(<span class="keywordtype">int</span> value);
<a name="l05161"></a>05161 
<a name="l05162"></a>05162   <span class="comment">// Set the formal parameter count so the function code will be</span>
<a name="l05163"></a>05163   <span class="comment">// called without using argument adaptor frames.</span>
<a name="l05164"></a>05164   <span class="keyword">inline</span> <span class="keywordtype">void</span> DontAdaptArguments();
<a name="l05165"></a>05165 
<a name="l05166"></a>05166   <span class="comment">// [expected_nof_properties]: Expected number of properties for the function.</span>
<a name="l05167"></a>05167   <span class="keyword">inline</span> <span class="keywordtype">int</span> expected_nof_properties();
<a name="l05168"></a>05168   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_expected_nof_properties(<span class="keywordtype">int</span> value);
<a name="l05169"></a>05169 
<a name="l05170"></a>05170   <span class="comment">// Inobject slack tracking is the way to reclaim unused inobject space.</span>
<a name="l05171"></a>05171   <span class="comment">//</span>
<a name="l05172"></a>05172   <span class="comment">// The instance size is initially determined by adding some slack to</span>
<a name="l05173"></a>05173   <span class="comment">// expected_nof_properties (to allow for a few extra properties added</span>
<a name="l05174"></a>05174   <span class="comment">// after the constructor). There is no guarantee that the extra space</span>
<a name="l05175"></a>05175   <span class="comment">// will not be wasted.</span>
<a name="l05176"></a>05176   <span class="comment">//</span>
<a name="l05177"></a>05177   <span class="comment">// Here is the algorithm to reclaim the unused inobject space:</span>
<a name="l05178"></a>05178   <span class="comment">// - Detect the first constructor call for this SharedFunctionInfo.</span>
<a name="l05179"></a>05179   <span class="comment">//   When it happens enter the &quot;in progress&quot; state: remember the</span>
<a name="l05180"></a>05180   <span class="comment">//   constructor&#39;s initial_map and install a special construct stub that</span>
<a name="l05181"></a>05181   <span class="comment">//   counts constructor calls.</span>
<a name="l05182"></a>05182   <span class="comment">// - While the tracking is in progress create objects filled with</span>
<a name="l05183"></a>05183   <span class="comment">//   one_pointer_filler_map instead of undefined_value. This way they can be</span>
<a name="l05184"></a>05184   <span class="comment">//   resized quickly and safely.</span>
<a name="l05185"></a>05185   <span class="comment">// - Once enough (kGenerousAllocationCount) objects have been created</span>
<a name="l05186"></a>05186   <span class="comment">//   compute the &#39;slack&#39; (traverse the map transition tree starting from the</span>
<a name="l05187"></a>05187   <span class="comment">//   initial_map and find the lowest value of unused_property_fields).</span>
<a name="l05188"></a>05188   <span class="comment">// - Traverse the transition tree again and decrease the instance size</span>
<a name="l05189"></a>05189   <span class="comment">//   of every map. Existing objects will resize automatically (they are</span>
<a name="l05190"></a>05190   <span class="comment">//   filled with one_pointer_filler_map). All further allocations will</span>
<a name="l05191"></a>05191   <span class="comment">//   use the adjusted instance size.</span>
<a name="l05192"></a>05192   <span class="comment">// - Decrease expected_nof_properties so that an allocations made from</span>
<a name="l05193"></a>05193   <span class="comment">//   another context will use the adjusted instance size too.</span>
<a name="l05194"></a>05194   <span class="comment">// - Exit &quot;in progress&quot; state by clearing the reference to the initial_map</span>
<a name="l05195"></a>05195   <span class="comment">//   and setting the regular construct stub (generic or inline).</span>
<a name="l05196"></a>05196   <span class="comment">//</span>
<a name="l05197"></a>05197   <span class="comment">//  The above is the main event sequence. Some special cases are possible</span>
<a name="l05198"></a>05198   <span class="comment">//  while the tracking is in progress:</span>
<a name="l05199"></a>05199   <span class="comment">//</span>
<a name="l05200"></a>05200   <span class="comment">// - GC occurs.</span>
<a name="l05201"></a>05201   <span class="comment">//   Check if the initial_map is referenced by any live objects (except this</span>
<a name="l05202"></a>05202   <span class="comment">//   SharedFunctionInfo). If it is, continue tracking as usual.</span>
<a name="l05203"></a>05203   <span class="comment">//   If it is not, clear the reference and reset the tracking state. The</span>
<a name="l05204"></a>05204   <span class="comment">//   tracking will be initiated again on the next constructor call.</span>
<a name="l05205"></a>05205   <span class="comment">//</span>
<a name="l05206"></a>05206   <span class="comment">// - The constructor is called from another context.</span>
<a name="l05207"></a>05207   <span class="comment">//   Immediately complete the tracking, perform all the necessary changes</span>
<a name="l05208"></a>05208   <span class="comment">//   to maps. This is  necessary because there is no efficient way to track</span>
<a name="l05209"></a>05209   <span class="comment">//   multiple initial_maps.</span>
<a name="l05210"></a>05210   <span class="comment">//   Proceed to create an object in the current context (with the adjusted</span>
<a name="l05211"></a>05211   <span class="comment">//   size).</span>
<a name="l05212"></a>05212   <span class="comment">//</span>
<a name="l05213"></a>05213   <span class="comment">// - A different constructor function sharing the same SharedFunctionInfo is</span>
<a name="l05214"></a>05214   <span class="comment">//   called in the same context. This could be another closure in the same</span>
<a name="l05215"></a>05215   <span class="comment">//   context, or the first function could have been disposed.</span>
<a name="l05216"></a>05216   <span class="comment">//   This is handled the same way as the previous case.</span>
<a name="l05217"></a>05217   <span class="comment">//</span>
<a name="l05218"></a>05218   <span class="comment">//  Important: inobject slack tracking is not attempted during the snapshot</span>
<a name="l05219"></a>05219   <span class="comment">//  creation.</span>
<a name="l05220"></a>05220 
<a name="l05221"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a49a5f6e5175dfb4f1a924c5642660128">05221</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kGenerousAllocationCount = 8;
<a name="l05222"></a>05222 
<a name="l05223"></a>05223   <span class="comment">// [construction_count]: Counter for constructor calls made during</span>
<a name="l05224"></a>05224   <span class="comment">// the tracking phase.</span>
<a name="l05225"></a>05225   <span class="keyword">inline</span> <span class="keywordtype">int</span> construction_count();
<a name="l05226"></a>05226   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_construction_count(<span class="keywordtype">int</span> value);
<a name="l05227"></a>05227 
<a name="l05228"></a>05228   <span class="comment">// [initial_map]: initial map of the first function called as a constructor.</span>
<a name="l05229"></a>05229   <span class="comment">// Saved for the duration of the tracking phase.</span>
<a name="l05230"></a>05230   <span class="comment">// This is a weak link (GC resets it to undefined_value if no other live</span>
<a name="l05231"></a>05231   <span class="comment">// object reference this map).</span>
<a name="l05232"></a>05232   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(initial_map, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05233"></a>05233 
<a name="l05234"></a>05234   <span class="comment">// True if the initial_map is not undefined and the countdown stub is</span>
<a name="l05235"></a>05235   <span class="comment">// installed.</span>
<a name="l05236"></a>05236   inline <span class="keywordtype">bool</span> IsInobjectSlackTrackingInProgress();
<a name="l05237"></a>05237 
<a name="l05238"></a>05238   <span class="comment">// Starts the tracking.</span>
<a name="l05239"></a>05239   <span class="comment">// Stores the initial map and installs the countdown stub.</span>
<a name="l05240"></a>05240   <span class="comment">// IsInobjectSlackTrackingInProgress is normally true after this call,</span>
<a name="l05241"></a>05241   <span class="comment">// except when tracking have not been started (e.g. the map has no unused</span>
<a name="l05242"></a>05242   <span class="comment">// properties or the snapshot is being built).</span>
<a name="l05243"></a>05243   <span class="keywordtype">void</span> StartInobjectSlackTracking(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#adb4fe930ff2cca856204810cbb456ac3">map</a>);
<a name="l05244"></a>05244 
<a name="l05245"></a>05245   <span class="comment">// Completes the tracking.</span>
<a name="l05246"></a>05246   <span class="comment">// IsInobjectSlackTrackingInProgress is false after this call.</span>
<a name="l05247"></a>05247   <span class="keywordtype">void</span> CompleteInobjectSlackTracking();
<a name="l05248"></a>05248 
<a name="l05249"></a>05249   <span class="comment">// Clears the initial_map before the GC marking phase to ensure the reference</span>
<a name="l05250"></a>05250   <span class="comment">// is weak. IsInobjectSlackTrackingInProgress is false after this call.</span>
<a name="l05251"></a>05251   <span class="keywordtype">void</span> DetachInitialMap();
<a name="l05252"></a>05252 
<a name="l05253"></a>05253   <span class="comment">// Restores the link to the initial map after the GC marking phase.</span>
<a name="l05254"></a>05254   <span class="comment">// IsInobjectSlackTrackingInProgress is true after this call.</span>
<a name="l05255"></a>05255   <span class="keywordtype">void</span> AttachInitialMap(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* map);
<a name="l05256"></a>05256 
<a name="l05257"></a>05257   <span class="comment">// False if there are definitely no live objects created from this function.</span>
<a name="l05258"></a>05258   <span class="comment">// True if live objects _may_ exist (existence not guaranteed).</span>
<a name="l05259"></a>05259   <span class="comment">// May go back from true to false after GC.</span>
<a name="l05260"></a>05260   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(live_objects_may_exist)
<a name="l05261"></a>05261 
<a name="l05262"></a>05262   <span class="comment">// [instance class name]: class name for instances.</span>
<a name="l05263"></a>05263   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(instance_class_name, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05264"></a>05264 
<a name="l05265"></a>05265   <span class="comment">// [function data]: This field holds some additional data for function.</span>
<a name="l05266"></a>05266   <span class="comment">// Currently it either has FunctionTemplateInfo to make benefit the API</span>
<a name="l05267"></a>05267   <span class="comment">// or Smi identifying a builtin function.</span>
<a name="l05268"></a>05268   <span class="comment">// In the long run we don&#39;t want all functions to have this field but</span>
<a name="l05269"></a>05269   <span class="comment">// we can fix that when we have a better model for storing hidden data</span>
<a name="l05270"></a>05270   <span class="comment">// on objects.</span>
<a name="l05271"></a>05271   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(function_data, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05272"></a>05272 
<a name="l05273"></a>05273   inline <span class="keywordtype">bool</span> IsApiFunction();
<a name="l05274"></a>05274   inline <a class="code" href="classv8_1_1internal_1_1_function_template_info.html">FunctionTemplateInfo</a>* get_api_func_data();
<a name="l05275"></a>05275   inline <span class="keywordtype">bool</span> HasBuiltinFunctionId();
<a name="l05276"></a>05276   inline <a class="code" href="namespacev8_1_1internal.html#a57a282a4e64aa385e8e96a32b8e0b434">BuiltinFunctionId</a> builtin_function_id();
<a name="l05277"></a>05277 
<a name="l05278"></a>05278   <span class="comment">// [script info]: Script from which the function originates.</span>
<a name="l05279"></a>05279   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(script, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05280"></a>05280 
<a name="l05281"></a>05281   <span class="comment">// [num_literals]: Number of literals used by this function.</span>
<a name="l05282"></a>05282   inline <span class="keywordtype">int</span> num_literals();
<a name="l05283"></a>05283   inline <span class="keywordtype">void</span> set_num_literals(<span class="keywordtype">int</span> value);
<a name="l05284"></a>05284 
<a name="l05285"></a>05285   <span class="comment">// [start_position_and_type]: Field used to store both the source code</span>
<a name="l05286"></a>05286   <span class="comment">// position, whether or not the function is a function expression,</span>
<a name="l05287"></a>05287   <span class="comment">// and whether or not the function is a toplevel function. The two</span>
<a name="l05288"></a>05288   <span class="comment">// least significants bit indicates whether the function is an</span>
<a name="l05289"></a>05289   <span class="comment">// expression and the rest contains the source code position.</span>
<a name="l05290"></a>05290   inline <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a166f3db35ed723350024849959545508">start_position_and_type</a>();
<a name="l05291"></a>05291   inline <span class="keywordtype">void</span> set_start_position_and_type(<span class="keywordtype">int</span> value);
<a name="l05292"></a>05292 
<a name="l05293"></a>05293   <span class="comment">// [debug info]: Debug information.</span>
<a name="l05294"></a>05294   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(debug_info, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05295"></a>05295 
<a name="l05296"></a>05296   <span class="comment">// [inferred name]: Name inferred from variable or property</span>
<a name="l05297"></a>05297   <span class="comment">// assignment of this function. Used to facilitate debugging and</span>
<a name="l05298"></a>05298   <span class="comment">// profiling of JavaScript code written in OO style, where almost</span>
<a name="l05299"></a>05299   <span class="comment">// all functions are anonymous but are assigned to object</span>
<a name="l05300"></a>05300   <span class="comment">// properties.</span>
<a name="l05301"></a>05301   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(inferred_name, <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>)
<a name="l05302"></a>05302 
<a name="l05303"></a>05303   <span class="comment">// The function&#39;s name if it is non-empty, otherwise the inferred name.</span>
<a name="l05304"></a>05304   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* DebugName();
<a name="l05305"></a>05305 
<a name="l05306"></a>05306   <span class="comment">// Position of the &#39;function&#39; token in the script source.</span>
<a name="l05307"></a>05307   inline <span class="keywordtype">int</span> function_token_position();
<a name="l05308"></a>05308   inline <span class="keywordtype">void</span> set_function_token_position(<span class="keywordtype">int</span> function_token_position);
<a name="l05309"></a>05309 
<a name="l05310"></a>05310   <span class="comment">// Position of this function in the script source.</span>
<a name="l05311"></a>05311   inline <span class="keywordtype">int</span> start_position();
<a name="l05312"></a>05312   inline <span class="keywordtype">void</span> set_start_position(<span class="keywordtype">int</span> start_position);
<a name="l05313"></a>05313 
<a name="l05314"></a>05314   <span class="comment">// End position of this function in the script source.</span>
<a name="l05315"></a>05315   inline <span class="keywordtype">int</span> end_position();
<a name="l05316"></a>05316   inline <span class="keywordtype">void</span> set_end_position(<span class="keywordtype">int</span> end_position);
<a name="l05317"></a>05317 
<a name="l05318"></a>05318   <span class="comment">// Is this function a function expression in the source code.</span>
<a name="l05319"></a>05319   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a824a3fb1013d7394c2ca5178ba9a41e9">is_expression</a>)
<a name="l05320"></a>05320 
<a name="l05321"></a>05321   <span class="comment">// Is this function a top-level function (scripts, evals).</span>
<a name="l05322"></a>05322   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(is_toplevel)
<a name="l05323"></a>05323 
<a name="l05324"></a>05324   <span class="comment">// Bit field containing various information collected by the compiler to</span>
<a name="l05325"></a>05325   <span class="comment">// drive optimization.</span>
<a name="l05326"></a>05326   inline <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#acfeeeaf23dc6e81ab0db955774dbf6c2">compiler_hints</a>();
<a name="l05327"></a>05327   inline <span class="keywordtype">void</span> set_compiler_hints(<span class="keywordtype">int</span> value);
<a name="l05328"></a>05328 
<a name="l05329"></a>05329   inline <span class="keywordtype">int</span> ast_node_count();
<a name="l05330"></a>05330   inline <span class="keywordtype">void</span> set_ast_node_count(<span class="keywordtype">int</span> count);
<a name="l05331"></a>05331 
<a name="l05332"></a>05332   <span class="comment">// A counter used to determine when to stress the deoptimizer with a</span>
<a name="l05333"></a>05333   <span class="comment">// deopt.</span>
<a name="l05334"></a>05334   inline <span class="keywordtype">int</span> deopt_counter();
<a name="l05335"></a>05335   inline <span class="keywordtype">void</span> set_deopt_counter(<span class="keywordtype">int</span> counter);
<a name="l05336"></a>05336 
<a name="l05337"></a>05337   <span class="comment">// Inline cache age is used to infer whether the function survived a context</span>
<a name="l05338"></a>05338   <span class="comment">// disposal or not. In the former case we reset the opt_count.</span>
<a name="l05339"></a>05339   inline <span class="keywordtype">int</span> ic_age();
<a name="l05340"></a>05340   inline <span class="keywordtype">void</span> set_ic_age(<span class="keywordtype">int</span> age);
<a name="l05341"></a>05341 
<a name="l05342"></a>05342   <span class="comment">// Add information on assignments of the form this.x = ...;</span>
<a name="l05343"></a>05343   <span class="keywordtype">void</span> SetThisPropertyAssignmentsInfo(
<a name="l05344"></a>05344       <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#aaedbc6ca32f2d3da918ac99890f239e9">has_only_simple_this_property_assignments</a>,
<a name="l05345"></a>05345       <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* <a class="code" href="namespacev8_1_1internal.html#a01095cddb5c9a4891ae0118a7bb63705">this_property_assignments</a>);
<a name="l05346"></a>05346 
<a name="l05347"></a>05347   <span class="comment">// Clear information on assignments of the form this.x = ...;</span>
<a name="l05348"></a>05348   <span class="keywordtype">void</span> ClearThisPropertyAssignmentsInfo();
<a name="l05349"></a>05349 
<a name="l05350"></a>05350   <span class="comment">// Indicate that this function only consists of assignments of the form</span>
<a name="l05351"></a>05351   <span class="comment">// this.x = y; where y is either a constant or refers to an argument.</span>
<a name="l05352"></a>05352   inline <span class="keywordtype">bool</span> has_only_simple_this_property_assignments();
<a name="l05353"></a>05353 
<a name="l05354"></a>05354   <span class="comment">// Indicates if this function can be lazy compiled.</span>
<a name="l05355"></a>05355   <span class="comment">// This is used to determine if we can safely flush code from a function</span>
<a name="l05356"></a>05356   <span class="comment">// when doing GC if we expect that the function will no longer be used.</span>
<a name="l05357"></a>05357   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(allows_lazy_compilation)
<a name="l05358"></a>05358 
<a name="l05359"></a>05359   <span class="comment">// Indicates how many full GCs this function has survived with assigned</span>
<a name="l05360"></a>05360   <span class="comment">// code object. Used to determine when it is relatively safe to flush</span>
<a name="l05361"></a>05361   <span class="comment">// this code object and replace it with lazy compilation stub.</span>
<a name="l05362"></a>05362   <span class="comment">// Age is reset when GC notices that the code object is referenced</span>
<a name="l05363"></a>05363   <span class="comment">// from the stack or compilation cache.</span>
<a name="l05364"></a>05364   inline <span class="keywordtype">int</span> code_age();
<a name="l05365"></a>05365   inline <span class="keywordtype">void</span> set_code_age(<span class="keywordtype">int</span> age);
<a name="l05366"></a>05366 
<a name="l05367"></a>05367   <span class="comment">// Indicates whether optimizations have been disabled for this</span>
<a name="l05368"></a>05368   <span class="comment">// shared function info. If a function is repeatedly optimized or if</span>
<a name="l05369"></a>05369   <span class="comment">// we cannot optimize the function we disable optimization to avoid</span>
<a name="l05370"></a>05370   <span class="comment">// spending time attempting to optimize it again.</span>
<a name="l05371"></a>05371   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(optimization_disabled)
<a name="l05372"></a>05372 
<a name="l05373"></a>05373   <span class="comment">// Indicates the language mode of the function&#39;s code as defined by the</span>
<a name="l05374"></a>05374   <span class="comment">// current harmony drafts for the next ES language standard. Possible</span>
<a name="l05375"></a>05375   <span class="comment">// values are:</span>
<a name="l05376"></a>05376   <span class="comment">// 1. CLASSIC_MODE - Unrestricted syntax and semantics, same as in ES5.</span>
<a name="l05377"></a>05377   <span class="comment">// 2. STRICT_MODE - Restricted syntax and semantics, same as in ES5.</span>
<a name="l05378"></a>05378   <span class="comment">// 3. EXTENDED_MODE - Only available under the harmony flag, not part of ES5.</span>
<a name="l05379"></a>05379   inline <a class="code" href="namespacev8_1_1internal.html#a1ba33e2c27dbf4a22f26a28f80096e75">LanguageMode</a> language_mode();
<a name="l05380"></a>05380   inline <span class="keywordtype">void</span> set_language_mode(<a class="code" href="namespacev8_1_1internal.html#a1ba33e2c27dbf4a22f26a28f80096e75">LanguageMode</a> language_mode);
<a name="l05381"></a>05381 
<a name="l05382"></a>05382   <span class="comment">// Indicates whether the language mode of this function is CLASSIC_MODE.</span>
<a name="l05383"></a>05383   inline <span class="keywordtype">bool</span> is_classic_mode();
<a name="l05384"></a>05384 
<a name="l05385"></a>05385   <span class="comment">// Indicates whether the language mode of this function is EXTENDED_MODE.</span>
<a name="l05386"></a>05386   inline <span class="keywordtype">bool</span> is_extended_mode();
<a name="l05387"></a>05387 
<a name="l05388"></a>05388   <span class="comment">// False if the function definitely does not allocate an arguments object.</span>
<a name="l05389"></a>05389   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a96bee8913c3b96bb735e8c00225d3b4c">uses_arguments</a>)
<a name="l05390"></a>05390 
<a name="l05391"></a>05391   <span class="comment">// True if the function has any duplicated parameter names.</span>
<a name="l05392"></a>05392   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(has_duplicate_parameters)
<a name="l05393"></a>05393 
<a name="l05394"></a>05394   <span class="comment">// Indicates whether the function is a native function.</span>
<a name="l05395"></a>05395   <span class="comment">// These needs special treatment in .call and .apply since</span>
<a name="l05396"></a>05396   <span class="comment">// null passed as the receiver should not be translated to the</span>
<a name="l05397"></a>05397   <span class="comment">// global object.</span>
<a name="l05398"></a>05398   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(native)
<a name="l05399"></a>05399 
<a name="l05400"></a>05400   <span class="comment">// Indicates that the function was created by the Function function.</span>
<a name="l05401"></a>05401   <span class="comment">// Though it&#39;s anonymous, toString should treat it as if it had the name</span>
<a name="l05402"></a>05402   <span class="comment">// &quot;anonymous&quot;.  We don&#39;t set the name itself so that the system does not</span>
<a name="l05403"></a>05403   <span class="comment">// see a binding for it.</span>
<a name="l05404"></a>05404   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a3e9281ae4ca191d16380bbd7acd2da75">name_should_print_as_anonymous</a>)
<a name="l05405"></a>05405 
<a name="l05406"></a>05406   <span class="comment">// Indicates whether the function is a bound function created using</span>
<a name="l05407"></a>05407   <span class="comment">// the bind function.</span>
<a name="l05408"></a>05408   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(bound)
<a name="l05409"></a>05409 
<a name="l05410"></a>05410   <span class="comment">// Indicates that the function is anonymous (the name field can be set</span>
<a name="l05411"></a>05411   <span class="comment">// through the API, which does not change this flag).</span>
<a name="l05412"></a>05412   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(is_anonymous)
<a name="l05413"></a>05413 
<a name="l05414"></a>05414   <span class="comment">// Is this a function or top-level/eval code.</span>
<a name="l05415"></a>05415   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(is_function)
<a name="l05416"></a>05416 
<a name="l05417"></a>05417   <span class="comment">// Indicates that the function cannot be optimized.</span>
<a name="l05418"></a>05418   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(dont_optimize)
<a name="l05419"></a>05419 
<a name="l05420"></a>05420   <span class="comment">// Indicates that the function cannot be inlined.</span>
<a name="l05421"></a>05421   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(dont_inline)
<a name="l05422"></a>05422 
<a name="l05423"></a>05423   <span class="comment">// Indicates whether or not the code in the shared function support</span>
<a name="l05424"></a>05424   <span class="comment">// deoptimization.</span>
<a name="l05425"></a>05425   inline <span class="keywordtype">bool</span> has_deoptimization_support();
<a name="l05426"></a>05426 
<a name="l05427"></a>05427   <span class="comment">// Enable deoptimization support through recompiled code.</span>
<a name="l05428"></a>05428   <span class="keywordtype">void</span> EnableDeoptimizationSupport(<a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* recompiled);
<a name="l05429"></a>05429 
<a name="l05430"></a>05430   <span class="comment">// Disable (further) attempted optimization of all functions sharing this</span>
<a name="l05431"></a>05431   <span class="comment">// shared function info.</span>
<a name="l05432"></a>05432   <span class="keywordtype">void</span> DisableOptimization();
<a name="l05433"></a>05433 
<a name="l05434"></a>05434   <span class="comment">// Lookup the bailout ID and ASSERT that it exists in the non-optimized</span>
<a name="l05435"></a>05435   <span class="comment">// code, returns whether it asserted (i.e., always true if assertions are</span>
<a name="l05436"></a>05436   <span class="comment">// disabled).</span>
<a name="l05437"></a>05437   <span class="keywordtype">bool</span> VerifyBailoutId(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l05438"></a>05438 
<a name="l05439"></a>05439   <span class="comment">// Check whether a inlined constructor can be generated with the given</span>
<a name="l05440"></a>05440   <span class="comment">// prototype.</span>
<a name="l05441"></a>05441   <span class="keywordtype">bool</span> CanGenerateInlineConstructor(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* prototype);
<a name="l05442"></a>05442 
<a name="l05443"></a>05443   <span class="comment">// Prevents further attempts to generate inline constructors.</span>
<a name="l05444"></a>05444   <span class="comment">// To be called if generation failed for any reason.</span>
<a name="l05445"></a>05445   <span class="keywordtype">void</span> ForbidInlineConstructor();
<a name="l05446"></a>05446 
<a name="l05447"></a>05447   <span class="comment">// For functions which only contains this property assignments this provides</span>
<a name="l05448"></a>05448   <span class="comment">// access to the names for the properties assigned.</span>
<a name="l05449"></a>05449   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(this_property_assignments, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05450"></a>05450   inline <span class="keywordtype">int</span> this_property_assignments_count();
<a name="l05451"></a>05451   inline <span class="keywordtype">void</span> set_this_property_assignments_count(<span class="keywordtype">int</span> value);
<a name="l05452"></a>05452   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* GetThisPropertyAssignmentName(<span class="keywordtype">int</span> index);
<a name="l05453"></a>05453   <span class="keywordtype">bool</span> IsThisPropertyAssignmentArgument(<span class="keywordtype">int</span> index);
<a name="l05454"></a>05454   <span class="keywordtype">int</span> GetThisPropertyAssignmentArgument(<span class="keywordtype">int</span> index);
<a name="l05455"></a>05455   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* GetThisPropertyAssignmentConstant(<span class="keywordtype">int</span> index);
<a name="l05456"></a>05456 
<a name="l05457"></a>05457   <span class="comment">// [source code]: Source code for the function.</span>
<a name="l05458"></a>05458   <span class="keywordtype">bool</span> HasSourceCode();
<a name="l05459"></a>05459   <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle</a>&lt;<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>&gt; GetSourceCode();
<a name="l05460"></a>05460 
<a name="l05461"></a>05461   inline <span class="keywordtype">int</span> opt_count();
<a name="l05462"></a>05462   inline <span class="keywordtype">void</span> set_opt_count(<span class="keywordtype">int</span> opt_count);
<a name="l05463"></a>05463 
<a name="l05464"></a>05464   <span class="comment">// Number of times we tried to reenable optimization.</span>
<a name="l05465"></a>05465   inline <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a46eb38d1436d81aa847d501f258c3a4c">opt_reenable_tries</a>();
<a name="l05466"></a>05466   inline <span class="keywordtype">void</span> set_opt_reenable_tries(<span class="keywordtype">int</span> opt_reenable_tries);
<a name="l05467"></a>05467 
<a name="l05468"></a>05468   inline <span class="keywordtype">void</span> TryReenableOptimization();
<a name="l05469"></a>05469 
<a name="l05470"></a>05470 
<a name="l05471"></a>05471   <span class="comment">// Source size of this function.</span>
<a name="l05472"></a>05472   <span class="keywordtype">int</span> SourceSize();
<a name="l05473"></a>05473 
<a name="l05474"></a>05474   <span class="comment">// Calculate the instance size.</span>
<a name="l05475"></a>05475   <span class="keywordtype">int</span> CalculateInstanceSize();
<a name="l05476"></a>05476 
<a name="l05477"></a>05477   <span class="comment">// Calculate the number of in-object properties.</span>
<a name="l05478"></a>05478   <span class="keywordtype">int</span> CalculateInObjectProperties();
<a name="l05479"></a>05479 
<a name="l05480"></a>05480   <span class="comment">// Dispatched behavior.</span>
<a name="l05481"></a>05481   <span class="comment">// Set max_length to -1 for unlimited length.</span>
<a name="l05482"></a>05482   <span class="keywordtype">void</span> SourceCodePrint(<a class="code" href="classv8_1_1internal_1_1_string_stream.html">StringStream</a>* accumulator, <span class="keywordtype">int</span> max_length);
<a name="l05483"></a>05483 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l05484"></a>05484 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> SharedFunctionInfoPrint() {
<a name="l05485"></a>05485     SharedFunctionInfoPrint(stdout);
<a name="l05486"></a>05486   }
<a name="l05487"></a>05487   <span class="keywordtype">void</span> SharedFunctionInfoPrint(FILE* out);
<a name="l05488"></a>05488 <span class="preprocessor">#endif</span>
<a name="l05489"></a>05489 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l05490"></a>05490 <span class="preprocessor"></span>  <span class="keywordtype">void</span> SharedFunctionInfoVerify();
<a name="l05491"></a>05491 <span class="preprocessor">#endif</span>
<a name="l05492"></a>05492 <span class="preprocessor"></span>
<a name="l05493"></a>05493   <span class="keywordtype">void</span> ResetForNewContext(<span class="keywordtype">int</span> new_ic_age);
<a name="l05494"></a>05494 
<a name="l05495"></a>05495   <span class="comment">// Helpers to compile the shared code.  Returns true on success, false on</span>
<a name="l05496"></a>05496   <span class="comment">// failure (e.g., stack overflow during compilation).</span>
<a name="l05497"></a>05497   <span class="keyword">static</span> <span class="keywordtype">bool</span> EnsureCompiled(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;SharedFunctionInfo&gt;</a> shared,
<a name="l05498"></a>05498                              <a class="code" href="namespacev8_1_1internal.html#a22da7e58c330dfb5dd7af46556efd428">ClearExceptionFlag</a> <a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>);
<a name="l05499"></a>05499   <span class="keyword">static</span> <span class="keywordtype">bool</span> CompileLazy(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;SharedFunctionInfo&gt;</a> shared,
<a name="l05500"></a>05500                           <a class="code" href="namespacev8_1_1internal.html#a22da7e58c330dfb5dd7af46556efd428">ClearExceptionFlag</a> <a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>);
<a name="l05501"></a>05501 
<a name="l05502"></a>05502   <span class="keywordtype">void</span> SharedFunctionInfoIterateBody(ObjectVisitor* v);
<a name="l05503"></a>05503 
<a name="l05504"></a>05504   <span class="comment">// Casting.</span>
<a name="l05505"></a>05505   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html">SharedFunctionInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l05506"></a>05506 
<a name="l05507"></a>05507   <span class="comment">// Constants.</span>
<a name="l05508"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a64fb3ac3cd435626512d56ffb031af0f">05508</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDontAdaptArgumentsSentinel = -1;
<a name="l05509"></a>05509 
<a name="l05510"></a>05510   <span class="comment">// Layout description.</span>
<a name="l05511"></a>05511   <span class="comment">// Pointer fields.</span>
<a name="l05512"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a7ea21b5d46c5e7f44e66e3d26d1b600f">05512</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNameOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l05513"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#ac7fe6404f9b3b09d90e90daa447751fb">05513</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeOffset = kNameOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05514"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a51386ec5e82d6a4ca1f05663ea80de9d">05514</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kScopeInfoOffset = kCodeOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05515"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a28d5211725c2457c7243651a8ad60793">05515</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kConstructStubOffset = kScopeInfoOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05516"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a8157b1da28ec80de7d2881c7b888c9fe">05516</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInstanceClassNameOffset =
<a name="l05517"></a>05517       kConstructStubOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05518"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#aca3c804b0ee9fb8a7aa9de2f239aedc7">05518</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFunctionDataOffset =
<a name="l05519"></a>05519       kInstanceClassNameOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05520"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a1fdab5516ff08f6876cffc0a75e18c44">05520</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kScriptOffset = kFunctionDataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05521"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a3e5e9653b37e7a05aeec489c67aa229a">05521</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDebugInfoOffset = kScriptOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05522"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a537a45646dd6c58d4499c13d36239cc6">05522</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInferredNameOffset = kDebugInfoOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05523"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a5a7e65cad1006a14993da6f7ee022fe3">05523</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInitialMapOffset =
<a name="l05524"></a>05524       kInferredNameOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05525"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a328def93337a59ab8842cffb8c0249b9">05525</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kThisPropertyAssignmentsOffset =
<a name="l05526"></a>05526       kInitialMapOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05527"></a>05527 <span class="preprocessor">#if V8_HOST_ARCH_32_BIT</span>
<a name="l05528"></a>05528 <span class="preprocessor"></span>  <span class="comment">// Smi fields.</span>
<a name="l05529"></a>05529   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> =
<a name="l05530"></a>05530       kThisPropertyAssignmentsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05531"></a>05531   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFormalParameterCountOffset = <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05532"></a>05532   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kExpectedNofPropertiesOffset =
<a name="l05533"></a>05533       kFormalParameterCountOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05534"></a>05534   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNumLiteralsOffset =
<a name="l05535"></a>05535       kExpectedNofPropertiesOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05536"></a>05536   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStartPositionAndTypeOffset =
<a name="l05537"></a>05537       kNumLiteralsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05538"></a>05538   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kEndPositionOffset =
<a name="l05539"></a>05539       kStartPositionAndTypeOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05540"></a>05540   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFunctionTokenPositionOffset =
<a name="l05541"></a>05541       kEndPositionOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05542"></a>05542   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompilerHintsOffset =
<a name="l05543"></a>05543       kFunctionTokenPositionOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05544"></a>05544   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kThisPropertyAssignmentsCountOffset =
<a name="l05545"></a>05545       kCompilerHintsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05546"></a>05546   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kOptCountOffset =
<a name="l05547"></a>05547       kThisPropertyAssignmentsCountOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05548"></a>05548   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAstNodeCountOffset = kOptCountOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05549"></a>05549   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDeoptCounterOffset = kAstNodeCountOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05550"></a>05550   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kICAgeOffset = kDeoptCounterOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05551"></a>05551   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kOptReenableTriesOffset = kICAgeOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05552"></a>05552   <span class="comment">// Total size.</span>
<a name="l05553"></a>05553   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kOptReenableTriesOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05554"></a>05554 <span class="preprocessor">#else</span>
<a name="l05555"></a>05555 <span class="preprocessor"></span>  <span class="comment">// The only reason to use smi fields instead of int fields</span>
<a name="l05556"></a>05556   <span class="comment">// is to allow iteration without maps decoding during</span>
<a name="l05557"></a>05557   <span class="comment">// garbage collections.</span>
<a name="l05558"></a>05558   <span class="comment">// To avoid wasting space on 64-bit architectures we use</span>
<a name="l05559"></a>05559   <span class="comment">// the following trick: we group integer fields into pairs</span>
<a name="l05560"></a>05560   <span class="comment">// First integer in each pair is shifted left by 1.</span>
<a name="l05561"></a>05561   <span class="comment">// By doing this we guarantee that LSB of each kPointerSize aligned</span>
<a name="l05562"></a>05562   <span class="comment">// word is not set and thus this word cannot be treated as pointer</span>
<a name="l05563"></a>05563   <span class="comment">// to HeapObject during old space traversal.</span>
<a name="l05564"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a05b8fac91ffaf48253bf9b5c81023da8">05564</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> =
<a name="l05565"></a>05565       kThisPropertyAssignmentsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05566"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a37ac8977c943f1a1a385267bfdd6ea12">05566</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFormalParameterCountOffset =
<a name="l05567"></a>05567       <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05568"></a>05568 
<a name="l05569"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a4dc0c89088034e5de4879150eea07fb2">05569</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kExpectedNofPropertiesOffset =
<a name="l05570"></a>05570       kFormalParameterCountOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05571"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#af8aa2665606eb1ba158d2d55d9df9032">05571</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNumLiteralsOffset =
<a name="l05572"></a>05572       kExpectedNofPropertiesOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05573"></a>05573 
<a name="l05574"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a72e034f92ee4560197968f5b89fa6672">05574</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kEndPositionOffset =
<a name="l05575"></a>05575       kNumLiteralsOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05576"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a9a9b07c0031b3347474e51812a8b9f76">05576</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStartPositionAndTypeOffset =
<a name="l05577"></a>05577       kEndPositionOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05578"></a>05578 
<a name="l05579"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a65fbece968652f2fe5e2e009dfe4531d">05579</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFunctionTokenPositionOffset =
<a name="l05580"></a>05580       kStartPositionAndTypeOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05581"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#aac0cd24ab277a88fe1e97ae87ebff883">05581</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompilerHintsOffset =
<a name="l05582"></a>05582       kFunctionTokenPositionOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05583"></a>05583 
<a name="l05584"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a5f2216f907dfcd49c52c653805f7636e">05584</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kThisPropertyAssignmentsCountOffset =
<a name="l05585"></a>05585       kCompilerHintsOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05586"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a4edf21281f6de609cb49e25d346b1bba">05586</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kOptCountOffset =
<a name="l05587"></a>05587       kThisPropertyAssignmentsCountOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05588"></a>05588 
<a name="l05589"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a51f5c186495c39310685bbb6b8d96176">05589</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAstNodeCountOffset = kOptCountOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05590"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a41de812d41887cabb6083ea580fb839b">05590</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDeoptCounterOffset = kAstNodeCountOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05591"></a>05591 
<a name="l05592"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a1ce422f9d698ec8b7d552e889f8f4763">05592</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kICAgeOffset = kDeoptCounterOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05593"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a65d91868abce722d5edc9dac0aaa805f">05593</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kOptReenableTriesOffset = kICAgeOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05594"></a>05594 
<a name="l05595"></a>05595   <span class="comment">// Total size.</span>
<a name="l05596"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#af3f716b004586eba948b0b94c0ad187b">05596</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kOptReenableTriesOffset + <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05597"></a>05597 
<a name="l05598"></a>05598 <span class="preprocessor">#endif</span>
<a name="l05599"></a>05599 <span class="preprocessor"></span>
<a name="l05600"></a>05600   <span class="comment">// The construction counter for inobject slack tracking is stored in the</span>
<a name="l05601"></a>05601   <span class="comment">// most significant byte of compiler_hints which is otherwise unused.</span>
<a name="l05602"></a>05602   <span class="comment">// Its offset depends on the endian-ness of the architecture.</span>
<a name="l05603"></a>05603 <span class="preprocessor">#if __BYTE_ORDER == __LITTLE_ENDIAN</span>
<a name="l05604"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#ab95321c5983e6a8aa5c9bde93c85e298">05604</a> <span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kConstructionCountOffset = kCompilerHintsOffset + 3;
<a name="l05605"></a>05605 <span class="preprocessor">#elif __BYTE_ORDER == __BIG_ENDIAN</span>
<a name="l05606"></a>05606 <span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kConstructionCountOffset = kCompilerHintsOffset + 0;
<a name="l05607"></a>05607 <span class="preprocessor">#else</span>
<a name="l05608"></a>05608 <span class="preprocessor"></span><span class="preprocessor">#error Unknown byte ordering</span>
<a name="l05609"></a>05609 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l05610"></a>05610 <span class="preprocessor"></span>
<a name="l05611"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a9948d887804c3e60228940df82fb1595">05611</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#ae3cba510811934c6569daf48e874dd21">kAlignedSize</a> = <a class="code" href="v8globals_8h.html#a94d672d4fa68c63cf5d7e3006fae440f">POINTER_SIZE_ALIGN</a>(kSize);
<a name="l05612"></a>05612 
<a name="l05613"></a>05613   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor</a>&lt;kNameOffset,
<a name="l05614"></a>05614                               kThisPropertyAssignmentsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>,
<a name="l05615"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a53dff2384e4c480932ff34e50f7df335">05615</a>                               kSize&gt; <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a53dff2384e4c480932ff34e50f7df335">BodyDescriptor</a>;
<a name="l05616"></a>05616 
<a name="l05617"></a>05617   <span class="comment">// Bit positions in start_position_and_type.</span>
<a name="l05618"></a>05618   <span class="comment">// The source code start position is in the 30 most significant bits of</span>
<a name="l05619"></a>05619   <span class="comment">// the start_position_and_type field.</span>
<a name="l05620"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a43ab375cccd459b58fe5df20af29373f">05620</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIsExpressionBit = 0;
<a name="l05621"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#adc95d1c6bf25ede4b1a93ce81b8e4178">05621</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIsTopLevelBit   = 1;
<a name="l05622"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a1bbfd2d3800f2f9d0e163ec6853a5ddc">05622</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStartPositionShift = 2;
<a name="l05623"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a842d691f3494ecaa2240bfb45b1f7260">05623</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStartPositionMask = ~((1 &lt;&lt; kStartPositionShift) - 1);
<a name="l05624"></a>05624 
<a name="l05625"></a>05625   <span class="comment">// Bit positions in compiler_hints.</span>
<a name="l05626"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a4597169a840fce79ac1dd2c7b69744d0">05626</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeAgeSize = 3;
<a name="l05627"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a44a1ceb68a7c879d081fb626b23e6998">05627</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeAgeMask = (1 &lt;&lt; kCodeAgeSize) - 1;
<a name="l05628"></a>05628 
<a name="l05629"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585">05629</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585">CompilerHints</a> {
<a name="l05630"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585ac4aacdcc1c6a62492cff9805367e1be9">05630</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585ac4aacdcc1c6a62492cff9805367e1be9">kHasOnlySimpleThisPropertyAssignments</a>,
<a name="l05631"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a0a6b9c7ebf83e53fc391b6cefba5e986">05631</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a0a6b9c7ebf83e53fc391b6cefba5e986">kAllowLazyCompilation</a>,
<a name="l05632"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585abd6db10733c0f4a535d40fdc768570df">05632</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585abd6db10733c0f4a535d40fdc768570df">kLiveObjectsMayExist</a>,
<a name="l05633"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585ae36652733ae8da175ae0e02953d4a4a0">05633</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585ae36652733ae8da175ae0e02953d4a4a0">kCodeAgeShift</a>,
<a name="l05634"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a06f4f90c329209827a4ac97f4e8f7967">05634</a>     kOptimizationDisabled = kCodeAgeShift + kCodeAgeSize,
<a name="l05635"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585add78b551af33d5e0c14abab29063b86e">05635</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585add78b551af33d5e0c14abab29063b86e">kStrictModeFunction</a>,
<a name="l05636"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a7a58d0abee8c228b53b374e034bd875a">05636</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a7a58d0abee8c228b53b374e034bd875a">kExtendedModeFunction</a>,
<a name="l05637"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a8d9ba1bf280083836fd1ad65e09a8646">05637</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a8d9ba1bf280083836fd1ad65e09a8646">kUsesArguments</a>,
<a name="l05638"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a793aace17e9b60e1f312bf6000ef790e">05638</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a793aace17e9b60e1f312bf6000ef790e">kHasDuplicateParameters</a>,
<a name="l05639"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585ad1fd2dbbdda5ba4433a34014f4d25f73">05639</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585ad1fd2dbbdda5ba4433a34014f4d25f73">kNative</a>,
<a name="l05640"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a81abbd4973e85768f5ecbebb97223ef4">05640</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a81abbd4973e85768f5ecbebb97223ef4">kBoundFunction</a>,
<a name="l05641"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a9d7b014fbf259eeaf7e3d6e83f1b06cd">05641</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a9d7b014fbf259eeaf7e3d6e83f1b06cd">kIsAnonymous</a>,
<a name="l05642"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a0a56ce135680689d59605228c6dc33e7">05642</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a0a56ce135680689d59605228c6dc33e7">kNameShouldPrintAsAnonymous</a>,
<a name="l05643"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585ab5d4cb0e7477849107eda8245855f4f6">05643</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585ab5d4cb0e7477849107eda8245855f4f6">kIsFunction</a>,
<a name="l05644"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585afee60490a22d681f0185107f9f8ed18c">05644</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585afee60490a22d681f0185107f9f8ed18c">kDontOptimize</a>,
<a name="l05645"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a8858b291657a9eb71412bcc666c1ec87">05645</a>     <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a8858b291657a9eb71412bcc666c1ec87">kDontInline</a>,
<a name="l05646"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a95fd5463833f29c8bb38c0cc7f550378">05646</a>     kCompilerHintsCount  <span class="comment">// Pseudo entry</span>
<a name="l05647"></a>05647   };
<a name="l05648"></a>05648 
<a name="l05649"></a>05649  <span class="keyword">private</span>:
<a name="l05650"></a>05650 <span class="preprocessor">#if V8_HOST_ARCH_32_BIT</span>
<a name="l05651"></a>05651 <span class="preprocessor"></span>  <span class="comment">// On 32 bit platforms, compiler hints is a smi.</span>
<a name="l05652"></a>05652   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompilerHintsSmiTagSize = <a class="code" href="namespacev8_1_1internal.html#a3b1abee98ff098ad37a87fe4725eb248">kSmiTagSize</a>;
<a name="l05653"></a>05653   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompilerHintsSize = <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05654"></a>05654 <span class="preprocessor">#else</span>
<a name="l05655"></a>05655 <span class="preprocessor"></span>  <span class="comment">// On 64 bit platforms, compiler hints is not a smi, see comment above.</span>
<a name="l05656"></a>05656   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompilerHintsSmiTagSize = 0;
<a name="l05657"></a>05657   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompilerHintsSize = <a class="code" href="namespacev8_1_1internal.html#a9fecb8cec146ed2b369f0d1c6b798c91">kIntSize</a>;
<a name="l05658"></a>05658 <span class="preprocessor">#endif</span>
<a name="l05659"></a>05659 <span class="preprocessor"></span>
<a name="l05660"></a>05660   <a class="code" href="namespacev8_1_1internal.html#a8f1d7efef0b73dcfa52966120189258c">STATIC_ASSERT</a>(<a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a48ecd0019baf04d0631d1a555683e585a95fd5463833f29c8bb38c0cc7f550378">SharedFunctionInfo::kCompilerHintsCount</a> &lt;=
<a name="l05661"></a>05661                 SharedFunctionInfo::kCompilerHintsSize * <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>);
<a name="l05662"></a>05662 
<a name="l05663"></a>05663  <span class="keyword">public</span>:
<a name="l05664"></a>05664   <span class="comment">// Constants for optimizing codegen for strict mode function and</span>
<a name="l05665"></a>05665   <span class="comment">// native tests.</span>
<a name="l05666"></a>05666   <span class="comment">// Allows to use byte-width instructions.</span>
<a name="l05667"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a8c71a51bde843b01efc2c2320ef0ab4e">05667</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStrictModeBitWithinByte =
<a name="l05668"></a>05668       (kStrictModeFunction + kCompilerHintsSmiTagSize) % <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>;
<a name="l05669"></a>05669 
<a name="l05670"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a7a716df2e7e507e7a9b631b1e76025d2">05670</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kExtendedModeBitWithinByte =
<a name="l05671"></a>05671       (kExtendedModeFunction + kCompilerHintsSmiTagSize) % <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>;
<a name="l05672"></a>05672 
<a name="l05673"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a8839dd80057205c96bfaa74767ed4c3a">05673</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNativeBitWithinByte =
<a name="l05674"></a>05674       (kNative + kCompilerHintsSmiTagSize) % <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>;
<a name="l05675"></a>05675 
<a name="l05676"></a>05676 <span class="preprocessor">#if __BYTE_ORDER == __LITTLE_ENDIAN</span>
<a name="l05677"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a7383aabb3efea58aa8e4861850dc8ea8">05677</a> <span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStrictModeByteOffset = kCompilerHintsOffset +
<a name="l05678"></a>05678       (kStrictModeFunction + kCompilerHintsSmiTagSize) / <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>;
<a name="l05679"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#abfe551e7570ea98e946efb62942c6139">05679</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kExtendedModeByteOffset = kCompilerHintsOffset +
<a name="l05680"></a>05680       (kExtendedModeFunction + kCompilerHintsSmiTagSize) / <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>;
<a name="l05681"></a><a class="code" href="classv8_1_1internal_1_1_shared_function_info.html#a3143a66b30b720795490b470e9882d42">05681</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNativeByteOffset = kCompilerHintsOffset +
<a name="l05682"></a>05682       (kNative + kCompilerHintsSmiTagSize) / <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>;
<a name="l05683"></a>05683 <span class="preprocessor">#elif __BYTE_ORDER == __BIG_ENDIAN</span>
<a name="l05684"></a>05684 <span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStrictModeByteOffset = kCompilerHintsOffset +
<a name="l05685"></a>05685       (kCompilerHintsSize - 1) -
<a name="l05686"></a>05686       ((kStrictModeFunction + kCompilerHintsSmiTagSize) / <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>);
<a name="l05687"></a>05687   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kExtendedModeByteOffset = kCompilerHintsOffset +
<a name="l05688"></a>05688       (kCompilerHintsSize - 1) -
<a name="l05689"></a>05689       ((kExtendedModeFunction + kCompilerHintsSmiTagSize) / <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>);
<a name="l05690"></a>05690   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNativeByteOffset = kCompilerHintsOffset +
<a name="l05691"></a>05691       (kCompilerHintsSize - 1) -
<a name="l05692"></a>05692       ((kNative + kCompilerHintsSmiTagSize) / <a class="code" href="namespacev8_1_1internal.html#ab900ca9160d18f01efd941a662044669">kBitsPerByte</a>);
<a name="l05693"></a>05693 <span class="preprocessor">#else</span>
<a name="l05694"></a>05694 <span class="preprocessor"></span><span class="preprocessor">#error Unknown byte ordering</span>
<a name="l05695"></a>05695 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l05696"></a>05696 <span class="preprocessor"></span>
<a name="l05697"></a>05697  <span class="keyword">private</span>:
<a name="l05698"></a>05698   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_shared_function_info.html">SharedFunctionInfo</a>);
<a name="l05699"></a>05699 };
<a name="l05700"></a>05700 
<a name="l05701"></a>05701 
<a name="l05702"></a>05702 <span class="comment">// Representation for module instance objects.</span>
<a name="l05703"></a><a class="code" href="classv8_1_1internal_1_1_j_s_module.html">05703</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_module.html">JSModule</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l05704"></a>05704  <span class="keyword">public</span>:
<a name="l05705"></a>05705   <span class="comment">// [context]: the context holding the module&#39;s locals, or undefined if none.</span>
<a name="l05706"></a>05706   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(context, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05707"></a>05707 
<a name="l05708"></a>05708   <span class="comment">// Casting.</span>
<a name="l05709"></a>05709   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_module.html">JSModule</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l05710"></a>05710 
<a name="l05711"></a>05711   <span class="comment">// Dispatched behavior.</span>
<a name="l05712"></a>05712 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l05713"></a>05713 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSModulePrint() {
<a name="l05714"></a>05714     JSModulePrint(stdout);
<a name="l05715"></a>05715   }
<a name="l05716"></a>05716   <span class="keywordtype">void</span> JSModulePrint(FILE* out);
<a name="l05717"></a>05717 <span class="preprocessor">#endif</span>
<a name="l05718"></a>05718 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l05719"></a>05719 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSModuleVerify();
<a name="l05720"></a>05720 <span class="preprocessor">#endif</span>
<a name="l05721"></a>05721 <span class="preprocessor"></span>
<a name="l05722"></a>05722   <span class="comment">// Layout description.</span>
<a name="l05723"></a><a class="code" href="classv8_1_1internal_1_1_j_s_module.html#a9726969c27afae856ac1b2eb59671b55">05723</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kContextOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l05724"></a><a class="code" href="classv8_1_1internal_1_1_j_s_module.html#acd14eb06c5ad2c3b532f178a7402b71b">05724</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kContextOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05725"></a>05725 
<a name="l05726"></a>05726  <span class="keyword">private</span>:
<a name="l05727"></a>05727   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_module.html">JSModule</a>);
<a name="l05728"></a>05728 };
<a name="l05729"></a>05729 
<a name="l05730"></a>05730 
<a name="l05731"></a>05731 <span class="comment">// JSFunction describes JavaScript functions.</span>
<a name="l05732"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html">05732</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_function.html">JSFunction</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l05733"></a>05733  <span class="keyword">public</span>:
<a name="l05734"></a>05734   <span class="comment">// [prototype_or_initial_map]:</span>
<a name="l05735"></a>05735   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(prototype_or_initial_map, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05736"></a>05736 
<a name="l05737"></a>05737   <span class="comment">// [shared]: The information about the function that</span>
<a name="l05738"></a>05738   <span class="comment">// can be shared by instances.</span>
<a name="l05739"></a>05739   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(shared, <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html">SharedFunctionInfo</a>)
<a name="l05740"></a>05740 
<a name="l05741"></a>05741   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html">SharedFunctionInfo</a>* unchecked_shared();
<a name="l05742"></a>05742 
<a name="l05743"></a>05743   <span class="comment">// [context]: The context for this function.</span>
<a name="l05744"></a>05744   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_context.html">Context</a>* context();
<a name="l05745"></a>05745   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* unchecked_context();
<a name="l05746"></a>05746   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_context(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* context);
<a name="l05747"></a>05747 
<a name="l05748"></a>05748   <span class="comment">// [code]: The generated code object for this function.  Executed</span>
<a name="l05749"></a>05749   <span class="comment">// when the function is invoked, e.g. foo() or new foo(). See</span>
<a name="l05750"></a>05750   <span class="comment">// [[Call]] and [[Construct]] description in ECMA-262, section</span>
<a name="l05751"></a>05751   <span class="comment">// 8.6.2, page 27.</span>
<a name="l05752"></a>05752   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>();
<a name="l05753"></a>05753   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_code(<a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* code);
<a name="l05754"></a>05754   <span class="keyword">inline</span> <span class="keywordtype">void</span> ReplaceCode(<a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* code);
<a name="l05755"></a>05755 
<a name="l05756"></a>05756   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* unchecked_code();
<a name="l05757"></a>05757 
<a name="l05758"></a>05758   <span class="comment">// Tells whether this function is builtin.</span>
<a name="l05759"></a>05759   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsBuiltin();
<a name="l05760"></a>05760 
<a name="l05761"></a>05761   <span class="comment">// Tells whether or not the function needs arguments adaption.</span>
<a name="l05762"></a>05762   <span class="keyword">inline</span> <span class="keywordtype">bool</span> NeedsArgumentsAdaption();
<a name="l05763"></a>05763 
<a name="l05764"></a>05764   <span class="comment">// Tells whether or not this function has been optimized.</span>
<a name="l05765"></a>05765   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsOptimized();
<a name="l05766"></a>05766 
<a name="l05767"></a>05767   <span class="comment">// Tells whether or not this function can be optimized.</span>
<a name="l05768"></a>05768   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsOptimizable();
<a name="l05769"></a>05769 
<a name="l05770"></a>05770   <span class="comment">// Mark this function for lazy recompilation. The function will be</span>
<a name="l05771"></a>05771   <span class="comment">// recompiled the next time it is executed.</span>
<a name="l05772"></a>05772   <span class="keywordtype">void</span> MarkForLazyRecompilation();
<a name="l05773"></a>05773 
<a name="l05774"></a>05774   <span class="comment">// Helpers to compile this function.  Returns true on success, false on</span>
<a name="l05775"></a>05775   <span class="comment">// failure (e.g., stack overflow during compilation).</span>
<a name="l05776"></a>05776   <span class="keyword">static</span> <span class="keywordtype">bool</span> CompileLazy(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSFunction&gt;</a> <span class="keyword">function</span>,
<a name="l05777"></a>05777                           <a class="code" href="namespacev8_1_1internal.html#a22da7e58c330dfb5dd7af46556efd428">ClearExceptionFlag</a> <a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>);
<a name="l05778"></a>05778   <span class="keyword">static</span> <span class="keywordtype">bool</span> CompileOptimized(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSFunction&gt;</a> <span class="keyword">function</span>,
<a name="l05779"></a>05779                                <span class="keywordtype">int</span> osr_ast_id,
<a name="l05780"></a>05780                                <a class="code" href="namespacev8_1_1internal.html#a22da7e58c330dfb5dd7af46556efd428">ClearExceptionFlag</a> flag);
<a name="l05781"></a>05781 
<a name="l05782"></a>05782   <span class="comment">// Tells whether or not the function is already marked for lazy</span>
<a name="l05783"></a>05783   <span class="comment">// recompilation.</span>
<a name="l05784"></a>05784   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsMarkedForLazyRecompilation();
<a name="l05785"></a>05785 
<a name="l05786"></a>05786   <span class="comment">// Check whether or not this function is inlineable.</span>
<a name="l05787"></a>05787   <span class="keywordtype">bool</span> IsInlineable();
<a name="l05788"></a>05788 
<a name="l05789"></a>05789   <span class="comment">// [literals_or_bindings]: Fixed array holding either</span>
<a name="l05790"></a>05790   <span class="comment">// the materialized literals or the bindings of a bound function.</span>
<a name="l05791"></a>05791   <span class="comment">//</span>
<a name="l05792"></a>05792   <span class="comment">// If the function contains object, regexp or array literals, the</span>
<a name="l05793"></a>05793   <span class="comment">// literals array prefix contains the object, regexp, and array</span>
<a name="l05794"></a>05794   <span class="comment">// function to be used when creating these literals.  This is</span>
<a name="l05795"></a>05795   <span class="comment">// necessary so that we do not dynamically lookup the object, regexp</span>
<a name="l05796"></a>05796   <span class="comment">// or array functions.  Performing a dynamic lookup, we might end up</span>
<a name="l05797"></a>05797   <span class="comment">// using the functions from a new context that we should not have</span>
<a name="l05798"></a>05798   <span class="comment">// access to.</span>
<a name="l05799"></a>05799   <span class="comment">//</span>
<a name="l05800"></a>05800   <span class="comment">// On bound functions, the array is a (copy-on-write) fixed-array containing</span>
<a name="l05801"></a>05801   <span class="comment">// the function that was bound, bound this-value and any bound</span>
<a name="l05802"></a>05802   <span class="comment">// arguments. Bound functions never contain literals.</span>
<a name="l05803"></a>05803   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(literals_or_bindings, <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>)
<a name="l05804"></a>05804 
<a name="l05805"></a>05805   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* literals();
<a name="l05806"></a>05806   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_literals(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* literals);
<a name="l05807"></a>05807 
<a name="l05808"></a>05808   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* function_bindings();
<a name="l05809"></a>05809   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_function_bindings(<a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* bindings);
<a name="l05810"></a>05810 
<a name="l05811"></a>05811   <span class="comment">// The initial map for an object created by this constructor.</span>
<a name="l05812"></a>05812   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* initial_map();
<a name="l05813"></a>05813   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_initial_map(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* value);
<a name="l05814"></a>05814   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* set_initial_map_and_cache_transitions(
<a name="l05815"></a>05815       <a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* value);
<a name="l05816"></a>05816   <span class="keyword">inline</span> <span class="keywordtype">bool</span> has_initial_map();
<a name="l05817"></a>05817 
<a name="l05818"></a>05818   <span class="comment">// Get and set the prototype property on a JSFunction. If the</span>
<a name="l05819"></a>05819   <span class="comment">// function has an initial map the prototype is set on the initial</span>
<a name="l05820"></a>05820   <span class="comment">// map. Otherwise, the prototype is put in the initial map field</span>
<a name="l05821"></a>05821   <span class="comment">// until an initial map is needed.</span>
<a name="l05822"></a>05822   <span class="keyword">inline</span> <span class="keywordtype">bool</span> has_prototype();
<a name="l05823"></a>05823   <span class="keyword">inline</span> <span class="keywordtype">bool</span> has_instance_prototype();
<a name="l05824"></a>05824   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* prototype();
<a name="l05825"></a>05825   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* instance_prototype();
<a name="l05826"></a>05826   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetInstancePrototype(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l05827"></a>05827   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="namespacev8_1_1internal.html#ac288e8d467bfe42d1f0d16eb7a96578a">SetPrototype</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l05828"></a>05828 
<a name="l05829"></a>05829   <span class="comment">// After prototype is removed, it will not be created when accessed, and</span>
<a name="l05830"></a>05830   <span class="comment">// [[Construct]] from this function will not be allowed.</span>
<a name="l05831"></a>05831   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* RemovePrototype();
<a name="l05832"></a>05832   <span class="keyword">inline</span> <span class="keywordtype">bool</span> should_have_prototype();
<a name="l05833"></a>05833 
<a name="l05834"></a>05834   <span class="comment">// Accessor for this function&#39;s initial map&#39;s [[class]]</span>
<a name="l05835"></a>05835   <span class="comment">// property. This is primarily used by ECMA native functions.  This</span>
<a name="l05836"></a>05836   <span class="comment">// method sets the class_name field of this function&#39;s initial map</span>
<a name="l05837"></a>05837   <span class="comment">// to a given value. It creates an initial map if this function does</span>
<a name="l05838"></a>05838   <span class="comment">// not have one. Note that this method does not copy the initial map</span>
<a name="l05839"></a>05839   <span class="comment">// if it has one already, but simply replaces it with the new value.</span>
<a name="l05840"></a>05840   <span class="comment">// Instances created afterwards will have a map whose [[class]] is</span>
<a name="l05841"></a>05841   <span class="comment">// set to &#39;value&#39;, but there is no guarantees on instances created</span>
<a name="l05842"></a>05842   <span class="comment">// before.</span>
<a name="l05843"></a>05843   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* SetInstanceClassName(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l05844"></a>05844 
<a name="l05845"></a>05845   <span class="comment">// Returns if this function has been compiled to native code yet.</span>
<a name="l05846"></a>05846   <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_compiled();
<a name="l05847"></a>05847 
<a name="l05848"></a>05848   <span class="comment">// [next_function_link]: Field for linking functions. This list is treated as</span>
<a name="l05849"></a>05849   <span class="comment">// a weak list by the GC.</span>
<a name="l05850"></a>05850   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(next_function_link, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05851"></a>05851 
<a name="l05852"></a>05852   <span class="comment">// Prints the name of the function using PrintF.</span>
<a name="l05853"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a6f4581e1d02c797caa3cd8f5a6e0059c">05853</a>   inline <span class="keywordtype">void</span> PrintName() {
<a name="l05854"></a>05854     PrintName(stdout);
<a name="l05855"></a>05855   }
<a name="l05856"></a>05856   <span class="keywordtype">void</span> PrintName(FILE* out);
<a name="l05857"></a>05857 
<a name="l05858"></a>05858   <span class="comment">// Casting.</span>
<a name="l05859"></a>05859   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function.html">JSFunction</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l05860"></a>05860 
<a name="l05861"></a>05861   <span class="comment">// Iterates the objects, including code objects indirectly referenced</span>
<a name="l05862"></a>05862   <span class="comment">// through pointers to the first instruction in the code object.</span>
<a name="l05863"></a>05863   <span class="keywordtype">void</span> JSFunctionIterateBody(<span class="keywordtype">int</span> object_size, ObjectVisitor* v);
<a name="l05864"></a>05864 
<a name="l05865"></a>05865   <span class="comment">// Dispatched behavior.</span>
<a name="l05866"></a>05866 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l05867"></a>05867 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSFunctionPrint() {
<a name="l05868"></a>05868     JSFunctionPrint(stdout);
<a name="l05869"></a>05869   }
<a name="l05870"></a>05870   <span class="keywordtype">void</span> JSFunctionPrint(FILE* out);
<a name="l05871"></a>05871 <span class="preprocessor">#endif</span>
<a name="l05872"></a>05872 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l05873"></a>05873 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSFunctionVerify();
<a name="l05874"></a>05874 <span class="preprocessor">#endif</span>
<a name="l05875"></a>05875 <span class="preprocessor"></span>
<a name="l05876"></a>05876   <span class="comment">// Returns the number of allocated literals.</span>
<a name="l05877"></a>05877   <span class="keyword">inline</span> <span class="keywordtype">int</span> NumberOfLiterals();
<a name="l05878"></a>05878 
<a name="l05879"></a>05879   <span class="comment">// Retrieve the global context from a function&#39;s literal array.</span>
<a name="l05880"></a>05880   <span class="keyword">static</span> <a class="code" href="classv8_1_1_context.html">Context</a>* GlobalContextFromLiterals(FixedArray* literals);
<a name="l05881"></a>05881 
<a name="l05882"></a>05882   <span class="comment">// Layout descriptors. The last property (from kNonWeakFieldsEndOffset to</span>
<a name="l05883"></a>05883   <span class="comment">// kSize) is weak and has special handling during garbage collection.</span>
<a name="l05884"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#afe3d93b66114f229c8738d1125b5eb6a">05884</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeEntryOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l05885"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#afeab7ef9302f5f8506f76661d07b0a88">05885</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPrototypeOrInitialMapOffset =
<a name="l05886"></a>05886       kCodeEntryOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05887"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#aad0f7708bd719c7d19f45468d23e8ccd">05887</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSharedFunctionInfoOffset =
<a name="l05888"></a>05888       kPrototypeOrInitialMapOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05889"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#ade0e7f9373960a4a7b06e51844f26b3e">05889</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kContextOffset = kSharedFunctionInfoOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05890"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#af655e87ac2a3d32ffcb06f07280025e7">05890</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLiteralsOffset = kContextOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05891"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a9264dbf979bcf14612c05ea1508773d1">05891</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNonWeakFieldsEndOffset = kLiteralsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05892"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a3b9c13402e2134ff257198c674897154">05892</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNextFunctionLinkOffset = kNonWeakFieldsEndOffset;
<a name="l05893"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a808203d26f81e54fca0c7c039785fbfa">05893</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kNextFunctionLinkOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05894"></a>05894 
<a name="l05895"></a>05895   <span class="comment">// Layout of the literals array.</span>
<a name="l05896"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a7543d546f61be559e649f10c05f7af28">05896</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLiteralsPrefixSize = 1;
<a name="l05897"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a14e3f0d8973ddf2e3386cedd469eb965">05897</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLiteralGlobalContextIndex = 0;
<a name="l05898"></a>05898 
<a name="l05899"></a>05899   <span class="comment">// Layout of the bound-function binding array.</span>
<a name="l05900"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a497b19c7b312dd1806afdc442581b474">05900</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBoundFunctionIndex = 0;
<a name="l05901"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a6c78261a527b35e2334bc292157b3b75">05901</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBoundThisIndex = 1;
<a name="l05902"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a847c9f09e6d2408a05f817cc828ac3c1">05902</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBoundArgumentsStartIndex = 2;
<a name="l05903"></a>05903 
<a name="l05904"></a>05904  <span class="keyword">private</span>:
<a name="l05905"></a>05905   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_function.html">JSFunction</a>);
<a name="l05906"></a>05906 };
<a name="l05907"></a>05907 
<a name="l05908"></a>05908 
<a name="l05909"></a>05909 <span class="comment">// JSGlobalProxy&#39;s prototype must be a JSGlobalObject or null,</span>
<a name="l05910"></a>05910 <span class="comment">// and the prototype is hidden. JSGlobalProxy always delegates</span>
<a name="l05911"></a>05911 <span class="comment">// property accesses to its prototype if the prototype is not null.</span>
<a name="l05912"></a>05912 <span class="comment">//</span>
<a name="l05913"></a>05913 <span class="comment">// A JSGlobalProxy can be reinitialized which will preserve its identity.</span>
<a name="l05914"></a>05914 <span class="comment">//</span>
<a name="l05915"></a>05915 <span class="comment">// Accessing a JSGlobalProxy requires security check.</span>
<a name="l05916"></a>05916 
<a name="l05917"></a><a class="code" href="classv8_1_1internal_1_1_j_s_global_proxy.html">05917</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_global_proxy.html">JSGlobalProxy</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l05918"></a>05918  <span class="keyword">public</span>:
<a name="l05919"></a>05919   <span class="comment">// [context]: the owner global context of this global proxy object.</span>
<a name="l05920"></a>05920   <span class="comment">// It is null value if this object is not used by any context.</span>
<a name="l05921"></a>05921   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(context, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l05922"></a>05922 
<a name="l05923"></a>05923   <span class="comment">// Casting.</span>
<a name="l05924"></a>05924   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_global_proxy.html">JSGlobalProxy</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l05925"></a>05925 
<a name="l05926"></a>05926   <span class="comment">// Dispatched behavior.</span>
<a name="l05927"></a>05927 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l05928"></a>05928 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSGlobalProxyPrint() {
<a name="l05929"></a>05929     JSGlobalProxyPrint(stdout);
<a name="l05930"></a>05930   }
<a name="l05931"></a>05931   <span class="keywordtype">void</span> JSGlobalProxyPrint(FILE* out);
<a name="l05932"></a>05932 <span class="preprocessor">#endif</span>
<a name="l05933"></a>05933 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l05934"></a>05934 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSGlobalProxyVerify();
<a name="l05935"></a>05935 <span class="preprocessor">#endif</span>
<a name="l05936"></a>05936 <span class="preprocessor"></span>
<a name="l05937"></a>05937   <span class="comment">// Layout description.</span>
<a name="l05938"></a><a class="code" href="classv8_1_1internal_1_1_j_s_global_proxy.html#a3884ad3d978e51e7cf6467f4908b7f88">05938</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kContextOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l05939"></a><a class="code" href="classv8_1_1internal_1_1_j_s_global_proxy.html#a27f9783972c70443622c9869d720f5f5">05939</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kContextOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05940"></a>05940 
<a name="l05941"></a>05941  <span class="keyword">private</span>:
<a name="l05942"></a>05942   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_global_proxy.html">JSGlobalProxy</a>);
<a name="l05943"></a>05943 };
<a name="l05944"></a>05944 
<a name="l05945"></a>05945 
<a name="l05946"></a>05946 <span class="comment">// Forward declaration.</span>
<a name="l05947"></a>05947 <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html">JSBuiltinsObject</a>;
<a name="l05948"></a>05948 
<a name="l05949"></a>05949 <span class="comment">// Common super class for JavaScript global objects and the special</span>
<a name="l05950"></a>05950 <span class="comment">// builtins global objects.</span>
<a name="l05951"></a><a class="code" href="classv8_1_1internal_1_1_global_object.html">05951</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_global_object.html">GlobalObject</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l05952"></a>05952  <span class="keyword">public</span>:
<a name="l05953"></a>05953   <span class="comment">// [builtins]: the object holding the runtime routines written in JS.</span>
<a name="l05954"></a>05954   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(builtins, <a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html">JSBuiltinsObject</a>)
<a name="l05955"></a>05955 
<a name="l05956"></a>05956   <span class="comment">// [global context]: the global context corresponding to this global object.</span>
<a name="l05957"></a>05957   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(global_context, <a class="code" href="classv8_1_1internal_1_1_context.html">Context</a>)
<a name="l05958"></a>05958 
<a name="l05959"></a>05959   <span class="comment">// [global receiver]: the global receiver object of the context</span>
<a name="l05960"></a>05960   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(global_receiver, <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a>)
<a name="l05961"></a>05961 
<a name="l05962"></a>05962   <span class="comment">// Retrieve the property cell used to store a property.</span>
<a name="l05963"></a>05963   <a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html">JSGlobalPropertyCell</a>* GetPropertyCell(LookupResult* result);
<a name="l05964"></a>05964 
<a name="l05965"></a>05965   <span class="comment">// This is like GetProperty, but is used when you know the lookup won&#39;t fail</span>
<a name="l05966"></a>05966   <span class="comment">// by throwing an exception.  This is for the debug and builtins global</span>
<a name="l05967"></a>05967   <span class="comment">// objects, where it is known which properties can be expected to be present</span>
<a name="l05968"></a>05968   <span class="comment">// on the object.</span>
<a name="l05969"></a><a class="code" href="classv8_1_1internal_1_1_global_object.html#a4fc5449fd91564624649d106bcd6be05">05969</a>   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_global_object.html#a4fc5449fd91564624649d106bcd6be05">GetPropertyNoExceptionThrown</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* key) {
<a name="l05970"></a>05970     <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* answer = <a class="code" href="classv8_1_1internal_1_1_object.html#a429c2e134fff3f830882b713002a7af1">GetProperty</a>(key)-&gt;ToObjectUnchecked();
<a name="l05971"></a>05971     <span class="keywordflow">return</span> answer;
<a name="l05972"></a>05972   }
<a name="l05973"></a>05973 
<a name="l05974"></a>05974   <span class="comment">// Ensure that the global object has a cell for the given property name.</span>
<a name="l05975"></a>05975   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;JSGlobalPropertyCell&gt;</a> EnsurePropertyCell(
<a name="l05976"></a>05976       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;GlobalObject&gt;</a> global,
<a name="l05977"></a>05977       <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l05978"></a>05978   <span class="comment">// TODO(kmillikin): This function can be eliminated once the stub cache is</span>
<a name="l05979"></a>05979   <span class="comment">// full handlified (and the static helper can be written directly).</span>
<a name="l05980"></a>05980   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* EnsurePropertyCell(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l05981"></a>05981 
<a name="l05982"></a>05982   <span class="comment">// Casting.</span>
<a name="l05983"></a>05983   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_global_object.html">GlobalObject</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l05984"></a>05984 
<a name="l05985"></a>05985   <span class="comment">// Layout description.</span>
<a name="l05986"></a><a class="code" href="classv8_1_1internal_1_1_global_object.html#a2b5b003d16982371980db54469ad02d9">05986</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBuiltinsOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l05987"></a><a class="code" href="classv8_1_1internal_1_1_global_object.html#a50eeb8c2e56067b678915f8f065b986e">05987</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kGlobalContextOffset = kBuiltinsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05988"></a><a class="code" href="classv8_1_1internal_1_1_global_object.html#a354141a40cabd15737aaca5aa0efcfd5">05988</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kGlobalReceiverOffset = kGlobalContextOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05989"></a><a class="code" href="classv8_1_1internal_1_1_global_object.html#a84d8bb870d814fe82540484cfc09f777">05989</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a> = kGlobalReceiverOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l05990"></a>05990 
<a name="l05991"></a>05991  <span class="keyword">private</span>:
<a name="l05992"></a>05992   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_global_object.html">GlobalObject</a>);
<a name="l05993"></a>05993 };
<a name="l05994"></a>05994 
<a name="l05995"></a>05995 
<a name="l05996"></a>05996 <span class="comment">// JavaScript global object.</span>
<a name="l05997"></a><a class="code" href="classv8_1_1internal_1_1_j_s_global_object.html">05997</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_global_object.html">JSGlobalObject</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_global_object.html">GlobalObject</a> {
<a name="l05998"></a>05998  <span class="keyword">public</span>:
<a name="l05999"></a>05999   <span class="comment">// Casting.</span>
<a name="l06000"></a>06000   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_global_object.html">JSGlobalObject</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06001"></a>06001 
<a name="l06002"></a>06002   <span class="comment">// Dispatched behavior.</span>
<a name="l06003"></a>06003 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06004"></a>06004 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSGlobalObjectPrint() {
<a name="l06005"></a>06005     JSGlobalObjectPrint(stdout);
<a name="l06006"></a>06006   }
<a name="l06007"></a>06007   <span class="keywordtype">void</span> JSGlobalObjectPrint(FILE* out);
<a name="l06008"></a>06008 <span class="preprocessor">#endif</span>
<a name="l06009"></a>06009 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06010"></a>06010 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSGlobalObjectVerify();
<a name="l06011"></a>06011 <span class="preprocessor">#endif</span>
<a name="l06012"></a>06012 <span class="preprocessor"></span>
<a name="l06013"></a>06013   <span class="comment">// Layout description.</span>
<a name="l06014"></a><a class="code" href="classv8_1_1internal_1_1_j_s_global_object.html#a5dcb192b8930d640333fe390b2d5cfb8">06014</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">GlobalObject::kHeaderSize</a>;
<a name="l06015"></a>06015 
<a name="l06016"></a>06016  <span class="keyword">private</span>:
<a name="l06017"></a>06017   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_global_object.html">JSGlobalObject</a>);
<a name="l06018"></a>06018 };
<a name="l06019"></a>06019 
<a name="l06020"></a>06020 
<a name="l06021"></a>06021 <span class="comment">// Builtins global object which holds the runtime routines written in</span>
<a name="l06022"></a>06022 <span class="comment">// JavaScript.</span>
<a name="l06023"></a><a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html">06023</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html">JSBuiltinsObject</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_global_object.html">GlobalObject</a> {
<a name="l06024"></a>06024  <span class="keyword">public</span>:
<a name="l06025"></a>06025   <span class="comment">// Accessors for the runtime routines written in JavaScript.</span>
<a name="l06026"></a>06026   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* javascript_builtin(<a class="code" href="classv8_1_1internal_1_1_builtins.html#a0f02160f66bb9a9dee9f8f0cda538c1d">Builtins::JavaScript</a> <span class="keywordtype">id</span>);
<a name="l06027"></a>06027   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_javascript_builtin(<a class="code" href="classv8_1_1internal_1_1_builtins.html#a0f02160f66bb9a9dee9f8f0cda538c1d">Builtins::JavaScript</a> <span class="keywordtype">id</span>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l06028"></a>06028 
<a name="l06029"></a>06029   <span class="comment">// Accessors for code of the runtime routines written in JavaScript.</span>
<a name="l06030"></a>06030   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* javascript_builtin_code(<a class="code" href="classv8_1_1internal_1_1_builtins.html#a0f02160f66bb9a9dee9f8f0cda538c1d">Builtins::JavaScript</a> <span class="keywordtype">id</span>);
<a name="l06031"></a>06031   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_javascript_builtin_code(<a class="code" href="classv8_1_1internal_1_1_builtins.html#a0f02160f66bb9a9dee9f8f0cda538c1d">Builtins::JavaScript</a> <span class="keywordtype">id</span>, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* value);
<a name="l06032"></a>06032 
<a name="l06033"></a>06033   <span class="comment">// Casting.</span>
<a name="l06034"></a>06034   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html">JSBuiltinsObject</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06035"></a>06035 
<a name="l06036"></a>06036   <span class="comment">// Dispatched behavior.</span>
<a name="l06037"></a>06037 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06038"></a>06038 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSBuiltinsObjectPrint() {
<a name="l06039"></a>06039     JSBuiltinsObjectPrint(stdout);
<a name="l06040"></a>06040   }
<a name="l06041"></a>06041   <span class="keywordtype">void</span> JSBuiltinsObjectPrint(FILE* out);
<a name="l06042"></a>06042 <span class="preprocessor">#endif</span>
<a name="l06043"></a>06043 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06044"></a>06044 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSBuiltinsObjectVerify();
<a name="l06045"></a>06045 <span class="preprocessor">#endif</span>
<a name="l06046"></a>06046 <span class="preprocessor"></span>
<a name="l06047"></a>06047   <span class="comment">// Layout description.  The size of the builtins object includes</span>
<a name="l06048"></a>06048   <span class="comment">// room for two pointers per runtime routine written in javascript</span>
<a name="l06049"></a>06049   <span class="comment">// (function and code object).</span>
<a name="l06050"></a><a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html#a59cb5664931f6e9ef315c0f505cfa22b">06050</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kJSBuiltinsCount = <a class="code" href="classv8_1_1internal_1_1_builtins.html#a0f02160f66bb9a9dee9f8f0cda538c1dae11b471f56cf08d90b8fcf2c78dc2d28">Builtins::id_count</a>;
<a name="l06051"></a><a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html#a41ac3121a3e284b6240b9b83c71f8e79">06051</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kJSBuiltinsOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">GlobalObject::kHeaderSize</a>;
<a name="l06052"></a><a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html#adc167467ed32e68550558f20873f0f37">06052</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kJSBuiltinsCodeOffset =
<a name="l06053"></a>06053       <a class="code" href="classv8_1_1internal_1_1_global_object.html#a84d8bb870d814fe82540484cfc09f777">GlobalObject::kHeaderSize</a> + (kJSBuiltinsCount * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>);
<a name="l06054"></a><a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html#ab933246ebec6107f95d02d96c07f28e4">06054</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize =
<a name="l06055"></a>06055       kJSBuiltinsCodeOffset + (kJSBuiltinsCount * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>);
<a name="l06056"></a>06056 
<a name="l06057"></a><a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html#a95d46cb62a18c83f36dd57cfb1723cc4">06057</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html#a95d46cb62a18c83f36dd57cfb1723cc4">OffsetOfFunctionWithId</a>(<a class="code" href="classv8_1_1internal_1_1_builtins.html#a0f02160f66bb9a9dee9f8f0cda538c1d">Builtins::JavaScript</a> <span class="keywordtype">id</span>) {
<a name="l06058"></a>06058     <span class="keywordflow">return</span> kJSBuiltinsOffset + <span class="keywordtype">id</span> * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06059"></a>06059   }
<a name="l06060"></a>06060 
<a name="l06061"></a><a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html#ae3e45c73abd310e98e52eddd91c01d7c">06061</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html#ae3e45c73abd310e98e52eddd91c01d7c">OffsetOfCodeWithId</a>(<a class="code" href="classv8_1_1internal_1_1_builtins.html#a0f02160f66bb9a9dee9f8f0cda538c1d">Builtins::JavaScript</a> <span class="keywordtype">id</span>) {
<a name="l06062"></a>06062     <span class="keywordflow">return</span> kJSBuiltinsCodeOffset + <span class="keywordtype">id</span> * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06063"></a>06063   }
<a name="l06064"></a>06064 
<a name="l06065"></a>06065  <span class="keyword">private</span>:
<a name="l06066"></a>06066   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_builtins_object.html">JSBuiltinsObject</a>);
<a name="l06067"></a>06067 };
<a name="l06068"></a>06068 
<a name="l06069"></a>06069 
<a name="l06070"></a>06070 <span class="comment">// Representation for JS Wrapper objects, String, Number, Boolean, etc.</span>
<a name="l06071"></a><a class="code" href="classv8_1_1internal_1_1_j_s_value.html">06071</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_value.html">JSValue</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l06072"></a>06072  <span class="keyword">public</span>:
<a name="l06073"></a>06073   <span class="comment">// [value]: the object being wrapped.</span>
<a name="l06074"></a>06074   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(value, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06075"></a>06075 
<a name="l06076"></a>06076   <span class="comment">// Casting.</span>
<a name="l06077"></a>06077   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_value.html">JSValue</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06078"></a>06078 
<a name="l06079"></a>06079   <span class="comment">// Dispatched behavior.</span>
<a name="l06080"></a>06080 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06081"></a>06081 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSValuePrint() {
<a name="l06082"></a>06082     JSValuePrint(stdout);
<a name="l06083"></a>06083   }
<a name="l06084"></a>06084   <span class="keywordtype">void</span> JSValuePrint(FILE* out);
<a name="l06085"></a>06085 <span class="preprocessor">#endif</span>
<a name="l06086"></a>06086 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06087"></a>06087 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSValueVerify();
<a name="l06088"></a>06088 <span class="preprocessor">#endif</span>
<a name="l06089"></a>06089 <span class="preprocessor"></span>
<a name="l06090"></a>06090   <span class="comment">// Layout description.</span>
<a name="l06091"></a><a class="code" href="classv8_1_1internal_1_1_j_s_value.html#a2d01c7fffbb992f02238702dff7d5b8f">06091</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kValueOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l06092"></a><a class="code" href="classv8_1_1internal_1_1_j_s_value.html#a8f0fedf075454bcd7cb54bd598ffde91">06092</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kValueOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06093"></a>06093 
<a name="l06094"></a>06094  <span class="keyword">private</span>:
<a name="l06095"></a>06095   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_value.html">JSValue</a>);
<a name="l06096"></a>06096 };
<a name="l06097"></a>06097 
<a name="l06098"></a>06098 
<a name="l06099"></a>06099 <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_date_cache.html">DateCache</a>;
<a name="l06100"></a>06100 
<a name="l06101"></a>06101 <span class="comment">// Representation for JS date objects.</span>
<a name="l06102"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html">06102</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_date.html">JSDate</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l06103"></a>06103  <span class="keyword">public</span>:
<a name="l06104"></a>06104   <span class="comment">// If one component is NaN, all of them are, indicating a NaN time value.</span>
<a name="l06105"></a>06105   <span class="comment">// [value]: the time value.</span>
<a name="l06106"></a>06106   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(value, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06107"></a>06107   <span class="comment">// [year]: caches year. Either undefined, smi, or NaN.</span>
<a name="l06108"></a>06108   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(year, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06109"></a>06109   <span class="comment">// [month]: caches month. Either undefined, smi, or NaN.</span>
<a name="l06110"></a>06110   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(month, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06111"></a>06111   <span class="comment">// [day]: caches day. Either undefined, smi, or NaN.</span>
<a name="l06112"></a>06112   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(day, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06113"></a>06113   <span class="comment">// [weekday]: caches day of week. Either undefined, smi, or NaN.</span>
<a name="l06114"></a>06114   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(weekday, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06115"></a>06115   <span class="comment">// [hour]: caches hours. Either undefined, smi, or NaN.</span>
<a name="l06116"></a>06116   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(hour, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06117"></a>06117   <span class="comment">// [min]: caches minutes. Either undefined, smi, or NaN.</span>
<a name="l06118"></a>06118   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(min, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06119"></a>06119   <span class="comment">// [sec]: caches seconds. Either undefined, smi, or NaN.</span>
<a name="l06120"></a>06120   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(sec, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06121"></a>06121   <span class="comment">// [cache stamp]: sample of the date cache stamp at the</span>
<a name="l06122"></a>06122   <span class="comment">// moment when local fields were cached.</span>
<a name="l06123"></a>06123   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(cache_stamp, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06124"></a>06124 
<a name="l06125"></a>06125   <span class="comment">// Casting.</span>
<a name="l06126"></a>06126   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_date.html">JSDate</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06127"></a>06127 
<a name="l06128"></a>06128   <span class="comment">// Returns the date field with the specified index.</span>
<a name="l06129"></a>06129   <span class="comment">// See FieldIndex for the list of date fields.</span>
<a name="l06130"></a>06130   <span class="keyword">static</span> MaybeObject* GetField(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* date, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* index);
<a name="l06131"></a>06131 
<a name="l06132"></a>06132   <span class="keywordtype">void</span> SetValue(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value, <span class="keywordtype">bool</span> is_value_nan);
<a name="l06133"></a>06133 
<a name="l06134"></a>06134 
<a name="l06135"></a>06135   <span class="comment">// Dispatched behavior.</span>
<a name="l06136"></a>06136 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06137"></a>06137 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSDatePrint() {
<a name="l06138"></a>06138     JSDatePrint(stdout);
<a name="l06139"></a>06139   }
<a name="l06140"></a>06140   <span class="keywordtype">void</span> JSDatePrint(FILE* out);
<a name="l06141"></a>06141 <span class="preprocessor">#endif</span>
<a name="l06142"></a>06142 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06143"></a>06143 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSDateVerify();
<a name="l06144"></a>06144 <span class="preprocessor">#endif</span>
<a name="l06145"></a>06145 <span class="preprocessor"></span>  <span class="comment">// The order is important. It must be kept in sync with date macros</span>
<a name="l06146"></a>06146   <span class="comment">// in macros.py.</span>
<a name="l06147"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379">06147</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379">FieldIndex</a> {
<a name="l06148"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a6e67ce8cc150b85954ac13684e343d71">06148</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a6e67ce8cc150b85954ac13684e343d71">kDateValue</a>,
<a name="l06149"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a08732ebdc85921f293cc3bb3e257efab">06149</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a08732ebdc85921f293cc3bb3e257efab">kYear</a>,
<a name="l06150"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a90ccebd007fce994a004b04cd110c67f">06150</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a90ccebd007fce994a004b04cd110c67f">kMonth</a>,
<a name="l06151"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ac287732366abc0fc3160cbd0555a3874">06151</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ac287732366abc0fc3160cbd0555a3874">kDay</a>,
<a name="l06152"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a3daff22f322ed6b958d51349555f1903">06152</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a3daff22f322ed6b958d51349555f1903">kWeekday</a>,
<a name="l06153"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379aed16b42bc32314c10084c592ab4f6670">06153</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379aed16b42bc32314c10084c592ab4f6670">kHour</a>,
<a name="l06154"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a826e117270a12c665f4c01ee1f8cb6d8">06154</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a826e117270a12c665f4c01ee1f8cb6d8">kMinute</a>,
<a name="l06155"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ae4183e64962198fb8dceb4b0ebe80bef">06155</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ae4183e64962198fb8dceb4b0ebe80bef">kSecond</a>,
<a name="l06156"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a41bcef262d3523c2e3a693c21eeca9b0">06156</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a41bcef262d3523c2e3a693c21eeca9b0">kFirstUncachedField</a>,
<a name="l06157"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379aed25a78a11a01d9f8800800f4f77c791">06157</a>     kMillisecond = kFirstUncachedField,
<a name="l06158"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379aed352ad6c1e228c39313aa7475f8e09e">06158</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379aed352ad6c1e228c39313aa7475f8e09e">kDays</a>,
<a name="l06159"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ac400693f8ff837c5d9580fb343ab0634">06159</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ac400693f8ff837c5d9580fb343ab0634">kTimeInDay</a>,
<a name="l06160"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ad8322ae8d635a1b693eb6329988dfbbb">06160</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ad8322ae8d635a1b693eb6329988dfbbb">kFirstUTCField</a>,
<a name="l06161"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a1f096550160dc8d94ab9d0bd2c14b671">06161</a>     kYearUTC = kFirstUTCField,
<a name="l06162"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a8d6d3363ac3371242ea0348727f71faf">06162</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a8d6d3363ac3371242ea0348727f71faf">kMonthUTC</a>,
<a name="l06163"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a485e6b83d5eb15fc2ee2feecbdb569a2">06163</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a485e6b83d5eb15fc2ee2feecbdb569a2">kDayUTC</a>,
<a name="l06164"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a3be7e08b060287b911fc1d8104cfb4b0">06164</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a3be7e08b060287b911fc1d8104cfb4b0">kWeekdayUTC</a>,
<a name="l06165"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a9da3da16b83beef50af2e6f81a762b5e">06165</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a9da3da16b83beef50af2e6f81a762b5e">kHourUTC</a>,
<a name="l06166"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379afac7dd1bdf70b6bc74552df801eda36b">06166</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379afac7dd1bdf70b6bc74552df801eda36b">kMinuteUTC</a>,
<a name="l06167"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a0f0c75c74bc99a157eb0f63ffec4e113">06167</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a0f0c75c74bc99a157eb0f63ffec4e113">kSecondUTC</a>,
<a name="l06168"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a2cc98b0a5252c91fe50f2cfb6b98bc71">06168</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a2cc98b0a5252c91fe50f2cfb6b98bc71">kMillisecondUTC</a>,
<a name="l06169"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a19080a1f269552475e7e89a676c988e5">06169</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a19080a1f269552475e7e89a676c988e5">kDaysUTC</a>,
<a name="l06170"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ae968616de9b52c1d825f9819e7590045">06170</a>     <a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379ae968616de9b52c1d825f9819e7590045">kTimeInDayUTC</a>,
<a name="l06171"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379a54a2bdaa892ecf3720e00faf802c1475">06171</a>     kTimezoneOffset
<a name="l06172"></a>06172   };
<a name="l06173"></a>06173 
<a name="l06174"></a>06174   <span class="comment">// Layout description.</span>
<a name="l06175"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#a42f62e74380a2fde764c5efe7605e0c7">06175</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kValueOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l06176"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#ac70d435cc4b8043aea093053d814b711">06176</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kYearOffset = kValueOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06177"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#a871a1beff8b50dde5806d2c0c6d99a51">06177</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMonthOffset = kYearOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06178"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#a18c495bfb324c1fc0291bcaa90dd4955">06178</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDayOffset = kMonthOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06179"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#a524c26a7e64b392e0867f4a8765ad569">06179</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kWeekdayOffset = kDayOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06180"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#ae21c9b039f413f20a28fabc87d7fdb7f">06180</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHourOffset = kWeekdayOffset  + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06181"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#a3f1f64a3808e921e2a4b1c550f24861b">06181</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMinOffset = kHourOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06182"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#ad65d0f71fce7a37d4195b695b27152fc">06182</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSecOffset = kMinOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06183"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#a9c1aa5942a2e169bae870d5150778dca">06183</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCacheStampOffset = kSecOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06184"></a><a class="code" href="classv8_1_1internal_1_1_j_s_date.html#a9416fc77a4defa89edf9d7f92b2a8348">06184</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kCacheStampOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06185"></a>06185 
<a name="l06186"></a>06186  <span class="keyword">private</span>:
<a name="l06187"></a>06187   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* DoGetField(<a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379">FieldIndex</a> index);
<a name="l06188"></a>06188 
<a name="l06189"></a>06189   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* GetUTCField(<a class="code" href="classv8_1_1internal_1_1_j_s_date.html#afc7907b14eb9ef9499498c3b1e19e379">FieldIndex</a> index, <span class="keywordtype">double</span> value, <a class="code" href="classv8_1_1internal_1_1_date_cache.html">DateCache</a>* date_cache);
<a name="l06190"></a>06190 
<a name="l06191"></a>06191   <span class="comment">// Computes and caches the cacheable fields of the date.</span>
<a name="l06192"></a>06192   <span class="keyword">inline</span> <span class="keywordtype">void</span> SetLocalFields(int64_t local_time_ms, <a class="code" href="classv8_1_1internal_1_1_date_cache.html">DateCache</a>* date_cache);
<a name="l06193"></a>06193 
<a name="l06194"></a>06194 
<a name="l06195"></a>06195   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_date.html">JSDate</a>);
<a name="l06196"></a>06196 };
<a name="l06197"></a>06197 
<a name="l06198"></a>06198 
<a name="l06199"></a>06199 <span class="comment">// Representation of message objects used for error reporting through</span>
<a name="l06200"></a>06200 <span class="comment">// the API. The messages are formatted in JavaScript so this object is</span>
<a name="l06201"></a>06201 <span class="comment">// a real JavaScript object. The information used for formatting the</span>
<a name="l06202"></a>06202 <span class="comment">// error messages are not directly accessible from JavaScript to</span>
<a name="l06203"></a>06203 <span class="comment">// prevent leaking information to user code called during error</span>
<a name="l06204"></a>06204 <span class="comment">// formatting.</span>
<a name="l06205"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html">06205</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html">JSMessageObject</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l06206"></a>06206  <span class="keyword">public</span>:
<a name="l06207"></a>06207   <span class="comment">// [type]: the type of error message.</span>
<a name="l06208"></a>06208   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>, <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>)
<a name="l06209"></a>06209 
<a name="l06210"></a>06210   <span class="comment">// [arguments]: the arguments for formatting the error message.</span>
<a name="l06211"></a>06211   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(arguments, <a class="code" href="classv8_1_1internal_1_1_j_s_array.html">JSArray</a>)
<a name="l06212"></a>06212 
<a name="l06213"></a>06213   <span class="comment">// [script]: the script from which the error message originated.</span>
<a name="l06214"></a>06214   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(script, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06215"></a>06215 
<a name="l06216"></a>06216   <span class="comment">// [stack_trace]: the stack trace for this error message.</span>
<a name="l06217"></a>06217   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(stack_trace, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06218"></a>06218 
<a name="l06219"></a>06219   <span class="comment">// [stack_frames]: an array of stack frames for this error object.</span>
<a name="l06220"></a>06220   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(stack_frames, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06221"></a>06221 
<a name="l06222"></a>06222   <span class="comment">// [start_position]: the start position in the script for the error message.</span>
<a name="l06223"></a>06223   <span class="keyword">inline</span> <span class="keywordtype">int</span> start_position();
<a name="l06224"></a>06224   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_start_position(<span class="keywordtype">int</span> value);
<a name="l06225"></a>06225 
<a name="l06226"></a>06226   <span class="comment">// [end_position]: the end position in the script for the error message.</span>
<a name="l06227"></a>06227   <span class="keyword">inline</span> <span class="keywordtype">int</span> end_position();
<a name="l06228"></a>06228   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_end_position(<span class="keywordtype">int</span> value);
<a name="l06229"></a>06229 
<a name="l06230"></a>06230   <span class="comment">// Casting.</span>
<a name="l06231"></a>06231   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html">JSMessageObject</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06232"></a>06232 
<a name="l06233"></a>06233   <span class="comment">// Dispatched behavior.</span>
<a name="l06234"></a>06234 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06235"></a>06235 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSMessageObjectPrint() {
<a name="l06236"></a>06236     JSMessageObjectPrint(stdout);
<a name="l06237"></a>06237   }
<a name="l06238"></a>06238   <span class="keywordtype">void</span> JSMessageObjectPrint(FILE* out);
<a name="l06239"></a>06239 <span class="preprocessor">#endif</span>
<a name="l06240"></a>06240 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06241"></a>06241 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSMessageObjectVerify();
<a name="l06242"></a>06242 <span class="preprocessor">#endif</span>
<a name="l06243"></a>06243 <span class="preprocessor"></span>
<a name="l06244"></a>06244   <span class="comment">// Layout description.</span>
<a name="l06245"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#abb3ff5762da76ef2233e253060fa1c7f">06245</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTypeOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l06246"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#afbd05eb4a6dc5620913a1f25efdd9f90">06246</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArgumentsOffset = kTypeOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06247"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#a56601869f06fd680de6f217db4abf7dc">06247</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kScriptOffset = kArgumentsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06248"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#a56cb45649da9d8efa6d2401fdeb9c300">06248</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStackTraceOffset = kScriptOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06249"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#ab52f9e48cf5e1bc47d7a05f7448f9593">06249</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStackFramesOffset = kStackTraceOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06250"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#a823062d07d7010b29e0cf03af96d12f5">06250</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStartPositionOffset = kStackFramesOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06251"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#aa114b54714631cf3068b62e3fee2498f">06251</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kEndPositionOffset = kStartPositionOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06252"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#ab27256e0a1d2d413a2d87163ff29efe3">06252</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kEndPositionOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06253"></a>06253 
<a name="l06254"></a>06254   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor</a>&lt;<a class="code" href="classv8_1_1internal_1_1_heap_object.html#a0c150f83dc5605634f591e84c8a8ce2a">HeapObject::kMapOffset</a>,
<a name="l06255"></a>06255                               kStackFramesOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>,
<a name="l06256"></a><a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#a3376424f5b249cefd2f910cde0bca8ba">06256</a>                               kSize&gt; <a class="code" href="classv8_1_1internal_1_1_j_s_message_object.html#a3376424f5b249cefd2f910cde0bca8ba">BodyDescriptor</a>;
<a name="l06257"></a>06257 };
<a name="l06258"></a>06258 
<a name="l06259"></a>06259 
<a name="l06260"></a>06260 <span class="comment">// Regular expressions</span>
<a name="l06261"></a>06261 <span class="comment">// The regular expression holds a single reference to a FixedArray in</span>
<a name="l06262"></a>06262 <span class="comment">// the kDataOffset field.</span>
<a name="l06263"></a>06263 <span class="comment">// The FixedArray contains the following data:</span>
<a name="l06264"></a>06264 <span class="comment">// - tag : type of regexp implementation (not compiled yet, atom or irregexp)</span>
<a name="l06265"></a>06265 <span class="comment">// - reference to the original source string</span>
<a name="l06266"></a>06266 <span class="comment">// - reference to the original flag string</span>
<a name="l06267"></a>06267 <span class="comment">// If it is an atom regexp</span>
<a name="l06268"></a>06268 <span class="comment">// - a reference to a literal string to search for</span>
<a name="l06269"></a>06269 <span class="comment">// If it is an irregexp regexp:</span>
<a name="l06270"></a>06270 <span class="comment">// - a reference to code for ASCII inputs (bytecode or compiled), or a smi</span>
<a name="l06271"></a>06271 <span class="comment">// used for tracking the last usage (used for code flushing).</span>
<a name="l06272"></a>06272 <span class="comment">// - a reference to code for UC16 inputs (bytecode or compiled), or a smi</span>
<a name="l06273"></a>06273 <span class="comment">// used for tracking the last usage (used for code flushing)..</span>
<a name="l06274"></a>06274 <span class="comment">// - max number of registers used by irregexp implementations.</span>
<a name="l06275"></a>06275 <span class="comment">// - number of capture registers (output values) of the regexp.</span>
<a name="l06276"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html">06276</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html">JSRegExp</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l06277"></a>06277  <span class="keyword">public</span>:
<a name="l06278"></a>06278   <span class="comment">// Meaning of Type:</span>
<a name="l06279"></a>06279   <span class="comment">// NOT_COMPILED: Initial value. No data has been stored in the JSRegExp yet.</span>
<a name="l06280"></a>06280   <span class="comment">// ATOM: A simple string to match against using an indexOf operation.</span>
<a name="l06281"></a>06281   <span class="comment">// IRREGEXP: Compiled with Irregexp.</span>
<a name="l06282"></a>06282   <span class="comment">// IRREGEXP_NATIVE: Compiled to native code with Irregexp.</span>
<a name="l06283"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a4f505066a55b1fa40937655595e04152">06283</a>   <span class="keyword">enum</span> Type { NOT_COMPILED, ATOM, IRREGEXP };
<a name="l06284"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a3fe304d5d9269091f2a4f33eee1af177a7c3f5f5abd6e8caa30083224385684a8">06284</a>   <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a3fe304d5d9269091f2a4f33eee1af177">Flag</a> { <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a> = 0, GLOBAL = 1, IGNORE_CASE = 2, MULTILINE = 4 };
<a name="l06285"></a>06285 
<a name="l06286"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html">06286</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html">Flags</a> {
<a name="l06287"></a>06287    <span class="keyword">public</span>:
<a name="l06288"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a643375d4a5b390c1196a2324487d359c">06288</a>     <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a643375d4a5b390c1196a2324487d359c">Flags</a>(uint32_t value) : value_(value) { }
<a name="l06289"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a0618425512d031751f66d70e5e140791">06289</a>     <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a0618425512d031751f66d70e5e140791">is_global</a>() { <span class="keywordflow">return</span> (value_ &amp; GLOBAL) != 0; }
<a name="l06290"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a098c9a6558b2a28eb164a52d9433bd83">06290</a>     <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a098c9a6558b2a28eb164a52d9433bd83">is_ignore_case</a>() { <span class="keywordflow">return</span> (value_ &amp; IGNORE_CASE) != 0; }
<a name="l06291"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#aa7f3a013c13044d99150a4b1abc54a05">06291</a>     <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#aa7f3a013c13044d99150a4b1abc54a05">is_multiline</a>() { <span class="keywordflow">return</span> (value_ &amp; MULTILINE) != 0; }
<a name="l06292"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a03dcf58bb44487aa3b1516be0ceaf4a8">06292</a>     uint32_t <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html#a03dcf58bb44487aa3b1516be0ceaf4a8">value</a>() { <span class="keywordflow">return</span> value_; }
<a name="l06293"></a>06293    <span class="keyword">private</span>:
<a name="l06294"></a>06294     uint32_t value_;
<a name="l06295"></a>06295   };
<a name="l06296"></a>06296 
<a name="l06297"></a>06297   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(data, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06298"></a>06298 
<a name="l06299"></a>06299   inline Type TypeTag();
<a name="l06300"></a>06300   inline <span class="keywordtype">int</span> CaptureCount();
<a name="l06301"></a>06301   inline Flags GetFlags();
<a name="l06302"></a>06302   inline <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* Pattern();
<a name="l06303"></a>06303   inline <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* DataAt(<span class="keywordtype">int</span> index);
<a name="l06304"></a>06304   <span class="comment">// Set implementation data after the object has been prepared.</span>
<a name="l06305"></a>06305   inline <span class="keywordtype">void</span> SetDataAt(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l06306"></a>06306 
<a name="l06307"></a>06307   <span class="comment">// Used during GC when flushing code or setting age.</span>
<a name="l06308"></a>06308   inline <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* DataAtUnchecked(<span class="keywordtype">int</span> index);
<a name="l06309"></a>06309   inline <span class="keywordtype">void</span> SetDataAtUnchecked(<span class="keywordtype">int</span> index, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value, <a class="code" href="classv8_1_1internal_1_1_heap.html">Heap</a>* heap);
<a name="l06310"></a>06310   inline Type TypeTagUnchecked();
<a name="l06311"></a>06311 
<a name="l06312"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#ab48b840200558d01466772e7e916f2d5">06312</a>   static <span class="keywordtype">int</span> code_index(<span class="keywordtype">bool</span> is_ascii) {
<a name="l06313"></a>06313     <span class="keywordflow">if</span> (is_ascii) {
<a name="l06314"></a>06314       <span class="keywordflow">return</span> kIrregexpASCIICodeIndex;
<a name="l06315"></a>06315     } <span class="keywordflow">else</span> {
<a name="l06316"></a>06316       <span class="keywordflow">return</span> kIrregexpUC16CodeIndex;
<a name="l06317"></a>06317     }
<a name="l06318"></a>06318   }
<a name="l06319"></a>06319 
<a name="l06320"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a2f6316a4a2c70d4ffff3cfa5b3ac8a93">06320</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a2f6316a4a2c70d4ffff3cfa5b3ac8a93">saved_code_index</a>(<span class="keywordtype">bool</span> is_ascii) {
<a name="l06321"></a>06321     <span class="keywordflow">if</span> (is_ascii) {
<a name="l06322"></a>06322       <span class="keywordflow">return</span> kIrregexpASCIICodeSavedIndex;
<a name="l06323"></a>06323     } <span class="keywordflow">else</span> {
<a name="l06324"></a>06324       <span class="keywordflow">return</span> kIrregexpUC16CodeSavedIndex;
<a name="l06325"></a>06325     }
<a name="l06326"></a>06326   }
<a name="l06327"></a>06327 
<a name="l06328"></a>06328   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html">JSRegExp</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06329"></a>06329 
<a name="l06330"></a>06330   <span class="comment">// Dispatched behavior.</span>
<a name="l06331"></a>06331 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l06332"></a>06332 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSRegExpVerify();
<a name="l06333"></a>06333 <span class="preprocessor">#endif</span>
<a name="l06334"></a>06334 <span class="preprocessor"></span>
<a name="l06335"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a7fb0f9c5fbcb09431c8d2eb6a24754f8">06335</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l06336"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a90b7c792009e3057465b57d833b24953">06336</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kDataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06337"></a>06337 
<a name="l06338"></a>06338   <span class="comment">// Indices in the data array.</span>
<a name="l06339"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a6b776416f183835b0c80536fb03d8c50">06339</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTagIndex = 0;
<a name="l06340"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a8829823bf0846b7e0e35f177a7073965">06340</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSourceIndex = kTagIndex + 1;
<a name="l06341"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a516810e52b83b427e6cce8933e9e0572">06341</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFlagsIndex = kSourceIndex + 1;
<a name="l06342"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#af16b2b10a9e6f1923103fe6bd46c48de">06342</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataIndex = kFlagsIndex + 1;
<a name="l06343"></a>06343   <span class="comment">// The data fields are used in different ways depending on the</span>
<a name="l06344"></a>06344   <span class="comment">// value of the tag.</span>
<a name="l06345"></a>06345   <span class="comment">// Atom regexps (literal strings).</span>
<a name="l06346"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a67adfd18de6fea50f6e492dfdc4b1b04">06346</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAtomPatternIndex = kDataIndex;
<a name="l06347"></a>06347 
<a name="l06348"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#ad68a24d05c9c76742bf98370f73ddde8">06348</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAtomDataSize = kAtomPatternIndex + 1;
<a name="l06349"></a>06349 
<a name="l06350"></a>06350   <span class="comment">// Irregexp compiled code or bytecode for ASCII. If compilation</span>
<a name="l06351"></a>06351   <span class="comment">// fails, this fields hold an exception object that should be</span>
<a name="l06352"></a>06352   <span class="comment">// thrown if the regexp is used again.</span>
<a name="l06353"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a6dc4a0aa6315ca324ac5f05b2dc4e3f8">06353</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIrregexpASCIICodeIndex = kDataIndex;
<a name="l06354"></a>06354   <span class="comment">// Irregexp compiled code or bytecode for UC16.  If compilation</span>
<a name="l06355"></a>06355   <span class="comment">// fails, this fields hold an exception object that should be</span>
<a name="l06356"></a>06356   <span class="comment">// thrown if the regexp is used again.</span>
<a name="l06357"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a624664cd30b9dae03165e951d9421831">06357</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIrregexpUC16CodeIndex = kDataIndex + 1;
<a name="l06358"></a>06358 
<a name="l06359"></a>06359   <span class="comment">// Saved instance of Irregexp compiled code or bytecode for ASCII that</span>
<a name="l06360"></a>06360   <span class="comment">// is a potential candidate for flushing.</span>
<a name="l06361"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a6fde0108d83608838ab321412c73f471">06361</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIrregexpASCIICodeSavedIndex = kDataIndex + 2;
<a name="l06362"></a>06362   <span class="comment">// Saved instance of Irregexp compiled code or bytecode for UC16 that is</span>
<a name="l06363"></a>06363   <span class="comment">// a potential candidate for flushing.</span>
<a name="l06364"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a09739e5fb05fad16b244502716b4a7a7">06364</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIrregexpUC16CodeSavedIndex = kDataIndex + 3;
<a name="l06365"></a>06365 
<a name="l06366"></a>06366   <span class="comment">// Maximal number of registers used by either ASCII or UC16.</span>
<a name="l06367"></a>06367   <span class="comment">// Only used to check that there is enough stack space</span>
<a name="l06368"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a6a3fe9d11dfd961544062fff4af53726">06368</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIrregexpMaxRegisterCountIndex = kDataIndex + 4;
<a name="l06369"></a>06369   <span class="comment">// Number of captures in the compiled regexp.</span>
<a name="l06370"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a0e2173e190617f634aed74000af8f412">06370</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIrregexpCaptureCountIndex = kDataIndex + 5;
<a name="l06371"></a>06371 
<a name="l06372"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#ab5b2b03b911c494d666b474d4e686233">06372</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIrregexpDataSize = kIrregexpCaptureCountIndex + 1;
<a name="l06373"></a>06373 
<a name="l06374"></a>06374   <span class="comment">// Offsets directly into the data fixed array.</span>
<a name="l06375"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a77317a79138a05743d0d3b2361243192">06375</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataTagOffset =
<a name="l06376"></a>06376       <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">FixedArray::kHeaderSize</a> + kTagIndex * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06377"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#ab7baf775761fe915954f2cb6bfbbae68">06377</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataAsciiCodeOffset =
<a name="l06378"></a>06378       <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">FixedArray::kHeaderSize</a> + kIrregexpASCIICodeIndex * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06379"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a949f4bc648cd6a11a8e0e01b5a4e9641">06379</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataUC16CodeOffset =
<a name="l06380"></a>06380       <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">FixedArray::kHeaderSize</a> + kIrregexpUC16CodeIndex * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06381"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a73f20a1f8eedfd27dad9c34fc2e24468">06381</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIrregexpCaptureCountOffset =
<a name="l06382"></a>06382       <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a9cdeef0942628b14b8ec523e8898b6d1">FixedArray::kHeaderSize</a> + kIrregexpCaptureCountIndex * <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06383"></a>06383 
<a name="l06384"></a>06384   <span class="comment">// In-object fields.</span>
<a name="l06385"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a03a9ac29c03e20399e2f7836440ad0b0">06385</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSourceFieldIndex = 0;
<a name="l06386"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a8a50035ff6f1913378c5d929504564c4">06386</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kGlobalFieldIndex = 1;
<a name="l06387"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#af1107ecaa8d57e2297aacc7d4da64aab">06387</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIgnoreCaseFieldIndex = 2;
<a name="l06388"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a0bad568d45f1fabe5bed27d750ec27db">06388</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMultilineFieldIndex = 3;
<a name="l06389"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#acbd49fd9b1fd11429c5e34bdfa8075a4">06389</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLastIndexFieldIndex = 4;
<a name="l06390"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#aa2a8207a8ea8c66ba8aaa6b55c5f0f92">06390</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInObjectFieldCount = 5;
<a name="l06391"></a>06391 
<a name="l06392"></a>06392   <span class="comment">// The uninitialized value for a regexp code object.</span>
<a name="l06393"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a0b4c665fbb52801f03a418dda10b8891">06393</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUninitializedValue = -1;
<a name="l06394"></a>06394 
<a name="l06395"></a>06395   <span class="comment">// The compilation error value for the regexp code object. The real error</span>
<a name="l06396"></a>06396   <span class="comment">// object is in the saved code field.</span>
<a name="l06397"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#a1eedcec275d583051a7904e68adf12b2">06397</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCompilationErrorValue = -2;
<a name="l06398"></a>06398 
<a name="l06399"></a>06399   <span class="comment">// When we store the sweep generation at which we moved the code from the</span>
<a name="l06400"></a>06400   <span class="comment">// code index to the saved code index we mask it of to be in the [0:255]</span>
<a name="l06401"></a>06401   <span class="comment">// range.</span>
<a name="l06402"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp.html#ae6261c435a2c70c96ab1ba11a6b5d51b">06402</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeAgeMask = 0xff;
<a name="l06403"></a>06403 };
<a name="l06404"></a>06404 
<a name="l06405"></a>06405 
<a name="l06406"></a><a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html">06406</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html">CompilationCacheShape</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html">BaseShape</a>&lt;HashTableKey*&gt; {
<a name="l06407"></a>06407  <span class="keyword">public</span>:
<a name="l06408"></a><a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#a613407fc3120722d21293dfe69f34521">06408</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#a613407fc3120722d21293dfe69f34521">IsMatch</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value) {
<a name="l06409"></a>06409     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a2ab80629572d6a06beea7d0f74cb5b20">IsMatch</a>(value);
<a name="l06410"></a>06410   }
<a name="l06411"></a>06411 
<a name="l06412"></a><a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#acf5dcd22e8ab7845ab33d4f0401bb312">06412</a>   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#acf5dcd22e8ab7845ab33d4f0401bb312">Hash</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key) {
<a name="l06413"></a>06413     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a28f8ad09c53eac2bd5888d48f376a949">Hash</a>();
<a name="l06414"></a>06414   }
<a name="l06415"></a>06415 
<a name="l06416"></a><a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#a92530449c3ec57237cc140519cb66130">06416</a>   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#a92530449c3ec57237cc140519cb66130">HashForObject</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>) {
<a name="l06417"></a>06417     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#ac2bd1e6c42749dcf182f9e9cf29b2ee2">HashForObject</a>(<span class="keywordtype">object</span>);
<a name="l06418"></a>06418   }
<a name="l06419"></a>06419 
<a name="l06420"></a><a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#a5472b61b2f77e2d6c0387eb7fae40eca">06420</a>   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#a5472b61b2f77e2d6c0387eb7fae40eca">AsObject</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key) {
<a name="l06421"></a>06421     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#acb34f79396d9e049d52d3b59ce4a363f">AsObject</a>();
<a name="l06422"></a>06422   }
<a name="l06423"></a>06423 
<a name="l06424"></a><a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#a2854205f345fada271ceb5dcc695cd05">06424</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPrefixSize = 0;
<a name="l06425"></a><a class="code" href="classv8_1_1internal_1_1_compilation_cache_shape.html#a9644cdffa86339e9b0e5694affd27a3b">06425</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kEntrySize = 2;
<a name="l06426"></a>06426 };
<a name="l06427"></a>06427 
<a name="l06428"></a>06428 
<a name="l06429"></a><a class="code" href="classv8_1_1internal_1_1_compilation_cache_table.html">06429</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_compilation_cache_table.html">CompilationCacheTable</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>&lt;CompilationCacheShape,
<a name="l06430"></a>06430                                               HashTableKey*&gt; {
<a name="l06431"></a>06431  <span class="keyword">public</span>:
<a name="l06432"></a>06432   <span class="comment">// Find cached value for a string key, otherwise return null.</span>
<a name="l06433"></a>06433   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_object.html#a662d778e77616328dfc4755ee6a285fe">Lookup</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* src);
<a name="l06434"></a>06434   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* LookupEval(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* src,
<a name="l06435"></a>06435                      <a class="code" href="classv8_1_1internal_1_1_context.html">Context</a>* context,
<a name="l06436"></a>06436                      <a class="code" href="namespacev8_1_1internal.html#a1ba33e2c27dbf4a22f26a28f80096e75">LanguageMode</a> language_mode,
<a name="l06437"></a>06437                      <span class="keywordtype">int</span> scope_position);
<a name="l06438"></a>06438   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* LookupRegExp(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* source, <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html">JSRegExp::Flags</a> <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l06439"></a>06439   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* Put(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* src, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l06440"></a>06440   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* PutEval(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* src,
<a name="l06441"></a>06441                                        <a class="code" href="classv8_1_1internal_1_1_context.html">Context</a>* context,
<a name="l06442"></a>06442                                        <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html">SharedFunctionInfo</a>* value,
<a name="l06443"></a>06443                                        <span class="keywordtype">int</span> scope_position);
<a name="l06444"></a>06444   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* PutRegExp(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* src,
<a name="l06445"></a>06445                                          <a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_1_1_flags.html">JSRegExp::Flags</a> flags,
<a name="l06446"></a>06446                                          <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>* value);
<a name="l06447"></a>06447 
<a name="l06448"></a>06448   <span class="comment">// Remove given value from cache.</span>
<a name="l06449"></a>06449   <span class="keywordtype">void</span> Remove(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l06450"></a>06450 
<a name="l06451"></a>06451   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_compilation_cache_table.html">CompilationCacheTable</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06452"></a>06452 
<a name="l06453"></a>06453  <span class="keyword">private</span>:
<a name="l06454"></a>06454   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_compilation_cache_table.html">CompilationCacheTable</a>);
<a name="l06455"></a>06455 };
<a name="l06456"></a>06456 
<a name="l06457"></a>06457 
<a name="l06458"></a><a class="code" href="classv8_1_1internal_1_1_code_cache.html">06458</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_cache.html">CodeCache</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l06459"></a>06459  <span class="keyword">public</span>:
<a name="l06460"></a>06460   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(default_cache, <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>)
<a name="l06461"></a>06461   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(normal_type_cache, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06462"></a>06462 
<a name="l06463"></a>06463   <span class="comment">// Add the code object to the cache.</span>
<a name="l06464"></a>06464   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* Update(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>);
<a name="l06465"></a>06465 
<a name="l06466"></a>06466   <span class="comment">// Lookup code object in the cache. Returns code object if found and undefined</span>
<a name="l06467"></a>06467   <span class="comment">// if not.</span>
<a name="l06468"></a>06468   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_object.html#a662d778e77616328dfc4755ee6a285fe">Lookup</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Code::Flags</a> <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l06469"></a>06469 
<a name="l06470"></a>06470   <span class="comment">// Get the internal index of a code object in the cache. Returns -1 if the</span>
<a name="l06471"></a>06471   <span class="comment">// code object is not in that cache. This index can be used to later call</span>
<a name="l06472"></a>06472   <span class="comment">// RemoveByIndex. The cache cannot be modified between a call to GetIndex and</span>
<a name="l06473"></a>06473   <span class="comment">// RemoveByIndex.</span>
<a name="l06474"></a>06474   <span class="keywordtype">int</span> GetIndex(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* code);
<a name="l06475"></a>06475 
<a name="l06476"></a>06476   <span class="comment">// Remove an object from the cache with the provided internal index.</span>
<a name="l06477"></a>06477   <span class="keywordtype">void</span> RemoveByIndex(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* code, <span class="keywordtype">int</span> index);
<a name="l06478"></a>06478 
<a name="l06479"></a>06479   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_code_cache.html">CodeCache</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06480"></a>06480 
<a name="l06481"></a>06481 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06482"></a>06482 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> CodeCachePrint() {
<a name="l06483"></a>06483     CodeCachePrint(stdout);
<a name="l06484"></a>06484   }
<a name="l06485"></a>06485   <span class="keywordtype">void</span> CodeCachePrint(FILE* out);
<a name="l06486"></a>06486 <span class="preprocessor">#endif</span>
<a name="l06487"></a>06487 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06488"></a>06488 <span class="preprocessor"></span>  <span class="keywordtype">void</span> CodeCacheVerify();
<a name="l06489"></a>06489 <span class="preprocessor">#endif</span>
<a name="l06490"></a>06490 <span class="preprocessor"></span>
<a name="l06491"></a><a class="code" href="classv8_1_1internal_1_1_code_cache.html#a2d041e5a845b96160078bd54e14cc133">06491</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDefaultCacheOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l06492"></a><a class="code" href="classv8_1_1internal_1_1_code_cache.html#ad3de5d24f972e67003a07d1a0848d37c">06492</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNormalTypeCacheOffset =
<a name="l06493"></a>06493       kDefaultCacheOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06494"></a><a class="code" href="classv8_1_1internal_1_1_code_cache.html#a2c42fa87808dacbb4e63f8c1e9222c28">06494</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kNormalTypeCacheOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06495"></a>06495 
<a name="l06496"></a>06496  <span class="keyword">private</span>:
<a name="l06497"></a>06497   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* UpdateDefaultCache(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* code);
<a name="l06498"></a>06498   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* UpdateNormalTypeCache(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* code);
<a name="l06499"></a>06499   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* LookupDefaultCache(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Code::Flags</a> flags);
<a name="l06500"></a>06500   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* LookupNormalTypeCache(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Code::Flags</a> flags);
<a name="l06501"></a>06501 
<a name="l06502"></a>06502   <span class="comment">// Code cache layout of the default cache. Elements are alternating name and</span>
<a name="l06503"></a>06503   <span class="comment">// code objects for non normal load/store/call IC&#39;s.</span>
<a name="l06504"></a>06504   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeCacheEntrySize = 2;
<a name="l06505"></a>06505   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeCacheEntryNameOffset = 0;
<a name="l06506"></a>06506   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodeCacheEntryCodeOffset = 1;
<a name="l06507"></a>06507 
<a name="l06508"></a>06508   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_code_cache.html">CodeCache</a>);
<a name="l06509"></a>06509 };
<a name="l06510"></a>06510 
<a name="l06511"></a>06511 
<a name="l06512"></a><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html">06512</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html">CodeCacheHashTableShape</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_base_shape.html">BaseShape</a>&lt;HashTableKey*&gt; {
<a name="l06513"></a>06513  <span class="keyword">public</span>:
<a name="l06514"></a><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#a65ae88e72ba1a36856b9e99e7bf598d0">06514</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#a65ae88e72ba1a36856b9e99e7bf598d0">IsMatch</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value) {
<a name="l06515"></a>06515     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a2ab80629572d6a06beea7d0f74cb5b20">IsMatch</a>(value);
<a name="l06516"></a>06516   }
<a name="l06517"></a>06517 
<a name="l06518"></a><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#a7493323254a2011e99d4d52fa4a97596">06518</a>   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#a7493323254a2011e99d4d52fa4a97596">Hash</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key) {
<a name="l06519"></a>06519     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#a28f8ad09c53eac2bd5888d48f376a949">Hash</a>();
<a name="l06520"></a>06520   }
<a name="l06521"></a>06521 
<a name="l06522"></a><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#aa80bc42c1326645e7e75d99e436c4f3c">06522</a>   <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#aa80bc42c1326645e7e75d99e436c4f3c">HashForObject</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <span class="keywordtype">object</span>) {
<a name="l06523"></a>06523     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#ac2bd1e6c42749dcf182f9e9cf29b2ee2">HashForObject</a>(<span class="keywordtype">object</span>);
<a name="l06524"></a>06524   }
<a name="l06525"></a>06525 
<a name="l06526"></a><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#ad499853b732e9ffda2100520183849e7">06526</a>   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">static</span> MaybeObject* <a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#ad499853b732e9ffda2100520183849e7">AsObject</a>(<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html">HashTableKey</a>* key) {
<a name="l06527"></a>06527     <span class="keywordflow">return</span> key-&gt;<a class="code" href="classv8_1_1internal_1_1_hash_table_key.html#acb34f79396d9e049d52d3b59ce4a363f">AsObject</a>();
<a name="l06528"></a>06528   }
<a name="l06529"></a>06529 
<a name="l06530"></a><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#aa2f11607e2661069e3d5c171ee31b67b">06530</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPrefixSize = 0;
<a name="l06531"></a><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table_shape.html#ae861890d81cead1a91253cd1f9e16dcc">06531</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kEntrySize = 2;
<a name="l06532"></a>06532 };
<a name="l06533"></a>06533 
<a name="l06534"></a>06534 
<a name="l06535"></a><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table.html">06535</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table.html">CodeCacheHashTable</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>&lt;CodeCacheHashTableShape,
<a name="l06536"></a>06536                                            HashTableKey*&gt; {
<a name="l06537"></a>06537  <span class="keyword">public</span>:
<a name="l06538"></a>06538   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_object.html#a662d778e77616328dfc4755ee6a285fe">Lookup</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Code::Flags</a> <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>);
<a name="l06539"></a>06539   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* Put(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>);
<a name="l06540"></a>06540 
<a name="l06541"></a>06541   <span class="keywordtype">int</span> GetIndex(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name, <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Code::Flags</a> flags);
<a name="l06542"></a>06542   <span class="keywordtype">void</span> RemoveByIndex(<span class="keywordtype">int</span> index);
<a name="l06543"></a>06543 
<a name="l06544"></a>06544   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table.html">CodeCacheHashTable</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06545"></a>06545 
<a name="l06546"></a>06546   <span class="comment">// Initial size of the fixed array backing the hash table.</span>
<a name="l06547"></a><a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table.html#a5b69b933f2a8fb5726b8bd88e309dadf">06547</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInitialSize = 64;
<a name="l06548"></a>06548 
<a name="l06549"></a>06549  <span class="keyword">private</span>:
<a name="l06550"></a>06550   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_code_cache_hash_table.html">CodeCacheHashTable</a>);
<a name="l06551"></a>06551 };
<a name="l06552"></a>06552 
<a name="l06553"></a>06553 
<a name="l06554"></a><a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache.html">06554</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache.html">PolymorphicCodeCache</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l06555"></a>06555  <span class="keyword">public</span>:
<a name="l06556"></a>06556   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(cache, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l06557"></a>06557 
<a name="l06558"></a>06558   <span class="keyword">static</span> <span class="keywordtype">void</span> Update(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;PolymorphicCodeCache&gt;</a> cache,
<a name="l06559"></a>06559                      <a class="code" href="classv8_1_1internal_1_1_list.html">MapHandleList</a>* maps,
<a name="l06560"></a>06560                      <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Code::Flags</a> <a class="code" href="namespacev8_1_1internal.html#a9b4b1c68517c9a42918bc7079187ec70">flags</a>,
<a name="l06561"></a>06561                      <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Code&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>);
<a name="l06562"></a>06562 
<a name="l06563"></a>06563   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* Update(<a class="code" href="classv8_1_1internal_1_1_list.html">MapHandleList</a>* maps,
<a name="l06564"></a>06564                                       <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Code::Flags</a> flags,
<a name="l06565"></a>06565                                       <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* code);
<a name="l06566"></a>06566 
<a name="l06567"></a>06567   <span class="comment">// Returns an undefined value if the entry is not found.</span>
<a name="l06568"></a>06568   <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1_object.html#a662d778e77616328dfc4755ee6a285fe">Lookup</a>(<a class="code" href="classv8_1_1internal_1_1_list.html">MapHandleList</a>* maps, <a class="code" href="classv8_1_1internal_1_1_code.html#a0bbeb0472b9eee1b2ffb9d03814e5110">Code::Flags</a> flags);
<a name="l06569"></a>06569 
<a name="l06570"></a>06570   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache.html">PolymorphicCodeCache</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06571"></a>06571 
<a name="l06572"></a>06572 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06573"></a>06573 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> PolymorphicCodeCachePrint() {
<a name="l06574"></a>06574     PolymorphicCodeCachePrint(stdout);
<a name="l06575"></a>06575   }
<a name="l06576"></a>06576   <span class="keywordtype">void</span> PolymorphicCodeCachePrint(FILE* out);
<a name="l06577"></a>06577 <span class="preprocessor">#endif</span>
<a name="l06578"></a>06578 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06579"></a>06579 <span class="preprocessor"></span>  <span class="keywordtype">void</span> PolymorphicCodeCacheVerify();
<a name="l06580"></a>06580 <span class="preprocessor">#endif</span>
<a name="l06581"></a>06581 <span class="preprocessor"></span>
<a name="l06582"></a><a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache.html#aea414cbcd476b3a9a2deae6daa1aae12">06582</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCacheOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l06583"></a><a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache.html#ab690080d950ca658e508934ce92145d3">06583</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kCacheOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06584"></a>06584 
<a name="l06585"></a>06585  <span class="keyword">private</span>:
<a name="l06586"></a>06586   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache.html">PolymorphicCodeCache</a>);
<a name="l06587"></a>06587 };
<a name="l06588"></a>06588 
<a name="l06589"></a>06589 
<a name="l06590"></a><a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache_hash_table.html">06590</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache_hash_table.html">PolymorphicCodeCacheHashTable</a>
<a name="l06591"></a>06591     : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_hash_table.html">HashTable</a>&lt;CodeCacheHashTableShape, HashTableKey*&gt; {
<a name="l06592"></a>06592  <span class="keyword">public</span>:
<a name="l06593"></a>06593   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* <a class="code" href="classv8_1_1internal_1_1_object.html#a662d778e77616328dfc4755ee6a285fe">Lookup</a>(<a class="code" href="classv8_1_1internal_1_1_list.html">MapHandleList</a>* maps, <span class="keywordtype">int</span> code_kind);
<a name="l06594"></a>06594 
<a name="l06595"></a>06595   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* Put(<a class="code" href="classv8_1_1internal_1_1_list.html">MapHandleList</a>* maps,
<a name="l06596"></a>06596                                    <span class="keywordtype">int</span> code_kind,
<a name="l06597"></a>06597                                    <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>* <a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>);
<a name="l06598"></a>06598 
<a name="l06599"></a>06599   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache_hash_table.html">PolymorphicCodeCacheHashTable</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06600"></a>06600 
<a name="l06601"></a><a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache_hash_table.html#ae343fb7cd202b78eeed682d1153ecf9f">06601</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInitialSize = 64;
<a name="l06602"></a>06602  <span class="keyword">private</span>:
<a name="l06603"></a>06603   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_polymorphic_code_cache_hash_table.html">PolymorphicCodeCacheHashTable</a>);
<a name="l06604"></a>06604 };
<a name="l06605"></a>06605 
<a name="l06606"></a>06606 
<a name="l06607"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_info.html">06607</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_type_feedback_info.html">TypeFeedbackInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l06608"></a>06608  <span class="keyword">public</span>:
<a name="l06609"></a>06609   <span class="keyword">inline</span> <span class="keywordtype">int</span> ic_total_count();
<a name="l06610"></a>06610   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_ic_total_count(<span class="keywordtype">int</span> count);
<a name="l06611"></a>06611 
<a name="l06612"></a>06612   <span class="keyword">inline</span> <span class="keywordtype">int</span> ic_with_type_info_count();
<a name="l06613"></a>06613   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_ic_with_type_info_count(<span class="keywordtype">int</span> count);
<a name="l06614"></a>06614 
<a name="l06615"></a>06615   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a24e71accd81450b323aef84affe21cb8">type_feedback_cells</a>, <a class="code" href="classv8_1_1internal_1_1_type_feedback_cells.html">TypeFeedbackCells</a>)
<a name="l06616"></a>06616 
<a name="l06617"></a>06617   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_type_feedback_info.html">TypeFeedbackInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06618"></a>06618 
<a name="l06619"></a>06619 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06620"></a>06620 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> TypeFeedbackInfoPrint() {
<a name="l06621"></a>06621     TypeFeedbackInfoPrint(stdout);
<a name="l06622"></a>06622   }
<a name="l06623"></a>06623   <span class="keywordtype">void</span> TypeFeedbackInfoPrint(FILE* out);
<a name="l06624"></a>06624 <span class="preprocessor">#endif</span>
<a name="l06625"></a>06625 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06626"></a>06626 <span class="preprocessor"></span>  <span class="keywordtype">void</span> TypeFeedbackInfoVerify();
<a name="l06627"></a>06627 <span class="preprocessor">#endif</span>
<a name="l06628"></a>06628 <span class="preprocessor"></span>
<a name="l06629"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_info.html#af3b20ab342a84a984ab9f7828f6135f9">06629</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIcTotalCountOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l06630"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_info.html#ac56310a7141279d5568cbda54aec00af">06630</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIcWithTypeinfoCountOffset =
<a name="l06631"></a>06631       kIcTotalCountOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06632"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_info.html#a624bd95e5ade466a94ca889338007c7f">06632</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTypeFeedbackCellsOffset =
<a name="l06633"></a>06633       kIcWithTypeinfoCountOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06634"></a><a class="code" href="classv8_1_1internal_1_1_type_feedback_info.html#ace41df54997c2e68abc74b33d39fb4d5">06634</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kTypeFeedbackCellsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06635"></a>06635 
<a name="l06636"></a>06636  <span class="keyword">private</span>:
<a name="l06637"></a>06637   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_type_feedback_info.html">TypeFeedbackInfo</a>);
<a name="l06638"></a>06638 };
<a name="l06639"></a>06639 
<a name="l06640"></a>06640 
<a name="l06641"></a>06641 <span class="comment">// Representation of a slow alias as part of a non-strict arguments objects.</span>
<a name="l06642"></a>06642 <span class="comment">// For fast aliases (if HasNonStrictArgumentsElements()):</span>
<a name="l06643"></a>06643 <span class="comment">// - the parameter map contains an index into the context</span>
<a name="l06644"></a>06644 <span class="comment">// - all attributes of the element have default values</span>
<a name="l06645"></a>06645 <span class="comment">// For slow aliases (if HasDictionaryArgumentsElements()):</span>
<a name="l06646"></a>06646 <span class="comment">// - the parameter map contains no fast alias mapping (i.e. the hole)</span>
<a name="l06647"></a>06647 <span class="comment">// - this struct (in the slow backing store) contains an index into the context</span>
<a name="l06648"></a>06648 <span class="comment">// - all attributes are available as part if the property details</span>
<a name="l06649"></a><a class="code" href="classv8_1_1internal_1_1_aliased_arguments_entry.html">06649</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_aliased_arguments_entry.html">AliasedArgumentsEntry</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l06650"></a>06650  <span class="keyword">public</span>:
<a name="l06651"></a>06651   <span class="keyword">inline</span> <span class="keywordtype">int</span> aliased_context_slot();
<a name="l06652"></a>06652   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_aliased_context_slot(<span class="keywordtype">int</span> count);
<a name="l06653"></a>06653 
<a name="l06654"></a>06654   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_aliased_arguments_entry.html">AliasedArgumentsEntry</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06655"></a>06655 
<a name="l06656"></a>06656 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06657"></a>06657 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> AliasedArgumentsEntryPrint() {
<a name="l06658"></a>06658     AliasedArgumentsEntryPrint(stdout);
<a name="l06659"></a>06659   }
<a name="l06660"></a>06660   <span class="keywordtype">void</span> AliasedArgumentsEntryPrint(FILE* out);
<a name="l06661"></a>06661 <span class="preprocessor">#endif</span>
<a name="l06662"></a>06662 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06663"></a>06663 <span class="preprocessor"></span>  <span class="keywordtype">void</span> AliasedArgumentsEntryVerify();
<a name="l06664"></a>06664 <span class="preprocessor">#endif</span>
<a name="l06665"></a>06665 <span class="preprocessor"></span>
<a name="l06666"></a><a class="code" href="classv8_1_1internal_1_1_aliased_arguments_entry.html#a176665f23529fbe29ad19856967a7ee7">06666</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAliasedContextSlot = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l06667"></a><a class="code" href="classv8_1_1internal_1_1_aliased_arguments_entry.html#ad9980e02f526db5b9f4e095848a2d325">06667</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kAliasedContextSlot + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l06668"></a>06668 
<a name="l06669"></a>06669  <span class="keyword">private</span>:
<a name="l06670"></a>06670   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_aliased_arguments_entry.html">AliasedArgumentsEntry</a>);
<a name="l06671"></a>06671 };
<a name="l06672"></a>06672 
<a name="l06673"></a>06673 
<a name="l06674"></a><a class="code" href="namespacev8_1_1internal.html#a46677f0f1a73205a74543062187e3330ad35eb4b1026bc005ab10363fe61b867f">06674</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a46677f0f1a73205a74543062187e3330">AllowNullsFlag</a> {<a class="code" href="namespacev8_1_1internal.html#a46677f0f1a73205a74543062187e3330a38e484cefc7c736a6cb332e5d32411b2">ALLOW_NULLS</a>, <a class="code" href="namespacev8_1_1internal.html#a46677f0f1a73205a74543062187e3330ad35eb4b1026bc005ab10363fe61b867f">DISALLOW_NULLS</a>};
<a name="l06675"></a><a class="code" href="namespacev8_1_1internal.html#a690f19bdfa0d8fc60e0975d5b7cc395b">06675</a> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal.html#a690f19bdfa0d8fc60e0975d5b7cc395b">RobustnessFlag</a> {<a class="code" href="namespacev8_1_1internal.html#a690f19bdfa0d8fc60e0975d5b7cc395bad603b37d7e02b23a9ef809586a315a40">ROBUST_STRING_TRAVERSAL</a>, <a class="code" href="namespacev8_1_1internal.html#a690f19bdfa0d8fc60e0975d5b7cc395ba7d1917410058470aaef29f4bdec1197b">FAST_STRING_TRAVERSAL</a>};
<a name="l06676"></a>06676 
<a name="l06677"></a>06677 
<a name="l06678"></a><a class="code" href="classv8_1_1internal_1_1_string_hasher.html">06678</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_string_hasher.html">StringHasher</a> {
<a name="l06679"></a>06679  <span class="keyword">public</span>:
<a name="l06680"></a>06680   <span class="keyword">explicit</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string_hasher.html">StringHasher</a>(<span class="keywordtype">int</span> length, uint32_t <a class="code" href="test-strings_8cc.html#ae21f357c223957d36046a0d71cc6aed7">seed</a>);
<a name="l06681"></a>06681 
<a name="l06682"></a>06682   <span class="comment">// Returns true if the hash of this string can be computed without</span>
<a name="l06683"></a>06683   <span class="comment">// looking at the contents.</span>
<a name="l06684"></a>06684   <span class="keyword">inline</span> <span class="keywordtype">bool</span> has_trivial_hash();
<a name="l06685"></a>06685 
<a name="l06686"></a>06686   <span class="comment">// Add a character to the hash and update the array index calculation.</span>
<a name="l06687"></a>06687   <span class="keyword">inline</span> <span class="keywordtype">void</span> AddCharacter(uint32_t c);
<a name="l06688"></a>06688 
<a name="l06689"></a>06689   <span class="comment">// Adds a character to the hash but does not update the array index</span>
<a name="l06690"></a>06690   <span class="comment">// calculation.  This can only be called when it has been verified</span>
<a name="l06691"></a>06691   <span class="comment">// that the input is not an array index.</span>
<a name="l06692"></a>06692   <span class="keyword">inline</span> <span class="keywordtype">void</span> AddCharacterNoIndex(uint32_t c);
<a name="l06693"></a>06693 
<a name="l06694"></a>06694   <span class="comment">// Add a character above 0xffff as a surrogate pair.  These can get into</span>
<a name="l06695"></a>06695   <span class="comment">// the hasher through the routines that take a UTF-8 string and make a symbol.</span>
<a name="l06696"></a>06696   <span class="keywordtype">void</span> AddSurrogatePair(<a class="code" href="namespacev8_1_1internal.html#ad9a86f8b73c0a5aadb7bb23da923de7e">uc32</a> c);
<a name="l06697"></a>06697   <span class="keywordtype">void</span> AddSurrogatePairNoIndex(<a class="code" href="namespacev8_1_1internal.html#ad9a86f8b73c0a5aadb7bb23da923de7e">uc32</a> c);
<a name="l06698"></a>06698 
<a name="l06699"></a>06699   <span class="comment">// Returns the value to store in the hash field of a string with</span>
<a name="l06700"></a>06700   <span class="comment">// the given length and contents.</span>
<a name="l06701"></a>06701   uint32_t GetHashField();
<a name="l06702"></a>06702 
<a name="l06703"></a>06703   <span class="comment">// Returns true if the characters seen so far make up a legal array</span>
<a name="l06704"></a>06704   <span class="comment">// index.</span>
<a name="l06705"></a><a class="code" href="classv8_1_1internal_1_1_string_hasher.html#a420298f8e47ea7472ecc44824a428aba">06705</a>   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string_hasher.html#a420298f8e47ea7472ecc44824a428aba">is_array_index</a>() { <span class="keywordflow">return</span> is_array_index_; }
<a name="l06706"></a>06706 
<a name="l06707"></a><a class="code" href="classv8_1_1internal_1_1_string_hasher.html#a767ec964d98a0ecf930ba5f26425ff19">06707</a>   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string_hasher.html#a767ec964d98a0ecf930ba5f26425ff19">is_valid</a>() { <span class="keywordflow">return</span> is_valid_; }
<a name="l06708"></a>06708 
<a name="l06709"></a><a class="code" href="classv8_1_1internal_1_1_string_hasher.html#ab9df5c058495736a1c3094f78b620b59">06709</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_string_hasher.html#ab9df5c058495736a1c3094f78b620b59">invalidate</a>() { is_valid_ = <span class="keyword">false</span>; }
<a name="l06710"></a>06710 
<a name="l06711"></a>06711   <span class="comment">// Calculated hash value for a string consisting of 1 to</span>
<a name="l06712"></a>06712   <span class="comment">// String::kMaxArrayIndexSize digits with no leading zeros (except &quot;0&quot;).</span>
<a name="l06713"></a>06713   <span class="comment">// value is represented decimal value.</span>
<a name="l06714"></a>06714   <span class="keyword">static</span> uint32_t MakeArrayIndexHash(uint32_t value, <span class="keywordtype">int</span> length);
<a name="l06715"></a>06715 
<a name="l06716"></a>06716   <span class="comment">// No string is allowed to have a hash of zero.  That value is reserved</span>
<a name="l06717"></a>06717   <span class="comment">// for internal properties.  If the hash calculation yields zero then we</span>
<a name="l06718"></a>06718   <span class="comment">// use 27 instead.</span>
<a name="l06719"></a><a class="code" href="classv8_1_1internal_1_1_string_hasher.html#ae0e5f2b5dc2ba3f181591f7b63f9149b">06719</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kZeroHash = 27;
<a name="l06720"></a>06720 
<a name="l06721"></a>06721  <span class="keyword">private</span>:
<a name="l06722"></a>06722   uint32_t array_index() {
<a name="l06723"></a>06723     <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(is_array_index());
<a name="l06724"></a>06724     <span class="keywordflow">return</span> array_index_;
<a name="l06725"></a>06725   }
<a name="l06726"></a>06726 
<a name="l06727"></a>06727   <span class="keyword">inline</span> uint32_t <a class="code" href="classv8_1_1internal_1_1_object.html#a681c027546e2e264d245ae7d79346416">GetHash</a>();
<a name="l06728"></a>06728 
<a name="l06729"></a>06729   <span class="keywordtype">int</span> length_;
<a name="l06730"></a>06730   uint32_t raw_running_hash_;
<a name="l06731"></a>06731   uint32_t array_index_;
<a name="l06732"></a>06732   <span class="keywordtype">bool</span> is_array_index_;
<a name="l06733"></a>06733   <span class="keywordtype">bool</span> is_first_char_;
<a name="l06734"></a>06734   <span class="keywordtype">bool</span> is_valid_;
<a name="l06735"></a><a class="code" href="classv8_1_1internal_1_1_string_hasher.html#ab4181efd1033fda11396062631649faf">06735</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_two_char_hash_table_key.html">TwoCharHashTableKey</a>;
<a name="l06736"></a>06736 };
<a name="l06737"></a>06737 
<a name="l06738"></a>06738 
<a name="l06739"></a>06739 <span class="comment">// Calculates string hash.</span>
<a name="l06740"></a>06740 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> s<span class="keywordtype">char</span>&gt;
<a name="l06741"></a>06741 <span class="keyword">inline</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#a18a877e52c5b15ca9d3f03b915f6f35e">HashSequentialString</a>(<span class="keyword">const</span> schar* chars,
<a name="l06742"></a>06742                                      <span class="keywordtype">int</span> length,
<a name="l06743"></a>06743                                      uint32_t <a class="code" href="test-strings_8cc.html#ae21f357c223957d36046a0d71cc6aed7">seed</a>);
<a name="l06744"></a>06744 
<a name="l06745"></a>06745 
<a name="l06746"></a>06746 <span class="comment">// The characteristics of a string are stored in its map.  Retrieving these</span>
<a name="l06747"></a>06747 <span class="comment">// few bits of information is moderately expensive, involving two memory</span>
<a name="l06748"></a>06748 <span class="comment">// loads where the second is dependent on the first.  To improve efficiency</span>
<a name="l06749"></a>06749 <span class="comment">// the shape of the string is given its own class so that it can be retrieved</span>
<a name="l06750"></a>06750 <span class="comment">// once and used for several string operations.  A StringShape is small enough</span>
<a name="l06751"></a>06751 <span class="comment">// to be passed by value and is immutable, but be aware that flattening a</span>
<a name="l06752"></a>06752 <span class="comment">// string can potentially alter its shape.  Also be aware that a GC caused by</span>
<a name="l06753"></a>06753 <span class="comment">// something else can alter the shape of a string due to ConsString</span>
<a name="l06754"></a>06754 <span class="comment">// shortcutting.  Keeping these restrictions in mind has proven to be error-</span>
<a name="l06755"></a>06755 <span class="comment">// prone and so we no longer put StringShapes in variables unless there is a</span>
<a name="l06756"></a>06756 <span class="comment">// concrete performance benefit at that particular point in the code.</span>
<a name="l06757"></a>06757 <span class="keyword">class </span>StringShape <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html">BASE_EMBEDDED</a> {
<a name="l06758"></a>06758  <span class="keyword">public</span>:
<a name="l06759"></a>06759   <span class="keyword">inline</span> <span class="keyword">explicit</span> StringShape(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* s);
<a name="l06760"></a>06760   <span class="keyword">inline</span> <span class="keyword">explicit</span> StringShape(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* s);
<a name="l06761"></a>06761   <span class="keyword">inline</span> <span class="keyword">explicit</span> StringShape(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9b">InstanceType</a> t);
<a name="l06762"></a>06762   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsSequential();
<a name="l06763"></a>06763   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsExternal();
<a name="l06764"></a>06764   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsCons();
<a name="l06765"></a>06765   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsSliced();
<a name="l06766"></a>06766   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsIndirect();
<a name="l06767"></a>06767   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsExternalAscii();
<a name="l06768"></a>06768   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsExternalTwoByte();
<a name="l06769"></a>06769   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsSequentialAscii();
<a name="l06770"></a>06770   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsSequentialTwoByte();
<a name="l06771"></a>06771   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsSymbol();
<a name="l06772"></a>06772   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3">StringRepresentationTag</a> representation_tag();
<a name="l06773"></a>06773   <span class="keyword">inline</span> uint32_t encoding_tag();
<a name="l06774"></a>06774   <span class="keyword">inline</span> uint32_t full_representation_tag();
<a name="l06775"></a>06775   <span class="keyword">inline</span> uint32_t size_tag();
<a name="l06776"></a>06776 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l06777"></a>06777 <span class="preprocessor"></span>  <span class="keyword">inline</span> uint32_t <a class="code" href="namespacev8_1_1internal.html#af325044478c719d86be7dc7a017f250a">type</a>() { <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#af6a7fd6561b7b6a736ce8e1e3ab4bd45">type_</a>; }
<a name="l06778"></a>06778   <span class="keyword">inline</span> <span class="keywordtype">void</span> invalidate() { valid_ = <span class="keyword">false</span>; }
<a name="l06779"></a>06779   <span class="keyword">inline</span> <span class="keywordtype">bool</span> valid() { <span class="keywordflow">return</span> valid_; }
<a name="l06780"></a>06780 <span class="preprocessor">#else</span>
<a name="l06781"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#accd99bb892ef538cac67bb49acc9ef9e">06781</a> <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#accd99bb892ef538cac67bb49acc9ef9e">invalidate</a>() { }
<a name="l06782"></a>06782 <span class="preprocessor">#endif</span>
<a name="l06783"></a>06783 <span class="preprocessor"></span>
<a name="l06784"></a>06784  <span class="keyword">private</span>:
<a name="l06785"></a>06785   uint32_t <a class="code" href="namespacev8_1_1internal.html#af6a7fd6561b7b6a736ce8e1e3ab4bd45">type_</a>;
<a name="l06786"></a>06786 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l06787"></a>06787 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> set_valid() { valid_ = <span class="keyword">true</span>; }
<a name="l06788"></a>06788   <span class="keywordtype">bool</span> valid_;
<a name="l06789"></a>06789 <span class="preprocessor">#else</span>
<a name="l06790"></a>06790 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> set_valid() { }
<a name="l06791"></a>06791 <span class="preprocessor">#endif</span>
<a name="l06792"></a>06792 <span class="preprocessor"></span>};
<a name="l06793"></a>06793 
<a name="l06794"></a>06794 
<a name="l06795"></a>06795 <span class="comment">// The String abstract class captures JavaScript string values:</span>
<a name="l06796"></a>06796 <span class="comment">//</span>
<a name="l06797"></a>06797 <span class="comment">// Ecma-262:</span>
<a name="l06798"></a>06798 <span class="comment">//  4.3.16 String Value</span>
<a name="l06799"></a>06799 <span class="comment">//    A string value is a member of the type String and is a finite</span>
<a name="l06800"></a>06800 <span class="comment">//    ordered sequence of zero or more 16-bit unsigned integer values.</span>
<a name="l06801"></a>06801 <span class="comment">//</span>
<a name="l06802"></a>06802 <span class="comment">// All string values have a length field.</span>
<a name="l06803"></a><a class="code" href="classv8_1_1internal_1_1_string.html">06803</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_string.html">String</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l06804"></a>06804  <span class="keyword">public</span>:
<a name="l06805"></a>06805   <span class="comment">// Representation of the flat content of a String.</span>
<a name="l06806"></a>06806   <span class="comment">// A non-flat string doesn&#39;t have flat content.</span>
<a name="l06807"></a>06807   <span class="comment">// A flat string has content that&#39;s encoded as a sequence of either</span>
<a name="l06808"></a>06808   <span class="comment">// ASCII chars or two-byte UC16.</span>
<a name="l06809"></a>06809   <span class="comment">// Returned by String::GetFlatContent().</span>
<a name="l06810"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html">06810</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html">FlatContent</a> {
<a name="l06811"></a>06811    <span class="keyword">public</span>:
<a name="l06812"></a>06812     <span class="comment">// Returns true if the string is flat and this structure contains content.</span>
<a name="l06813"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#a75210c93d9fcaeaa1a8862d34feef81d">06813</a>     <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#a75210c93d9fcaeaa1a8862d34feef81d">IsFlat</a>() { <span class="keywordflow">return</span> state_ != NON_FLAT; }
<a name="l06814"></a>06814     <span class="comment">// Returns true if the structure contains ASCII content.</span>
<a name="l06815"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#aa353bf17c30bfdb658d6b2dc0ec8682f">06815</a>     <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#aa353bf17c30bfdb658d6b2dc0ec8682f">IsAscii</a>() { <span class="keywordflow">return</span> state_ == ASCII; }
<a name="l06816"></a>06816     <span class="comment">// Returns true if the structure contains two-byte content.</span>
<a name="l06817"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#aca97c9ba0b87f12920bce7d70dc533a3">06817</a>     <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#aca97c9ba0b87f12920bce7d70dc533a3">IsTwoByte</a>() { <span class="keywordflow">return</span> state_ == TWO_BYTE; }
<a name="l06818"></a>06818 
<a name="l06819"></a>06819     <span class="comment">// Return the ASCII content of the string. Only use if IsAscii() returns</span>
<a name="l06820"></a>06820     <span class="comment">// true.</span>
<a name="l06821"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#ac8680284c1fc726a9af893c12c74ebcc">06821</a>     <a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const char&gt;</a> <a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#ac8680284c1fc726a9af893c12c74ebcc">ToAsciiVector</a>() {
<a name="l06822"></a>06822       <a class="code" href="checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(ASCII, state_);
<a name="l06823"></a>06823       <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">Vector&lt;const char&gt;::cast</a>(<a class="code" href="v8conversions_8cc.html#abaa947ae4ec386dbfc4be8d21ffbd5ec">buffer_</a>);
<a name="l06824"></a>06824     }
<a name="l06825"></a>06825     <span class="comment">// Return the two-byte content of the string. Only use if IsTwoByte()</span>
<a name="l06826"></a>06826     <span class="comment">// returns true.</span>
<a name="l06827"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#ab3025edb4da7c559232dc5541fc209c5">06827</a>     <a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const uc16&gt;</a> <a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#ab3025edb4da7c559232dc5541fc209c5">ToUC16Vector</a>() {
<a name="l06828"></a>06828       <a class="code" href="checks_8h.html#a9f578a62e6cedf3f56577f294abe2713">ASSERT_EQ</a>(TWO_BYTE, state_);
<a name="l06829"></a>06829       <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">Vector&lt;const uc16&gt;::cast</a>(<a class="code" href="v8conversions_8cc.html#abaa947ae4ec386dbfc4be8d21ffbd5ec">buffer_</a>);
<a name="l06830"></a>06830     }
<a name="l06831"></a>06831 
<a name="l06832"></a>06832    <span class="keyword">private</span>:
<a name="l06833"></a>06833     <span class="keyword">enum</span> State { NON_FLAT, ASCII, TWO_BYTE };
<a name="l06834"></a>06834 
<a name="l06835"></a>06835     <span class="comment">// Constructors only used by String::GetFlatContent().</span>
<a name="l06836"></a>06836     <span class="keyword">explicit</span> FlatContent(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const char&gt;</a> chars)
<a name="l06837"></a>06837         : <a class="code" href="v8conversions_8cc.html#abaa947ae4ec386dbfc4be8d21ffbd5ec">buffer_</a>(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector</a>&lt;const <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a>&gt;::cast(chars)),
<a name="l06838"></a>06838           state_(ASCII) { }
<a name="l06839"></a>06839     <span class="keyword">explicit</span> FlatContent(Vector&lt;const uc16&gt; chars)
<a name="l06840"></a>06840         : <a class="code" href="v8conversions_8cc.html#abaa947ae4ec386dbfc4be8d21ffbd5ec">buffer_</a>(Vector&lt;const <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a>&gt;::cast(chars)),
<a name="l06841"></a>06841           state_(TWO_BYTE) { }
<a name="l06842"></a>06842     FlatContent() : <a class="code" href="v8conversions_8cc.html#abaa947ae4ec386dbfc4be8d21ffbd5ec">buffer_</a>(), state_(NON_FLAT) { }
<a name="l06843"></a>06843 
<a name="l06844"></a>06844     Vector&lt;const byte&gt; <a class="code" href="v8conversions_8cc.html#abaa947ae4ec386dbfc4be8d21ffbd5ec">buffer_</a>;
<a name="l06845"></a>06845     State state_;
<a name="l06846"></a>06846 
<a name="l06847"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html#a7fb804f7dc96dd9f705c84095f37f1ca">06847</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_string.html">String</a>;
<a name="l06848"></a>06848   };
<a name="l06849"></a>06849 
<a name="l06850"></a>06850   <span class="comment">// Get and set the length of the string.</span>
<a name="l06851"></a>06851   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>();
<a name="l06852"></a>06852   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a67b8eea4413f1651bfe1a8b4c74f53d1">set_length</a>(<span class="keywordtype">int</span> value);
<a name="l06853"></a>06853 
<a name="l06854"></a>06854   <span class="comment">// Get and set the hash field of the string.</span>
<a name="l06855"></a>06855   <span class="keyword">inline</span> uint32_t hash_field();
<a name="l06856"></a>06856   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_hash_field(uint32_t value);
<a name="l06857"></a>06857 
<a name="l06858"></a>06858   <span class="comment">// Returns whether this string has only ASCII chars, i.e. all of them can</span>
<a name="l06859"></a>06859   <span class="comment">// be ASCII encoded.  This might be the case even if the string is</span>
<a name="l06860"></a>06860   <span class="comment">// two-byte.  Such strings may appear when the embedder prefers</span>
<a name="l06861"></a>06861   <span class="comment">// two-byte external representations even for ASCII data.</span>
<a name="l06862"></a>06862   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsAsciiRepresentation();
<a name="l06863"></a>06863   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsTwoByteRepresentation();
<a name="l06864"></a>06864 
<a name="l06865"></a>06865   <span class="comment">// Cons and slices have an encoding flag that may not represent the actual</span>
<a name="l06866"></a>06866   <span class="comment">// encoding of the underlying string.  This is taken into account here.</span>
<a name="l06867"></a>06867   <span class="comment">// Requires: this-&gt;IsFlat()</span>
<a name="l06868"></a>06868   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsAsciiRepresentationUnderneath();
<a name="l06869"></a>06869   <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsTwoByteRepresentationUnderneath();
<a name="l06870"></a>06870 
<a name="l06871"></a>06871   <span class="comment">// NOTE: this should be considered only a hint.  False negatives are</span>
<a name="l06872"></a>06872   <span class="comment">// possible.</span>
<a name="l06873"></a>06873   <span class="keyword">inline</span> <span class="keywordtype">bool</span> HasOnlyAsciiChars();
<a name="l06874"></a>06874 
<a name="l06875"></a>06875   <span class="comment">// Get and set individual two byte chars in the string.</span>
<a name="l06876"></a>06876   <span class="keyword">inline</span> <span class="keywordtype">void</span> Set(<span class="keywordtype">int</span> index, <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> value);
<a name="l06877"></a>06877   <span class="comment">// Get individual two byte char in the string.  Repeated calls</span>
<a name="l06878"></a>06878   <span class="comment">// to this method are not efficient unless the string is flat.</span>
<a name="l06879"></a>06879   <span class="keyword">inline</span> <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> Get(<span class="keywordtype">int</span> index);
<a name="l06880"></a>06880 
<a name="l06881"></a>06881   <span class="comment">// Try to flatten the string.  Checks first inline to see if it is</span>
<a name="l06882"></a>06882   <span class="comment">// necessary.  Does nothing if the string is not a cons string.</span>
<a name="l06883"></a>06883   <span class="comment">// Flattening allocates a sequential string with the same data as</span>
<a name="l06884"></a>06884   <span class="comment">// the given string and mutates the cons string to a degenerate</span>
<a name="l06885"></a>06885   <span class="comment">// form, where the first component is the new sequential string and</span>
<a name="l06886"></a>06886   <span class="comment">// the second component is the empty string.  If allocation fails,</span>
<a name="l06887"></a>06887   <span class="comment">// this function returns a failure.  If flattening succeeds, this</span>
<a name="l06888"></a>06888   <span class="comment">// function returns the sequential string that is now the first</span>
<a name="l06889"></a>06889   <span class="comment">// component of the cons string.</span>
<a name="l06890"></a>06890   <span class="comment">//</span>
<a name="l06891"></a>06891   <span class="comment">// Degenerate cons strings are handled specially by the garbage</span>
<a name="l06892"></a>06892   <span class="comment">// collector (see IsShortcutCandidate).</span>
<a name="l06893"></a>06893   <span class="comment">//</span>
<a name="l06894"></a>06894   <span class="comment">// Use FlattenString from Handles.cc to flatten even in case an</span>
<a name="l06895"></a>06895   <span class="comment">// allocation failure happens.</span>
<a name="l06896"></a>06896   <span class="keyword">inline</span> MaybeObject* TryFlatten(<a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8">PretenureFlag</a> pretenure = <a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8ad832954c9b9b14ec2859d74a80f4069a">NOT_TENURED</a>);
<a name="l06897"></a>06897 
<a name="l06898"></a>06898   <span class="comment">// Convenience function.  Has exactly the same behavior as</span>
<a name="l06899"></a>06899   <span class="comment">// TryFlatten(), except in the case of failure returns the original</span>
<a name="l06900"></a>06900   <span class="comment">// string.</span>
<a name="l06901"></a>06901   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* TryFlattenGetString(<a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8">PretenureFlag</a> pretenure = <a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8ad832954c9b9b14ec2859d74a80f4069a">NOT_TENURED</a>);
<a name="l06902"></a>06902 
<a name="l06903"></a>06903   <span class="comment">// Tries to return the content of a flat string as a structure holding either</span>
<a name="l06904"></a>06904   <span class="comment">// a flat vector of char or of uc16.</span>
<a name="l06905"></a>06905   <span class="comment">// If the string isn&#39;t flat, and therefore doesn&#39;t have flat content, the</span>
<a name="l06906"></a>06906   <span class="comment">// returned structure will report so, and can&#39;t provide a vector of either</span>
<a name="l06907"></a>06907   <span class="comment">// kind.</span>
<a name="l06908"></a>06908   <a class="code" href="classv8_1_1internal_1_1_string_1_1_flat_content.html">FlatContent</a> GetFlatContent();
<a name="l06909"></a>06909 
<a name="l06910"></a>06910   <span class="comment">// Returns the parent of a sliced string or first part of a flat cons string.</span>
<a name="l06911"></a>06911   <span class="comment">// Requires: StringShape(this).IsIndirect() &amp;&amp; this-&gt;IsFlat()</span>
<a name="l06912"></a>06912   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* GetUnderlying();
<a name="l06913"></a>06913 
<a name="l06914"></a>06914   <span class="comment">// Mark the string as an undetectable object. It only applies to</span>
<a name="l06915"></a>06915   <span class="comment">// ASCII and two byte string types.</span>
<a name="l06916"></a>06916   <span class="keywordtype">bool</span> MarkAsUndetectable();
<a name="l06917"></a>06917 
<a name="l06918"></a>06918   <span class="comment">// Return a substring.</span>
<a name="l06919"></a>06919   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* <a class="code" href="namespacev8_1_1internal.html#a343d55c8b8a22cacd39332f737572f49">SubString</a>(<span class="keywordtype">int</span> from,
<a name="l06920"></a>06920                                          <span class="keywordtype">int</span> to,
<a name="l06921"></a>06921                                          <a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8">PretenureFlag</a> pretenure = <a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8ad832954c9b9b14ec2859d74a80f4069a">NOT_TENURED</a>);
<a name="l06922"></a>06922 
<a name="l06923"></a>06923   <span class="comment">// String equality operations.</span>
<a name="l06924"></a>06924   <span class="keyword">inline</span> <span class="keywordtype">bool</span> Equals(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* other);
<a name="l06925"></a>06925   <span class="keywordtype">bool</span> IsEqualTo(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const char&gt;</a> str);
<a name="l06926"></a>06926   <span class="keywordtype">bool</span> IsAsciiEqualTo(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const char&gt;</a> str);
<a name="l06927"></a>06927   <span class="keywordtype">bool</span> IsTwoByteEqualTo(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const uc16&gt;</a> str);
<a name="l06928"></a>06928 
<a name="l06929"></a>06929   <span class="comment">// Return a UTF8 representation of the string.  The string is null</span>
<a name="l06930"></a>06930   <span class="comment">// terminated but may optionally contain nulls.  Length is returned</span>
<a name="l06931"></a>06931   <span class="comment">// in length_output if length_output is not a null pointer  The string</span>
<a name="l06932"></a>06932   <span class="comment">// should be nearly flat, otherwise the performance of this method may</span>
<a name="l06933"></a>06933   <span class="comment">// be very slow (quadratic in the length).  Setting robustness_flag to</span>
<a name="l06934"></a>06934   <span class="comment">// ROBUST_STRING_TRAVERSAL invokes behaviour that is robust  This means it</span>
<a name="l06935"></a>06935   <span class="comment">// handles unexpected data without causing assert failures and it does not</span>
<a name="l06936"></a>06936   <span class="comment">// do any heap allocations.  This is useful when printing stack traces.</span>
<a name="l06937"></a>06937   <a class="code" href="classv8_1_1internal_1_1_smart_array_pointer.html">SmartArrayPointer&lt;char&gt;</a> <a class="code" href="lineprocessor_8cc.html#a85e2fa9e1c9c033b527f5bb3baf7afb3">ToCString</a>(<a class="code" href="namespacev8_1_1internal.html#a46677f0f1a73205a74543062187e3330">AllowNullsFlag</a> allow_nulls,
<a name="l06938"></a>06938                                     <a class="code" href="namespacev8_1_1internal.html#a690f19bdfa0d8fc60e0975d5b7cc395b">RobustnessFlag</a> robustness_flag,
<a name="l06939"></a>06939                                     <span class="keywordtype">int</span> offset,
<a name="l06940"></a>06940                                     <span class="keywordtype">int</span> length,
<a name="l06941"></a>06941                                     <span class="keywordtype">int</span>* length_output = 0);
<a name="l06942"></a>06942   <a class="code" href="classv8_1_1internal_1_1_smart_array_pointer.html">SmartArrayPointer&lt;char&gt;</a> <a class="code" href="lineprocessor_8cc.html#a85e2fa9e1c9c033b527f5bb3baf7afb3">ToCString</a>(
<a name="l06943"></a>06943       <a class="code" href="namespacev8_1_1internal.html#a46677f0f1a73205a74543062187e3330">AllowNullsFlag</a> allow_nulls = <a class="code" href="namespacev8_1_1internal.html#a46677f0f1a73205a74543062187e3330ad35eb4b1026bc005ab10363fe61b867f">DISALLOW_NULLS</a>,
<a name="l06944"></a>06944       <a class="code" href="namespacev8_1_1internal.html#a690f19bdfa0d8fc60e0975d5b7cc395b">RobustnessFlag</a> robustness_flag = <a class="code" href="namespacev8_1_1internal.html#a690f19bdfa0d8fc60e0975d5b7cc395ba7d1917410058470aaef29f4bdec1197b">FAST_STRING_TRAVERSAL</a>,
<a name="l06945"></a>06945       <span class="keywordtype">int</span>* length_output = 0);
<a name="l06946"></a>06946 
<a name="l06947"></a>06947   <span class="comment">// Return a 16 bit Unicode representation of the string.</span>
<a name="l06948"></a>06948   <span class="comment">// The string should be nearly flat, otherwise the performance of</span>
<a name="l06949"></a>06949   <span class="comment">// of this method may be very bad.  Setting robustness_flag to</span>
<a name="l06950"></a>06950   <span class="comment">// ROBUST_STRING_TRAVERSAL invokes behaviour that is robust  This means it</span>
<a name="l06951"></a>06951   <span class="comment">// handles unexpected data without causing assert failures and it does not</span>
<a name="l06952"></a>06952   <span class="comment">// do any heap allocations.  This is useful when printing stack traces.</span>
<a name="l06953"></a>06953   <a class="code" href="classv8_1_1internal_1_1_smart_array_pointer.html">SmartArrayPointer&lt;uc16&gt;</a> ToWideCString(
<a name="l06954"></a>06954       <a class="code" href="namespacev8_1_1internal.html#a690f19bdfa0d8fc60e0975d5b7cc395b">RobustnessFlag</a> robustness_flag = <a class="code" href="namespacev8_1_1internal.html#a690f19bdfa0d8fc60e0975d5b7cc395ba7d1917410058470aaef29f4bdec1197b">FAST_STRING_TRAVERSAL</a>);
<a name="l06955"></a>06955 
<a name="l06956"></a>06956   <span class="comment">// Tells whether the hash code has been computed.</span>
<a name="l06957"></a>06957   <span class="keyword">inline</span> <span class="keywordtype">bool</span> HasHashCode();
<a name="l06958"></a>06958 
<a name="l06959"></a>06959   <span class="comment">// Returns a hash value used for the property table</span>
<a name="l06960"></a>06960   <span class="keyword">inline</span> uint32_t Hash();
<a name="l06961"></a>06961 
<a name="l06962"></a>06962   <span class="keyword">static</span> uint32_t ComputeHashField(<a class="code" href="classunibrow_1_1_character_stream.html">unibrow::CharacterStream</a>* buffer,
<a name="l06963"></a>06963                                    <span class="keywordtype">int</span> length,
<a name="l06964"></a>06964                                    uint32_t <a class="code" href="test-strings_8cc.html#ae21f357c223957d36046a0d71cc6aed7">seed</a>);
<a name="l06965"></a>06965 
<a name="l06966"></a>06966   <span class="keyword">static</span> <span class="keywordtype">bool</span> ComputeArrayIndex(<a class="code" href="classunibrow_1_1_character_stream.html">unibrow::CharacterStream</a>* buffer,
<a name="l06967"></a>06967                                 uint32_t* index,
<a name="l06968"></a>06968                                 <span class="keywordtype">int</span> length);
<a name="l06969"></a>06969 
<a name="l06970"></a>06970   <span class="comment">// Externalization.</span>
<a name="l06971"></a>06971   <span class="keywordtype">bool</span> MakeExternal(<a class="code" href="classv8_1_1_string_1_1_external_string_resource.html">v8::String::ExternalStringResource</a>* resource);
<a name="l06972"></a>06972   <span class="keywordtype">bool</span> MakeExternal(<a class="code" href="classv8_1_1_string_1_1_external_ascii_string_resource.html">v8::String::ExternalAsciiStringResource</a>* resource);
<a name="l06973"></a>06973 
<a name="l06974"></a>06974   <span class="comment">// Conversion.</span>
<a name="l06975"></a>06975   <span class="keyword">inline</span> <span class="keywordtype">bool</span> AsArrayIndex(uint32_t* index);
<a name="l06976"></a>06976 
<a name="l06977"></a>06977   <span class="comment">// Casting.</span>
<a name="l06978"></a>06978   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l06979"></a>06979 
<a name="l06980"></a>06980   <span class="keywordtype">void</span> PrintOn(FILE* out);
<a name="l06981"></a>06981 
<a name="l06982"></a>06982   <span class="comment">// For use during stack traces.  Performs rudimentary sanity check.</span>
<a name="l06983"></a>06983   <span class="keywordtype">bool</span> LooksValid();
<a name="l06984"></a>06984 
<a name="l06985"></a>06985   <span class="comment">// Dispatched behavior.</span>
<a name="l06986"></a>06986   <span class="keywordtype">void</span> StringShortPrint(<a class="code" href="classv8_1_1internal_1_1_string_stream.html">StringStream</a>* accumulator);
<a name="l06987"></a>06987 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l06988"></a>06988 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> StringPrint() {
<a name="l06989"></a>06989     StringPrint(stdout);
<a name="l06990"></a>06990   }
<a name="l06991"></a>06991   <span class="keywordtype">void</span> StringPrint(FILE* out);
<a name="l06992"></a>06992 
<a name="l06993"></a>06993   <span class="keywordtype">char</span>* ToAsciiArray();
<a name="l06994"></a>06994 <span class="preprocessor">#endif</span>
<a name="l06995"></a>06995 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l06996"></a>06996 <span class="preprocessor"></span>  <span class="keywordtype">void</span> StringVerify();
<a name="l06997"></a>06997 <span class="preprocessor">#endif</span>
<a name="l06998"></a>06998 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsFlat();
<a name="l06999"></a>06999 
<a name="l07000"></a>07000   <span class="comment">// Layout description.</span>
<a name="l07001"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a5b21fe7c8b8d212a3f6e48aeaeb00e18">07001</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l07002"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a068371592c0ab42c60f53c906965586f">07002</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHashFieldOffset = <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07003"></a><a class="code" href="classv8_1_1internal_1_1_string.html#ab5cf82bcae4ed2d677bac7b8c5c5194a">07003</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kHashFieldOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07004"></a>07004 
<a name="l07005"></a>07005   <span class="comment">// Maximum number of characters to consider when trying to convert a string</span>
<a name="l07006"></a>07006   <span class="comment">// value into an array index.</span>
<a name="l07007"></a><a class="code" href="classv8_1_1internal_1_1_string.html#ab86c83dacb27eb24739aac51e8254f79">07007</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxArrayIndexSize = 10;
<a name="l07008"></a>07008 
<a name="l07009"></a>07009   <span class="comment">// Max ASCII char code.</span>
<a name="l07010"></a><a class="code" href="classv8_1_1internal_1_1_string.html#aa6b2972a660349a388722813e468a858">07010</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a2642510e4119bea0a2c2ef96ae4d39d0">kMaxAsciiCharCode</a> = <a class="code" href="classunibrow_1_1_utf8.html#a133ef06049e8474299fe9a84de6f2de0">unibrow::Utf8::kMaxOneByteChar</a>;
<a name="l07011"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a7693e0349881fd895fd2d6477b208e2a">07011</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacev8_1_1internal.html#ad55d06e1d27efc754716f7a42f41c104">kMaxAsciiCharCodeU</a> = <a class="code" href="classunibrow_1_1_utf8.html#a133ef06049e8474299fe9a84de6f2de0">unibrow::Utf8::kMaxOneByteChar</a>;
<a name="l07012"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a9719cdc31445a57dce92e4d4805b08bf">07012</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxUtf16CodeUnit = 0xffff;
<a name="l07013"></a>07013 
<a name="l07014"></a>07014   <span class="comment">// Mask constant for checking if a string has a computed hash code</span>
<a name="l07015"></a>07015   <span class="comment">// and if it is an array index.  The least significant bit indicates</span>
<a name="l07016"></a>07016   <span class="comment">// whether a hash code has been computed.  If the hash code has been</span>
<a name="l07017"></a>07017   <span class="comment">// computed the 2nd bit tells whether the string can be used as an</span>
<a name="l07018"></a>07018   <span class="comment">// array index.</span>
<a name="l07019"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a7f20f3719c882f136beac8d070e0dba4">07019</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHashNotComputedMask = 1;
<a name="l07020"></a><a class="code" href="classv8_1_1internal_1_1_string.html#ad5bf2e223bff5c42746c19ba65f1f8a9">07020</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIsNotArrayIndexMask = 1 &lt;&lt; 1;
<a name="l07021"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a5bad761b3009cff6f41c00c45da73447">07021</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNofHashBitFields = 2;
<a name="l07022"></a>07022 
<a name="l07023"></a>07023   <span class="comment">// Shift constant retrieving hash code from hash field.</span>
<a name="l07024"></a><a class="code" href="classv8_1_1internal_1_1_string.html#ad8b903e6eb71699fe900fb87cb34eeab">07024</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHashShift = kNofHashBitFields;
<a name="l07025"></a>07025 
<a name="l07026"></a>07026   <span class="comment">// Only these bits are relevant in the hash, since the top two are shifted</span>
<a name="l07027"></a>07027   <span class="comment">// out.</span>
<a name="l07028"></a><a class="code" href="classv8_1_1internal_1_1_string.html#ad9b16e90e8b9d95c7b76585ce5cb0f65">07028</a>   <span class="keyword">static</span> <span class="keyword">const</span> uint32_t kHashBitMask = 0xffffffffu &gt;&gt; kHashShift;
<a name="l07029"></a>07029 
<a name="l07030"></a>07030   <span class="comment">// Array index strings this short can keep their index in the hash</span>
<a name="l07031"></a>07031   <span class="comment">// field.</span>
<a name="l07032"></a><a class="code" href="classv8_1_1internal_1_1_string.html#acc7c2b879f7349a42b0ac606f7d37eb6">07032</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxCachedArrayIndexLength = 7;
<a name="l07033"></a>07033 
<a name="l07034"></a>07034   <span class="comment">// For strings which are array indexes the hash value has the string length</span>
<a name="l07035"></a>07035   <span class="comment">// mixed into the hash, mainly to avoid a hash value of zero which would be</span>
<a name="l07036"></a>07036   <span class="comment">// the case for the string &#39;0&#39;. 24 bits are used for the array index value.</span>
<a name="l07037"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a440bc2f0681e058c6e09faa380a35709">07037</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArrayIndexValueBits = 24;
<a name="l07038"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a40f3f35fdb15a8ec4fba2a0ca72a6342">07038</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArrayIndexLengthBits =
<a name="l07039"></a>07039       <a class="code" href="namespacev8_1_1internal.html#a168107e82dd433b54ff0f4c01c494bda">kBitsPerInt</a> - kArrayIndexValueBits - kNofHashBitFields;
<a name="l07040"></a>07040 
<a name="l07041"></a>07041   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>((kArrayIndexLengthBits &gt; 0));
<a name="l07042"></a>07042   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(kMaxArrayIndexSize &lt; (1 &lt;&lt; kArrayIndexLengthBits));
<a name="l07043"></a>07043 
<a name="l07044"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a33f75366289aee04d7d04374f9475007">07044</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArrayIndexHashLengthShift =
<a name="l07045"></a>07045       kArrayIndexValueBits + kNofHashBitFields;
<a name="l07046"></a>07046 
<a name="l07047"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a57b03163b4830a9f36d6848098df860e">07047</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArrayIndexHashMask = (1 &lt;&lt; kArrayIndexHashLengthShift) - 1;
<a name="l07048"></a>07048 
<a name="l07049"></a><a class="code" href="classv8_1_1internal_1_1_string.html#af94d6ca98936866a766768a0d24e1a90">07049</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArrayIndexValueMask =
<a name="l07050"></a>07050       ((1 &lt;&lt; kArrayIndexValueBits) - 1) &lt;&lt; kHashShift;
<a name="l07051"></a>07051 
<a name="l07052"></a>07052   <span class="comment">// Check that kMaxCachedArrayIndexLength + 1 is a power of two so we</span>
<a name="l07053"></a>07053   <span class="comment">// could use a mask to test if the length of string is less than or equal to</span>
<a name="l07054"></a>07054   <span class="comment">// kMaxCachedArrayIndexLength.</span>
<a name="l07055"></a>07055   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(<a class="code" href="utils_8h.html#a52d277cbf33f76350b2fcb21c24640ee">IS_POWER_OF_TWO</a>(kMaxCachedArrayIndexLength + 1));
<a name="l07056"></a>07056 
<a name="l07057"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a2ed24efc8038a1d682f2103071d51e93">07057</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kContainsCachedArrayIndexMask =
<a name="l07058"></a>07058       (~kMaxCachedArrayIndexLength &lt;&lt; kArrayIndexHashLengthShift) |
<a name="l07059"></a>07059       kIsNotArrayIndexMask;
<a name="l07060"></a>07060 
<a name="l07061"></a>07061   <span class="comment">// Value of empty hash field indicating that the hash is not computed.</span>
<a name="l07062"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a695031499ab98e1df677a6d56f5cc848">07062</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kEmptyHashField =
<a name="l07063"></a>07063       kIsNotArrayIndexMask | kHashNotComputedMask;
<a name="l07064"></a>07064 
<a name="l07065"></a>07065   <span class="comment">// Value of hash field containing computed hash equal to zero.</span>
<a name="l07066"></a><a class="code" href="classv8_1_1internal_1_1_string.html#afcdd2924b8d1ef296059f3373ae05c3c">07066</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kZeroHash = kIsNotArrayIndexMask;
<a name="l07067"></a>07067 
<a name="l07068"></a>07068   <span class="comment">// Maximal string length.</span>
<a name="l07069"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a52630f40be32d591ee88ec7670dd45d5">07069</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a43ee006c8e97ad6f0aa6affe07afe178">kMaxLength</a> = (1 &lt;&lt; (32 - 2)) - 1;
<a name="l07070"></a>07070 
<a name="l07071"></a>07071   <span class="comment">// Max length for computing hash. For strings longer than this limit the</span>
<a name="l07072"></a>07072   <span class="comment">// string length is used as the hash value.</span>
<a name="l07073"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a51b6ca2dcf6d8bdb10c510d580e0e3f4">07073</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxHashCalcLength = 16383;
<a name="l07074"></a>07074 
<a name="l07075"></a>07075   <span class="comment">// Limit for truncation in short printing.</span>
<a name="l07076"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a615a212c4e682f2aef5f3c45faaba643">07076</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxShortPrintLength = 1024;
<a name="l07077"></a>07077 
<a name="l07078"></a>07078   <span class="comment">// Support for regular expressions.</span>
<a name="l07079"></a>07079   <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#ac8746f895da71d616e44bf5dc25613bb">uc16</a>* GetTwoByteData();
<a name="l07080"></a>07080   <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#ac8746f895da71d616e44bf5dc25613bb">uc16</a>* GetTwoByteData(<span class="keywordtype">unsigned</span> <a class="code" href="namespacell__prof.html#a5b7aee10eba26bc62f35b1049906c277">start</a>);
<a name="l07081"></a>07081 
<a name="l07082"></a>07082   <span class="comment">// Support for StringInputBuffer</span>
<a name="l07083"></a>07083   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* ReadBlock(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* input,
<a name="l07084"></a>07084                                         <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* util_buffer,
<a name="l07085"></a>07085                                         <span class="keywordtype">unsigned</span> capacity,
<a name="l07086"></a>07086                                         <span class="keywordtype">unsigned</span>* remaining,
<a name="l07087"></a>07087                                         <span class="keywordtype">unsigned</span>* offset);
<a name="l07088"></a>07088   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* ReadBlock(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>** input,
<a name="l07089"></a>07089                                         <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* util_buffer,
<a name="l07090"></a>07090                                         <span class="keywordtype">unsigned</span> capacity,
<a name="l07091"></a>07091                                         <span class="keywordtype">unsigned</span>* remaining,
<a name="l07092"></a>07092                                         <span class="keywordtype">unsigned</span>* offset);
<a name="l07093"></a>07093 
<a name="l07094"></a>07094   <span class="comment">// Helper function for flattening strings.</span>
<a name="l07095"></a>07095   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> sink<span class="keywordtype">char</span>&gt;
<a name="l07096"></a>07096   <span class="keyword">static</span> <span class="keywordtype">void</span> WriteToFlat(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* source,
<a name="l07097"></a>07097                           sinkchar* sink,
<a name="l07098"></a>07098                           <span class="keywordtype">int</span> from,
<a name="l07099"></a>07099                           <span class="keywordtype">int</span> to);
<a name="l07100"></a>07100 
<a name="l07101"></a><a class="code" href="classv8_1_1internal_1_1_string.html#af725d9dc277683fa4486a928348ba75a">07101</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string.html#af725d9dc277683fa4486a928348ba75a">IsAscii</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, <span class="keywordtype">int</span> length) {
<a name="l07102"></a>07102     <span class="keyword">const</span> <span class="keywordtype">char</span>* limit = chars + <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>;
<a name="l07103"></a>07103 <span class="preprocessor">#ifdef V8_HOST_CAN_READ_UNALIGNED</span>
<a name="l07104"></a>07104 <span class="preprocessor"></span>    <a class="code" href="checks_8h.html#ac22830a985e1daed0c9eadba8c6f606e">ASSERT</a>(<a class="code" href="namespacev8_1_1internal.html#a2642510e4119bea0a2c2ef96ae4d39d0">kMaxAsciiCharCode</a> == 0x7F);
<a name="l07105"></a>07105     <span class="keyword">const</span> uintptr_t non_ascii_mask = <a class="code" href="namespacev8_1_1internal.html#a2021b30a050fb6a3ed013c4f6f1fb6d4">kUintptrAllBitsSet</a> / 0xFF * 0x80;
<a name="l07106"></a>07106     <span class="keywordflow">while</span> (chars &lt;= limit - <span class="keyword">sizeof</span>(uintptr_t)) {
<a name="l07107"></a>07107       <span class="keywordflow">if</span> (*reinterpret_cast&lt;const uintptr_t*&gt;(chars) &amp; non_ascii_mask) {
<a name="l07108"></a>07108         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07109"></a>07109       }
<a name="l07110"></a>07110       chars += <span class="keyword">sizeof</span>(uintptr_t);
<a name="l07111"></a>07111     }
<a name="l07112"></a>07112 <span class="preprocessor">#endif</span>
<a name="l07113"></a>07113 <span class="preprocessor"></span>    <span class="keywordflow">while</span> (chars &lt; limit) {
<a name="l07114"></a>07114       <span class="keywordflow">if</span> (static_cast&lt;uint8_t&gt;(*chars) &gt; <a class="code" href="namespacev8_1_1internal.html#ad55d06e1d27efc754716f7a42f41c104">kMaxAsciiCharCodeU</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07115"></a>07115       ++chars;
<a name="l07116"></a>07116     }
<a name="l07117"></a>07117     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l07118"></a>07118   }
<a name="l07119"></a>07119 
<a name="l07120"></a><a class="code" href="classv8_1_1internal_1_1_string.html#a5ac5acd2b9c7238cacd95b5bc86dedec">07120</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_string.html#a5ac5acd2b9c7238cacd95b5bc86dedec">IsAscii</a>(<span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#ac8746f895da71d616e44bf5dc25613bb">uc16</a>* chars, <span class="keywordtype">int</span> length) {
<a name="l07121"></a>07121     <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#ac8746f895da71d616e44bf5dc25613bb">uc16</a>* limit = chars + <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a8389814df2081ea29f46a2433cd30832">length</a>;
<a name="l07122"></a>07122     <span class="keywordflow">while</span> (chars &lt; limit) {
<a name="l07123"></a>07123       <span class="keywordflow">if</span> (*chars &gt; <a class="code" href="namespacev8_1_1internal.html#ad55d06e1d27efc754716f7a42f41c104">kMaxAsciiCharCodeU</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07124"></a>07124       ++chars;
<a name="l07125"></a>07125     }
<a name="l07126"></a>07126     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l07127"></a>07127   }
<a name="l07128"></a>07128 
<a name="l07129"></a>07129  <span class="keyword">protected</span>:
<a name="l07130"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">07130</a>   <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a> {
<a name="l07131"></a>07131    <span class="keyword">public</span>:
<a name="l07132"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html#a6ee7247abd91f015112886cdd82b526d">07132</a>     <a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>(<a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* util_buffer_,
<a name="l07133"></a>07133                     <span class="keywordtype">unsigned</span> cursor_,
<a name="l07134"></a>07134                     <span class="keywordtype">unsigned</span> capacity_,
<a name="l07135"></a>07135                     <span class="keywordtype">unsigned</span> remaining_) :
<a name="l07136"></a>07136       util_buffer(util_buffer_),
<a name="l07137"></a>07137       cursor(cursor_),
<a name="l07138"></a>07138       capacity(capacity_),
<a name="l07139"></a>07139       remaining(remaining_) {
<a name="l07140"></a>07140     }
<a name="l07141"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html#a793765a221e2d49c1bd04177c5960720">07141</a>     <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* <a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html#a793765a221e2d49c1bd04177c5960720">util_buffer</a>;
<a name="l07142"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html#ac161edfaaff2b058d91e5be74e7aa375">07142</a>     <span class="keywordtype">unsigned</span>       <a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html#ac161edfaaff2b058d91e5be74e7aa375">cursor</a>;
<a name="l07143"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html#a1e84f8e20df892bf4efc9343aa94631b">07143</a>     <span class="keywordtype">unsigned</span>       <a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html#a1e84f8e20df892bf4efc9343aa94631b">capacity</a>;
<a name="l07144"></a><a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html#a4d2f61f4fda6ea24ae001201e9a0bd0a">07144</a>     <span class="keywordtype">unsigned</span>       <a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html#a4d2f61f4fda6ea24ae001201e9a0bd0a">remaining</a>;
<a name="l07145"></a>07145   };
<a name="l07146"></a>07146 
<a name="l07147"></a>07147   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* ReadBlock(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* input,
<a name="l07148"></a>07148                                                <a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07149"></a>07149                                                <span class="keywordtype">unsigned</span>* offset,
<a name="l07150"></a>07150                                                <span class="keywordtype">unsigned</span> max_chars);
<a name="l07151"></a>07151   <span class="keyword">static</span> <span class="keywordtype">void</span> ReadBlockIntoBuffer(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* input,
<a name="l07152"></a>07152                                   <a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07153"></a>07153                                   <span class="keywordtype">unsigned</span>* offset_ptr,
<a name="l07154"></a>07154                                   <span class="keywordtype">unsigned</span> max_chars);
<a name="l07155"></a>07155 
<a name="l07156"></a>07156  <span class="keyword">private</span>:
<a name="l07157"></a>07157   <span class="comment">// Try to flatten the top level ConsString that is hiding behind this</span>
<a name="l07158"></a>07158   <span class="comment">// string.  This is a no-op unless the string is a ConsString.  Flatten</span>
<a name="l07159"></a>07159   <span class="comment">// mutates the ConsString and might return a failure.</span>
<a name="l07160"></a>07160   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SlowTryFlatten(<a class="code" href="namespacev8_1_1internal.html#a4b432e00268a8cdaef5449ccbe9b38c8">PretenureFlag</a> pretenure);
<a name="l07161"></a>07161 
<a name="l07162"></a>07162   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsHashFieldComputed(uint32_t field);
<a name="l07163"></a>07163 
<a name="l07164"></a>07164   <span class="comment">// Slow case of String::Equals.  This implementation works on any strings</span>
<a name="l07165"></a>07165   <span class="comment">// but it is most efficient on strings that are almost flat.</span>
<a name="l07166"></a>07166   <span class="keywordtype">bool</span> SlowEquals(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* other);
<a name="l07167"></a>07167 
<a name="l07168"></a>07168   <span class="comment">// Slow case of AsArrayIndex.</span>
<a name="l07169"></a>07169   <span class="keywordtype">bool</span> SlowAsArrayIndex(uint32_t* index);
<a name="l07170"></a>07170 
<a name="l07171"></a>07171   <span class="comment">// Compute and set the hash code.</span>
<a name="l07172"></a>07172   uint32_t ComputeAndSetHash();
<a name="l07173"></a>07173 
<a name="l07174"></a>07174   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>);
<a name="l07175"></a>07175 };
<a name="l07176"></a>07176 
<a name="l07177"></a>07177 
<a name="l07178"></a>07178 <span class="comment">// The SeqString abstract class captures sequential string values.</span>
<a name="l07179"></a><a class="code" href="classv8_1_1internal_1_1_seq_string.html">07179</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_seq_string.html">SeqString</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a> {
<a name="l07180"></a>07180  <span class="keyword">public</span>:
<a name="l07181"></a>07181   <span class="comment">// Casting.</span>
<a name="l07182"></a>07182   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_seq_string.html">SeqString</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07183"></a>07183 
<a name="l07184"></a>07184   <span class="comment">// Layout description.</span>
<a name="l07185"></a><a class="code" href="classv8_1_1internal_1_1_seq_string.html#a2c2ba2c9718ba1841132c6b9c32ada47">07185</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a> = <a class="code" href="classv8_1_1internal_1_1_string.html#ab5cf82bcae4ed2d677bac7b8c5c5194a">String::kSize</a>;
<a name="l07186"></a>07186 
<a name="l07187"></a>07187  <span class="keyword">private</span>:
<a name="l07188"></a>07188   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_seq_string.html">SeqString</a>);
<a name="l07189"></a>07189 };
<a name="l07190"></a>07190 
<a name="l07191"></a>07191 
<a name="l07192"></a>07192 <span class="comment">// The AsciiString class captures sequential ASCII string objects.</span>
<a name="l07193"></a>07193 <span class="comment">// Each character in the AsciiString is an ASCII character.</span>
<a name="l07194"></a><a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html">07194</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html">SeqAsciiString</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_seq_string.html">SeqString</a> {
<a name="l07195"></a>07195  <span class="keyword">public</span>:
<a name="l07196"></a><a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html#a7f4802a7d16b9826e27189e8dad9fae9">07196</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> kHasAsciiEncoding = <span class="keyword">true</span>;
<a name="l07197"></a>07197 
<a name="l07198"></a>07198   <span class="comment">// Dispatched behavior.</span>
<a name="l07199"></a>07199   <span class="keyword">inline</span> <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> SeqAsciiStringGet(<span class="keywordtype">int</span> index);
<a name="l07200"></a>07200   <span class="keyword">inline</span> <span class="keywordtype">void</span> SeqAsciiStringSet(<span class="keywordtype">int</span> index, <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> value);
<a name="l07201"></a>07201 
<a name="l07202"></a>07202   <span class="comment">// Get the address of the characters in this string.</span>
<a name="l07203"></a>07203   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> GetCharsAddress();
<a name="l07204"></a>07204 
<a name="l07205"></a>07205   <span class="keyword">inline</span> <span class="keywordtype">char</span>* GetChars();
<a name="l07206"></a>07206 
<a name="l07207"></a>07207   <span class="comment">// Casting</span>
<a name="l07208"></a>07208   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html">SeqAsciiString</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07209"></a>07209 
<a name="l07210"></a>07210   <span class="comment">// Garbage collection support.  This method is called by the</span>
<a name="l07211"></a>07211   <span class="comment">// garbage collector to compute the actual size of an AsciiString</span>
<a name="l07212"></a>07212   <span class="comment">// instance.</span>
<a name="l07213"></a>07213   <span class="keyword">inline</span> <span class="keywordtype">int</span> SeqAsciiStringSize(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9b">InstanceType</a> instance_type);
<a name="l07214"></a>07214 
<a name="l07215"></a>07215   <span class="comment">// Computes the size for an AsciiString instance of a given length.</span>
<a name="l07216"></a><a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html#a15c6eb61296e7adc0ea8537261fea934">07216</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html#a15c6eb61296e7adc0ea8537261fea934">SizeFor</a>(<span class="keywordtype">int</span> length) {
<a name="l07217"></a>07217     <span class="keywordflow">return</span> <a class="code" href="v8globals_8h.html#a9ca74b32966f4dd37a67ce126daa56e0">OBJECT_POINTER_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a> + length * <a class="code" href="namespacev8_1_1internal.html#ade3ae8cfc379ce70d49314134a9be7f9">kCharSize</a>);
<a name="l07218"></a>07218   }
<a name="l07219"></a>07219 
<a name="l07220"></a>07220   <span class="comment">// Maximal memory usage for a single sequential ASCII string.</span>
<a name="l07221"></a><a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html#a4958f9801b19cd93d6e3dc3a383ed863">07221</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxSize = 512 * <a class="code" href="namespacev8_1_1internal.html#ac9348d43b27afd1b556903717cbe0b84">MB</a> - 1;
<a name="l07222"></a>07222   <span class="comment">// Maximal length of a single sequential ASCII string.</span>
<a name="l07223"></a>07223   <span class="comment">// Q.v. String::kMaxLength which is the maximal size of concatenated strings.</span>
<a name="l07224"></a><a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html#ae20a23e65b70fe21c58496c36822a5db">07224</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a43ee006c8e97ad6f0aa6affe07afe178">kMaxLength</a> = (kMaxSize - <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a>);
<a name="l07225"></a>07225 
<a name="l07226"></a>07226   <span class="comment">// Support for StringInputBuffer.</span>
<a name="l07227"></a>07227   <span class="keyword">inline</span> <span class="keywordtype">void</span> SeqAsciiStringReadBlockIntoBuffer(<a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07228"></a>07228                                                 <span class="keywordtype">unsigned</span>* offset,
<a name="l07229"></a>07229                                                 <span class="keywordtype">unsigned</span> chars);
<a name="l07230"></a>07230   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* SeqAsciiStringReadBlock(<span class="keywordtype">unsigned</span>* remaining,
<a name="l07231"></a>07231                                                       <span class="keywordtype">unsigned</span>* offset,
<a name="l07232"></a>07232                                                       <span class="keywordtype">unsigned</span> chars);
<a name="l07233"></a>07233 
<a name="l07234"></a>07234  <span class="keyword">private</span>:
<a name="l07235"></a>07235   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_seq_ascii_string.html">SeqAsciiString</a>);
<a name="l07236"></a>07236 };
<a name="l07237"></a>07237 
<a name="l07238"></a>07238 
<a name="l07239"></a>07239 <span class="comment">// The TwoByteString class captures sequential unicode string objects.</span>
<a name="l07240"></a>07240 <span class="comment">// Each character in the TwoByteString is a two-byte uint16_t.</span>
<a name="l07241"></a><a class="code" href="classv8_1_1internal_1_1_seq_two_byte_string.html">07241</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_seq_two_byte_string.html">SeqTwoByteString</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_seq_string.html">SeqString</a> {
<a name="l07242"></a>07242  <span class="keyword">public</span>:
<a name="l07243"></a><a class="code" href="classv8_1_1internal_1_1_seq_two_byte_string.html#a4edf3c8a76b14309487c691d10e7af45">07243</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> kHasAsciiEncoding = <span class="keyword">false</span>;
<a name="l07244"></a>07244 
<a name="l07245"></a>07245   <span class="comment">// Dispatched behavior.</span>
<a name="l07246"></a>07246   <span class="keyword">inline</span> <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> SeqTwoByteStringGet(<span class="keywordtype">int</span> index);
<a name="l07247"></a>07247   <span class="keyword">inline</span> <span class="keywordtype">void</span> SeqTwoByteStringSet(<span class="keywordtype">int</span> index, <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> value);
<a name="l07248"></a>07248 
<a name="l07249"></a>07249   <span class="comment">// Get the address of the characters in this string.</span>
<a name="l07250"></a>07250   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> GetCharsAddress();
<a name="l07251"></a>07251 
<a name="l07252"></a>07252   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#ac8746f895da71d616e44bf5dc25613bb">uc16</a>* GetChars();
<a name="l07253"></a>07253 
<a name="l07254"></a>07254   <span class="comment">// For regexp code.</span>
<a name="l07255"></a>07255   <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a>* SeqTwoByteStringGetData(<span class="keywordtype">unsigned</span> <a class="code" href="namespacell__prof.html#a5b7aee10eba26bc62f35b1049906c277">start</a>);
<a name="l07256"></a>07256 
<a name="l07257"></a>07257   <span class="comment">// Casting</span>
<a name="l07258"></a>07258   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_seq_two_byte_string.html">SeqTwoByteString</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07259"></a>07259 
<a name="l07260"></a>07260   <span class="comment">// Garbage collection support.  This method is called by the</span>
<a name="l07261"></a>07261   <span class="comment">// garbage collector to compute the actual size of a TwoByteString</span>
<a name="l07262"></a>07262   <span class="comment">// instance.</span>
<a name="l07263"></a>07263   <span class="keyword">inline</span> <span class="keywordtype">int</span> SeqTwoByteStringSize(<a class="code" href="namespacev8_1_1internal.html#a62f89b8df648b3e45bce097100c2ab9b">InstanceType</a> instance_type);
<a name="l07264"></a>07264 
<a name="l07265"></a>07265   <span class="comment">// Computes the size for a TwoByteString instance of a given length.</span>
<a name="l07266"></a><a class="code" href="classv8_1_1internal_1_1_seq_two_byte_string.html#a310700be9011633ec0da472bb31c16a9">07266</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_seq_two_byte_string.html#a310700be9011633ec0da472bb31c16a9">SizeFor</a>(<span class="keywordtype">int</span> length) {
<a name="l07267"></a>07267     <span class="keywordflow">return</span> <a class="code" href="v8globals_8h.html#a9ca74b32966f4dd37a67ce126daa56e0">OBJECT_POINTER_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a> + length * <a class="code" href="namespacev8_1_1internal.html#a71ae2be62dfa06ef26562c2a1ab36cf1">kShortSize</a>);
<a name="l07268"></a>07268   }
<a name="l07269"></a>07269 
<a name="l07270"></a>07270   <span class="comment">// Maximal memory usage for a single sequential two-byte string.</span>
<a name="l07271"></a><a class="code" href="classv8_1_1internal_1_1_seq_two_byte_string.html#aea5b549a060721065740b5c3585a4cac">07271</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxSize = 512 * <a class="code" href="namespacev8_1_1internal.html#ac9348d43b27afd1b556903717cbe0b84">MB</a> - 1;
<a name="l07272"></a>07272   <span class="comment">// Maximal length of a single sequential two-byte string.</span>
<a name="l07273"></a>07273   <span class="comment">// Q.v. String::kMaxLength which is the maximal size of concatenated strings.</span>
<a name="l07274"></a><a class="code" href="classv8_1_1internal_1_1_seq_two_byte_string.html#acc2cd5b964245d116f24337b25e28ac2">07274</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a43ee006c8e97ad6f0aa6affe07afe178">kMaxLength</a> = (kMaxSize - <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a>) / <span class="keyword">sizeof</span>(<a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a>);
<a name="l07275"></a>07275 
<a name="l07276"></a>07276   <span class="comment">// Support for StringInputBuffer.</span>
<a name="l07277"></a>07277   <span class="keyword">inline</span> <span class="keywordtype">void</span> SeqTwoByteStringReadBlockIntoBuffer(<a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07278"></a>07278                                                   <span class="keywordtype">unsigned</span>* offset_ptr,
<a name="l07279"></a>07279                                                   <span class="keywordtype">unsigned</span> chars);
<a name="l07280"></a>07280 
<a name="l07281"></a>07281  <span class="keyword">private</span>:
<a name="l07282"></a>07282   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_seq_two_byte_string.html">SeqTwoByteString</a>);
<a name="l07283"></a>07283 };
<a name="l07284"></a>07284 
<a name="l07285"></a>07285 
<a name="l07286"></a>07286 <span class="comment">// The ConsString class describes string values built by using the</span>
<a name="l07287"></a>07287 <span class="comment">// addition operator on strings.  A ConsString is a pair where the</span>
<a name="l07288"></a>07288 <span class="comment">// first and second components are pointers to other string values.</span>
<a name="l07289"></a>07289 <span class="comment">// One or both components of a ConsString can be pointers to other</span>
<a name="l07290"></a>07290 <span class="comment">// ConsStrings, creating a binary tree of ConsStrings where the leaves</span>
<a name="l07291"></a>07291 <span class="comment">// are non-ConsString string values.  The string value represented by</span>
<a name="l07292"></a>07292 <span class="comment">// a ConsString can be obtained by concatenating the leaf string</span>
<a name="l07293"></a>07293 <span class="comment">// values in a left-to-right depth-first traversal of the tree.</span>
<a name="l07294"></a><a class="code" href="classv8_1_1internal_1_1_cons_string.html">07294</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_cons_string.html">ConsString</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a> {
<a name="l07295"></a>07295  <span class="keyword">public</span>:
<a name="l07296"></a>07296   <span class="comment">// First string of the cons cell.</span>
<a name="l07297"></a>07297   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* first();
<a name="l07298"></a>07298   <span class="comment">// Doesn&#39;t check that the result is a string, even in debug mode.  This is</span>
<a name="l07299"></a>07299   <span class="comment">// useful during GC where the mark bits confuse the checks.</span>
<a name="l07300"></a>07300   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* unchecked_first();
<a name="l07301"></a>07301   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_first(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* first,
<a name="l07302"></a>07302                         <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">WriteBarrierMode</a> mode = <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);
<a name="l07303"></a>07303 
<a name="l07304"></a>07304   <span class="comment">// Second string of the cons cell.</span>
<a name="l07305"></a>07305   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* second();
<a name="l07306"></a>07306   <span class="comment">// Doesn&#39;t check that the result is a string, even in debug mode.  This is</span>
<a name="l07307"></a>07307   <span class="comment">// useful during GC where the mark bits confuse the checks.</span>
<a name="l07308"></a>07308   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* unchecked_second();
<a name="l07309"></a>07309   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_second(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* second,
<a name="l07310"></a>07310                          <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">WriteBarrierMode</a> mode = <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);
<a name="l07311"></a>07311 
<a name="l07312"></a>07312   <span class="comment">// Dispatched behavior.</span>
<a name="l07313"></a>07313   <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> ConsStringGet(<span class="keywordtype">int</span> index);
<a name="l07314"></a>07314 
<a name="l07315"></a>07315   <span class="comment">// Casting.</span>
<a name="l07316"></a>07316   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_cons_string.html">ConsString</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07317"></a>07317 
<a name="l07318"></a>07318   <span class="comment">// Layout description.</span>
<a name="l07319"></a><a class="code" href="classv8_1_1internal_1_1_cons_string.html#a95a124eb7efeaba961e787defc3646ee">07319</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFirstOffset = <a class="code" href="v8globals_8h.html#a94d672d4fa68c63cf5d7e3006fae440f">POINTER_SIZE_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_string.html#ab5cf82bcae4ed2d677bac7b8c5c5194a">String::kSize</a>);
<a name="l07320"></a><a class="code" href="classv8_1_1internal_1_1_cons_string.html#ad54aec7d731f2c13af79a6a57774370f">07320</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSecondOffset = kFirstOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07321"></a><a class="code" href="classv8_1_1internal_1_1_cons_string.html#a998544a7ba1a51c4803544dc17cb7882">07321</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kSecondOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07322"></a>07322 
<a name="l07323"></a>07323   <span class="comment">// Support for StringInputBuffer.</span>
<a name="l07324"></a>07324   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* ConsStringReadBlock(<a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07325"></a>07325                                                   <span class="keywordtype">unsigned</span>* offset_ptr,
<a name="l07326"></a>07326                                                   <span class="keywordtype">unsigned</span> chars);
<a name="l07327"></a>07327   <span class="keyword">inline</span> <span class="keywordtype">void</span> ConsStringReadBlockIntoBuffer(<a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07328"></a>07328                                             <span class="keywordtype">unsigned</span>* offset_ptr,
<a name="l07329"></a>07329                                             <span class="keywordtype">unsigned</span> chars);
<a name="l07330"></a>07330 
<a name="l07331"></a>07331   <span class="comment">// Minimum length for a cons string.</span>
<a name="l07332"></a><a class="code" href="classv8_1_1internal_1_1_cons_string.html#aa2d9a5efa6f974193d3b56fdc2d33044">07332</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMinLength = 13;
<a name="l07333"></a>07333 
<a name="l07334"></a>07334   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor&lt;kFirstOffset, kSecondOffset + kPointerSize, kSize&gt;</a>
<a name="l07335"></a><a class="code" href="classv8_1_1internal_1_1_cons_string.html#a9605778fa02003dffc396b8a7842d380">07335</a>           <a class="code" href="classv8_1_1internal_1_1_cons_string.html#a9605778fa02003dffc396b8a7842d380">BodyDescriptor</a>;
<a name="l07336"></a>07336 
<a name="l07337"></a>07337 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l07338"></a>07338 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ConsStringVerify();
<a name="l07339"></a>07339 <span class="preprocessor">#endif</span>
<a name="l07340"></a>07340 <span class="preprocessor"></span>
<a name="l07341"></a>07341  <span class="keyword">private</span>:
<a name="l07342"></a>07342   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_cons_string.html">ConsString</a>);
<a name="l07343"></a>07343 };
<a name="l07344"></a>07344 
<a name="l07345"></a>07345 
<a name="l07346"></a>07346 <span class="comment">// The Sliced String class describes strings that are substrings of another</span>
<a name="l07347"></a>07347 <span class="comment">// sequential string.  The motivation is to save time and memory when creating</span>
<a name="l07348"></a>07348 <span class="comment">// a substring.  A Sliced String is described as a pointer to the parent,</span>
<a name="l07349"></a>07349 <span class="comment">// the offset from the start of the parent string and the length.  Using</span>
<a name="l07350"></a>07350 <span class="comment">// a Sliced String therefore requires unpacking of the parent string and</span>
<a name="l07351"></a>07351 <span class="comment">// adding the offset to the start address.  A substring of a Sliced String</span>
<a name="l07352"></a>07352 <span class="comment">// are not nested since the double indirection is simplified when creating</span>
<a name="l07353"></a>07353 <span class="comment">// such a substring.</span>
<a name="l07354"></a>07354 <span class="comment">// Currently missing features are:</span>
<a name="l07355"></a>07355 <span class="comment">//  - handling externalized parent strings</span>
<a name="l07356"></a>07356 <span class="comment">//  - external strings as parent</span>
<a name="l07357"></a>07357 <span class="comment">//  - truncating sliced string to enable otherwise unneeded parent to be GC&#39;ed.</span>
<a name="l07358"></a><a class="code" href="classv8_1_1internal_1_1_sliced_string.html">07358</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_sliced_string.html">SlicedString</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a> {
<a name="l07359"></a>07359  <span class="keyword">public</span>:
<a name="l07360"></a>07360   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* parent();
<a name="l07361"></a>07361   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_parent(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* parent);
<a name="l07362"></a>07362   <span class="keyword">inline</span> <span class="keywordtype">int</span> offset();
<a name="l07363"></a>07363   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_offset(<span class="keywordtype">int</span> offset);
<a name="l07364"></a>07364 
<a name="l07365"></a>07365   <span class="comment">// Dispatched behavior.</span>
<a name="l07366"></a>07366   <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> SlicedStringGet(<span class="keywordtype">int</span> index);
<a name="l07367"></a>07367 
<a name="l07368"></a>07368   <span class="comment">// Casting.</span>
<a name="l07369"></a>07369   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_sliced_string.html">SlicedString</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07370"></a>07370 
<a name="l07371"></a>07371   <span class="comment">// Layout description.</span>
<a name="l07372"></a><a class="code" href="classv8_1_1internal_1_1_sliced_string.html#a2c749fb117a92c9051a49f1c1d77332b">07372</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kParentOffset = <a class="code" href="v8globals_8h.html#a94d672d4fa68c63cf5d7e3006fae440f">POINTER_SIZE_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_string.html#ab5cf82bcae4ed2d677bac7b8c5c5194a">String::kSize</a>);
<a name="l07373"></a><a class="code" href="classv8_1_1internal_1_1_sliced_string.html#a401ed356562a59051bd258ad7c3d4610">07373</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kOffsetOffset = kParentOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07374"></a><a class="code" href="classv8_1_1internal_1_1_sliced_string.html#aeb78cf184bcdf0b98b21a7440911fef9">07374</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kOffsetOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07375"></a>07375 
<a name="l07376"></a>07376   <span class="comment">// Support for StringInputBuffer</span>
<a name="l07377"></a>07377   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* SlicedStringReadBlock(<a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07378"></a>07378                                                     <span class="keywordtype">unsigned</span>* offset_ptr,
<a name="l07379"></a>07379                                                     <span class="keywordtype">unsigned</span> chars);
<a name="l07380"></a>07380   <span class="keyword">inline</span> <span class="keywordtype">void</span> SlicedStringReadBlockIntoBuffer(<a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07381"></a>07381                                               <span class="keywordtype">unsigned</span>* offset_ptr,
<a name="l07382"></a>07382                                               <span class="keywordtype">unsigned</span> chars);
<a name="l07383"></a>07383   <span class="comment">// Minimum length for a sliced string.</span>
<a name="l07384"></a><a class="code" href="classv8_1_1internal_1_1_sliced_string.html#a007f254a8f5d3daeb63aa3dbeba7d123">07384</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMinLength = 13;
<a name="l07385"></a>07385 
<a name="l07386"></a>07386   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor</a>&lt;kParentOffset,
<a name="l07387"></a>07387                               kOffsetOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>, kSize&gt;
<a name="l07388"></a><a class="code" href="classv8_1_1internal_1_1_sliced_string.html#ac5dbb8e762551faed83b5bacbb93cc78">07388</a>           <a class="code" href="classv8_1_1internal_1_1_sliced_string.html#ac5dbb8e762551faed83b5bacbb93cc78">BodyDescriptor</a>;
<a name="l07389"></a>07389 
<a name="l07390"></a>07390 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l07391"></a>07391 <span class="preprocessor"></span>  <span class="keywordtype">void</span> SlicedStringVerify();
<a name="l07392"></a>07392 <span class="preprocessor">#endif</span>
<a name="l07393"></a>07393 <span class="preprocessor"></span>
<a name="l07394"></a>07394  <span class="keyword">private</span>:
<a name="l07395"></a>07395   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_sliced_string.html">SlicedString</a>);
<a name="l07396"></a>07396 };
<a name="l07397"></a>07397 
<a name="l07398"></a>07398 
<a name="l07399"></a>07399 <span class="comment">// The ExternalString class describes string values that are backed by</span>
<a name="l07400"></a>07400 <span class="comment">// a string resource that lies outside the V8 heap.  ExternalStrings</span>
<a name="l07401"></a>07401 <span class="comment">// consist of the length field common to all strings, a pointer to the</span>
<a name="l07402"></a>07402 <span class="comment">// external resource.  It is important to ensure (externally) that the</span>
<a name="l07403"></a>07403 <span class="comment">// resource is not deallocated while the ExternalString is live in the</span>
<a name="l07404"></a>07404 <span class="comment">// V8 heap.</span>
<a name="l07405"></a>07405 <span class="comment">//</span>
<a name="l07406"></a>07406 <span class="comment">// The API expects that all ExternalStrings are created through the</span>
<a name="l07407"></a>07407 <span class="comment">// API.  Therefore, ExternalStrings should not be used internally.</span>
<a name="l07408"></a><a class="code" href="classv8_1_1internal_1_1_external_string.html">07408</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_string.html">ExternalString</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_string.html">String</a> {
<a name="l07409"></a>07409  <span class="keyword">public</span>:
<a name="l07410"></a>07410   <span class="comment">// Casting</span>
<a name="l07411"></a>07411   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_string.html">ExternalString</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07412"></a>07412 
<a name="l07413"></a>07413   <span class="comment">// Layout description.</span>
<a name="l07414"></a><a class="code" href="classv8_1_1internal_1_1_external_string.html#ac5251d51ad59028573e1e5f8e534318a">07414</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kResourceOffset = <a class="code" href="v8globals_8h.html#a94d672d4fa68c63cf5d7e3006fae440f">POINTER_SIZE_ALIGN</a>(<a class="code" href="classv8_1_1internal_1_1_string.html#ab5cf82bcae4ed2d677bac7b8c5c5194a">String::kSize</a>);
<a name="l07415"></a><a class="code" href="classv8_1_1internal_1_1_external_string.html#abb06b1e195bf54477442ee1b79c535db">07415</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a71ae2be62dfa06ef26562c2a1ab36cf1">kShortSize</a> = kResourceOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07416"></a><a class="code" href="classv8_1_1internal_1_1_external_string.html#a4348137b1eb1eb30d93dea886db3b572">07416</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kResourceDataOffset = kResourceOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07417"></a><a class="code" href="classv8_1_1internal_1_1_external_string.html#a461b89e75b8747480b89e871ab38a3fb">07417</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kResourceDataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07418"></a>07418 
<a name="l07419"></a>07419   <span class="comment">// Return whether external string is short (data pointer is not cached).</span>
<a name="l07420"></a>07420   <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_short();
<a name="l07421"></a>07421 
<a name="l07422"></a>07422   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(kResourceOffset == <a class="code" href="classv8_1_1internal_1_1_internals.html#a8c2b35069864f567ca0c571310dd90a1">Internals::kStringResourceOffset</a>);
<a name="l07423"></a>07423 
<a name="l07424"></a>07424  <span class="keyword">private</span>:
<a name="l07425"></a>07425   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_string.html">ExternalString</a>);
<a name="l07426"></a>07426 };
<a name="l07427"></a>07427 
<a name="l07428"></a>07428 
<a name="l07429"></a>07429 <span class="comment">// The ExternalAsciiString class is an external string backed by an</span>
<a name="l07430"></a>07430 <span class="comment">// ASCII string.</span>
<a name="l07431"></a><a class="code" href="classv8_1_1internal_1_1_external_ascii_string.html">07431</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_ascii_string.html">ExternalAsciiString</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_string.html">ExternalString</a> {
<a name="l07432"></a>07432  <span class="keyword">public</span>:
<a name="l07433"></a><a class="code" href="classv8_1_1internal_1_1_external_ascii_string.html#a7121017f5c49ab5f1b6406503a8d94f9">07433</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> kHasAsciiEncoding = <span class="keyword">true</span>;
<a name="l07434"></a>07434 
<a name="l07435"></a><a class="code" href="classv8_1_1internal_1_1_external_ascii_string.html#a59ed6979e934fff70e416e70860cdb21">07435</a>   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1_string_1_1_external_ascii_string_resource.html">v8::String::ExternalAsciiStringResource</a> <a class="code" href="classv8_1_1internal_1_1_external_ascii_string.html#a59ed6979e934fff70e416e70860cdb21">Resource</a>;
<a name="l07436"></a>07436 
<a name="l07437"></a>07437   <span class="comment">// The underlying resource.</span>
<a name="l07438"></a>07438   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classv8_1_1_string_1_1_external_ascii_string_resource.html">Resource</a>* resource();
<a name="l07439"></a>07439   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_resource(<span class="keyword">const</span> <a class="code" href="classv8_1_1_string_1_1_external_ascii_string_resource.html">Resource</a>* buffer);
<a name="l07440"></a>07440 
<a name="l07441"></a>07441   <span class="comment">// Update the pointer cache to the external character array.</span>
<a name="l07442"></a>07442   <span class="comment">// The cached pointer is always valid, as the external character array does =</span>
<a name="l07443"></a>07443   <span class="comment">// not move during lifetime.  Deserialization is the only exception, after</span>
<a name="l07444"></a>07444   <span class="comment">// which the pointer cache has to be refreshed.</span>
<a name="l07445"></a>07445   <span class="keyword">inline</span> <span class="keywordtype">void</span> update_data_cache();
<a name="l07446"></a>07446 
<a name="l07447"></a>07447   <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* GetChars();
<a name="l07448"></a>07448 
<a name="l07449"></a>07449   <span class="comment">// Dispatched behavior.</span>
<a name="l07450"></a>07450   <span class="keyword">inline</span> <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> ExternalAsciiStringGet(<span class="keywordtype">int</span> index);
<a name="l07451"></a>07451 
<a name="l07452"></a>07452   <span class="comment">// Casting.</span>
<a name="l07453"></a>07453   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_ascii_string.html">ExternalAsciiString</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07454"></a>07454 
<a name="l07455"></a>07455   <span class="comment">// Garbage collection support.</span>
<a name="l07456"></a>07456   <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalAsciiStringIterateBody(ObjectVisitor* v);
<a name="l07457"></a>07457 
<a name="l07458"></a>07458   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> StaticVisitor&gt;
<a name="l07459"></a>07459   <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalAsciiStringIterateBody();
<a name="l07460"></a>07460 
<a name="l07461"></a>07461   <span class="comment">// Support for StringInputBuffer.</span>
<a name="l07462"></a>07462   <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a81e169d976356d0979aaf9d5a1510650">unibrow::byte</a>* ExternalAsciiStringReadBlock(<span class="keywordtype">unsigned</span>* remaining,
<a name="l07463"></a>07463                                                     <span class="keywordtype">unsigned</span>* offset,
<a name="l07464"></a>07464                                                     <span class="keywordtype">unsigned</span> chars);
<a name="l07465"></a>07465   <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalAsciiStringReadBlockIntoBuffer(<a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07466"></a>07466                                                      <span class="keywordtype">unsigned</span>* offset,
<a name="l07467"></a>07467                                                      <span class="keywordtype">unsigned</span> chars);
<a name="l07468"></a>07468 
<a name="l07469"></a>07469  <span class="keyword">private</span>:
<a name="l07470"></a>07470   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_ascii_string.html">ExternalAsciiString</a>);
<a name="l07471"></a>07471 };
<a name="l07472"></a>07472 
<a name="l07473"></a>07473 
<a name="l07474"></a>07474 <span class="comment">// The ExternalTwoByteString class is an external string backed by a UTF-16</span>
<a name="l07475"></a>07475 <span class="comment">// encoded string.</span>
<a name="l07476"></a><a class="code" href="classv8_1_1internal_1_1_external_two_byte_string.html">07476</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_external_two_byte_string.html">ExternalTwoByteString</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_external_string.html">ExternalString</a> {
<a name="l07477"></a>07477  <span class="keyword">public</span>:
<a name="l07478"></a><a class="code" href="classv8_1_1internal_1_1_external_two_byte_string.html#a5a552ce81c00ca65f3d40d2c32c8d0d4">07478</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> kHasAsciiEncoding = <span class="keyword">false</span>;
<a name="l07479"></a>07479 
<a name="l07480"></a><a class="code" href="classv8_1_1internal_1_1_external_two_byte_string.html#a5a74ee8539e114d51940dc69c742880b">07480</a>   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1_string_1_1_external_string_resource.html">v8::String::ExternalStringResource</a> <a class="code" href="classv8_1_1internal_1_1_external_two_byte_string.html#a5a74ee8539e114d51940dc69c742880b">Resource</a>;
<a name="l07481"></a>07481 
<a name="l07482"></a>07482   <span class="comment">// The underlying string resource.</span>
<a name="l07483"></a>07483   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classv8_1_1_string_1_1_external_string_resource.html">Resource</a>* resource();
<a name="l07484"></a>07484   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_resource(<span class="keyword">const</span> <a class="code" href="classv8_1_1_string_1_1_external_string_resource.html">Resource</a>* buffer);
<a name="l07485"></a>07485 
<a name="l07486"></a>07486   <span class="comment">// Update the pointer cache to the external character array.</span>
<a name="l07487"></a>07487   <span class="comment">// The cached pointer is always valid, as the external character array does =</span>
<a name="l07488"></a>07488   <span class="comment">// not move during lifetime.  Deserialization is the only exception, after</span>
<a name="l07489"></a>07489   <span class="comment">// which the pointer cache has to be refreshed.</span>
<a name="l07490"></a>07490   <span class="keyword">inline</span> <span class="keywordtype">void</span> update_data_cache();
<a name="l07491"></a>07491 
<a name="l07492"></a>07492   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a>* GetChars();
<a name="l07493"></a>07493 
<a name="l07494"></a>07494   <span class="comment">// Dispatched behavior.</span>
<a name="l07495"></a>07495   <span class="keyword">inline</span> <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> ExternalTwoByteStringGet(<span class="keywordtype">int</span> index);
<a name="l07496"></a>07496 
<a name="l07497"></a>07497   <span class="comment">// For regexp code.</span>
<a name="l07498"></a>07498   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a>* ExternalTwoByteStringGetData(<span class="keywordtype">unsigned</span> <a class="code" href="namespacell__prof.html#a5b7aee10eba26bc62f35b1049906c277">start</a>);
<a name="l07499"></a>07499 
<a name="l07500"></a>07500   <span class="comment">// Casting.</span>
<a name="l07501"></a>07501   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_external_two_byte_string.html">ExternalTwoByteString</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07502"></a>07502 
<a name="l07503"></a>07503   <span class="comment">// Garbage collection support.</span>
<a name="l07504"></a>07504   <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalTwoByteStringIterateBody(ObjectVisitor* v);
<a name="l07505"></a>07505 
<a name="l07506"></a>07506   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> StaticVisitor&gt;
<a name="l07507"></a>07507   <span class="keyword">inline</span> <span class="keywordtype">void</span> ExternalTwoByteStringIterateBody();
<a name="l07508"></a>07508 
<a name="l07509"></a>07509 
<a name="l07510"></a>07510   <span class="comment">// Support for StringInputBuffer.</span>
<a name="l07511"></a>07511   <span class="keywordtype">void</span> ExternalTwoByteStringReadBlockIntoBuffer(<a class="code" href="classv8_1_1internal_1_1_string_1_1_read_block_buffer.html">ReadBlockBuffer</a>* buffer,
<a name="l07512"></a>07512                                                 <span class="keywordtype">unsigned</span>* offset_ptr,
<a name="l07513"></a>07513                                                 <span class="keywordtype">unsigned</span> chars);
<a name="l07514"></a>07514 
<a name="l07515"></a>07515  <span class="keyword">private</span>:
<a name="l07516"></a>07516   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_external_two_byte_string.html">ExternalTwoByteString</a>);
<a name="l07517"></a>07517 };
<a name="l07518"></a>07518 
<a name="l07519"></a>07519 
<a name="l07520"></a>07520 <span class="comment">// Utility superclass for stack-allocated objects that must be updated</span>
<a name="l07521"></a>07521 <span class="comment">// on gc.  It provides two ways for the gc to update instances, either</span>
<a name="l07522"></a>07522 <span class="comment">// iterating or updating after gc.</span>
<a name="l07523"></a>07523 <span class="keyword">class </span>Relocatable <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html">BASE_EMBEDDED</a> {
<a name="l07524"></a>07524  <span class="keyword">public</span>:
<a name="l07525"></a>07525   <span class="keyword">explicit</span> <span class="keyword">inline</span> Relocatable(<a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate);
<a name="l07526"></a>07526   <span class="keyword">inline</span> <span class="keyword">virtual</span> ~Relocatable();
<a name="l07527"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a01898b35021399be9a23489ea8d45cbb">07527</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a01898b35021399be9a23489ea8d45cbb">IterateInstance</a>(ObjectVisitor* v) { }
<a name="l07528"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a3423a94727f01cf7c4b232e5245081fe">07528</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a3423a94727f01cf7c4b232e5245081fe">PostGarbageCollection</a>() { }
<a name="l07529"></a>07529 
<a name="l07530"></a>07530   <span class="keyword">static</span> <span class="keywordtype">void</span> PostGarbageCollectionProcessing();
<a name="l07531"></a>07531   <span class="keyword">static</span> <span class="keywordtype">int</span> ArchiveSpacePerThread();
<a name="l07532"></a>07532   <span class="keyword">static</span> <span class="keywordtype">char</span>* ArchiveState(<a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate, <span class="keywordtype">char</span>* to);
<a name="l07533"></a>07533   <span class="keyword">static</span> <span class="keywordtype">char</span>* RestoreState(<a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate, <span class="keywordtype">char</span>* from);
<a name="l07534"></a>07534   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ad87e32c09e00dd3f4470bbb4db518968">Iterate</a>(ObjectVisitor* v);
<a name="l07535"></a>07535   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ad87e32c09e00dd3f4470bbb4db518968">Iterate</a>(ObjectVisitor* v, Relocatable* top);
<a name="l07536"></a>07536   <span class="keyword">static</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1internal_1_1_heap_object.html#ad87e32c09e00dd3f4470bbb4db518968">Iterate</a>(ObjectVisitor* v, <span class="keywordtype">char</span>* t);
<a name="l07537"></a>07537  <span class="keyword">private</span>:
<a name="l07538"></a>07538   <a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate_;
<a name="l07539"></a>07539   Relocatable* prev_;
<a name="l07540"></a>07540 };
<a name="l07541"></a>07541 
<a name="l07542"></a>07542 
<a name="l07543"></a>07543 <span class="comment">// A flat string reader provides random access to the contents of a</span>
<a name="l07544"></a>07544 <span class="comment">// string independent of the character width of the string.  The handle</span>
<a name="l07545"></a>07545 <span class="comment">// must be valid as long as the reader is being used.</span>
<a name="l07546"></a><a class="code" href="classv8_1_1internal_1_1_flat_string_reader.html">07546</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_flat_string_reader.html">FlatStringReader</a> : <span class="keyword">public</span> Relocatable {
<a name="l07547"></a>07547  <span class="keyword">public</span>:
<a name="l07548"></a>07548   <a class="code" href="classv8_1_1internal_1_1_flat_string_reader.html">FlatStringReader</a>(<a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;String&gt;</a> str);
<a name="l07549"></a>07549   <a class="code" href="classv8_1_1internal_1_1_flat_string_reader.html">FlatStringReader</a>(<a class="code" href="classv8_1_1internal_1_1_isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const char&gt;</a> input);
<a name="l07550"></a>07550   <span class="keywordtype">void</span> PostGarbageCollection();
<a name="l07551"></a>07551   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#ad9a86f8b73c0a5aadb7bb23da923de7e">uc32</a> Get(<span class="keywordtype">int</span> index);
<a name="l07552"></a><a class="code" href="classv8_1_1internal_1_1_flat_string_reader.html#af402065726c67b6223a3f09df2156a45">07552</a>   <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_flat_string_reader.html#af402065726c67b6223a3f09df2156a45">length</a>() { <span class="keywordflow">return</span> length_; }
<a name="l07553"></a>07553  <span class="keyword">private</span>:
<a name="l07554"></a>07554   <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>** str_;
<a name="l07555"></a>07555   <span class="keywordtype">bool</span> is_ascii_;
<a name="l07556"></a>07556   <span class="keywordtype">int</span> length_;
<a name="l07557"></a>07557   <span class="keyword">const</span> <span class="keywordtype">void</span>* start_;
<a name="l07558"></a>07558 };
<a name="l07559"></a>07559 
<a name="l07560"></a>07560 
<a name="l07561"></a>07561 <span class="comment">// Note that StringInputBuffers are not valid across a GC!  To fix this</span>
<a name="l07562"></a>07562 <span class="comment">// it would have to store a String Handle instead of a String* and</span>
<a name="l07563"></a>07563 <span class="comment">// AsciiStringReadBlock would have to be modified to use memcpy.</span>
<a name="l07564"></a>07564 <span class="comment">//</span>
<a name="l07565"></a>07565 <span class="comment">// StringInputBuffer is able to traverse any string regardless of how</span>
<a name="l07566"></a>07566 <span class="comment">// deeply nested a sequence of ConsStrings it is made of.  However,</span>
<a name="l07567"></a>07567 <span class="comment">// performance will be better if deep strings are flattened before they</span>
<a name="l07568"></a>07568 <span class="comment">// are traversed.  Since flattening requires memory allocation this is</span>
<a name="l07569"></a>07569 <span class="comment">// not always desirable, however (esp. in debugging situations).</span>
<a name="l07570"></a><a class="code" href="classv8_1_1internal_1_1_string_input_buffer.html">07570</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_string_input_buffer.html">StringInputBuffer</a>: <span class="keyword">public</span> <a class="code" href="classunibrow_1_1_input_buffer.html">unibrow::InputBuffer</a>&lt;String, String*, 1024&gt; {
<a name="l07571"></a>07571  <span class="keyword">public</span>:
<a name="l07572"></a>07572   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Seek(<span class="keywordtype">unsigned</span> pos);
<a name="l07573"></a><a class="code" href="classv8_1_1internal_1_1_string_input_buffer.html#a6893b6801fe6aaf68c1bda85c70d1a5b">07573</a>   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string_input_buffer.html#a6893b6801fe6aaf68c1bda85c70d1a5b">StringInputBuffer</a>(): unibrow::InputBuffer&lt;<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>, <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>*, 1024&gt;() {}
<a name="l07574"></a><a class="code" href="classv8_1_1internal_1_1_string_input_buffer.html#a428f4d7c7de8893ea4557c33fd572c4f">07574</a>   <span class="keyword">explicit</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_string_input_buffer.html">StringInputBuffer</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* backing):
<a name="l07575"></a>07575       unibrow::InputBuffer&lt;<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>, <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>*, 1024&gt;(backing) {}
<a name="l07576"></a>07576 };
<a name="l07577"></a>07577 
<a name="l07578"></a>07578 
<a name="l07579"></a><a class="code" href="classv8_1_1internal_1_1_safe_string_input_buffer.html">07579</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_safe_string_input_buffer.html">SafeStringInputBuffer</a>
<a name="l07580"></a>07580   : <span class="keyword">public</span> <a class="code" href="classunibrow_1_1_input_buffer.html">unibrow::InputBuffer</a>&lt;String, String**, 256&gt; {
<a name="l07581"></a>07581  <span class="keyword">public</span>:
<a name="l07582"></a>07582   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Seek(<span class="keywordtype">unsigned</span> pos);
<a name="l07583"></a><a class="code" href="classv8_1_1internal_1_1_safe_string_input_buffer.html#af9bc71d4032a4f16a3773629a5a26c10">07583</a>   <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_safe_string_input_buffer.html">SafeStringInputBuffer</a>()
<a name="l07584"></a>07584       : unibrow::InputBuffer&lt;<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>, <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>**, 256&gt;() {}
<a name="l07585"></a><a class="code" href="classv8_1_1internal_1_1_safe_string_input_buffer.html#a5ac422e315e832ad1284d9de04a4fa27">07585</a>   <span class="keyword">explicit</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_safe_string_input_buffer.html">SafeStringInputBuffer</a>(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>** backing)
<a name="l07586"></a>07586       : unibrow::InputBuffer&lt;<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>, <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>**, 256&gt;(backing) {}
<a name="l07587"></a>07587 };
<a name="l07588"></a>07588 
<a name="l07589"></a>07589 
<a name="l07590"></a>07590 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l07591"></a><a class="code" href="classv8_1_1internal_1_1_vector_iterator.html">07591</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_vector_iterator.html">VectorIterator</a> {
<a name="l07592"></a>07592  <span class="keyword">public</span>:
<a name="l07593"></a><a class="code" href="classv8_1_1internal_1_1_vector_iterator.html#a5721bb81564089949c1cea330858f659">07593</a>   <a class="code" href="classv8_1_1internal_1_1_vector_iterator.html#a5721bb81564089949c1cea330858f659">VectorIterator</a>(<a class="code" href="token_8cc.html#aeb3b320679bdd784c8fc3b5f2aa813a9">T</a>* d, <span class="keywordtype">int</span> l) : data_(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector</a>&lt;const <a class="code" href="token_8cc.html#aeb3b320679bdd784c8fc3b5f2aa813a9">T</a>&gt;(d, l)), index_(0) { }
<a name="l07594"></a><a class="code" href="classv8_1_1internal_1_1_vector_iterator.html#a0dc4c9efcb9257f5f1f37c1e1af9aac8">07594</a>   <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1_vector_iterator.html#a0dc4c9efcb9257f5f1f37c1e1af9aac8">VectorIterator</a>(<a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const T&gt;</a> data) : data_(data), index_(0) { }
<a name="l07595"></a><a class="code" href="classv8_1_1internal_1_1_vector_iterator.html#ac2c10a0c007bd377a35dc83553340a95">07595</a>   <a class="code" href="token_8cc.html#aeb3b320679bdd784c8fc3b5f2aa813a9">T</a> <a class="code" href="classv8_1_1internal_1_1_vector_iterator.html#ac2c10a0c007bd377a35dc83553340a95">GetNext</a>() { <span class="keywordflow">return</span> data_[index_++]; }
<a name="l07596"></a><a class="code" href="classv8_1_1internal_1_1_vector_iterator.html#a4599ae0ce6acfde5beddcd9943f721b7">07596</a>   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_vector_iterator.html#a4599ae0ce6acfde5beddcd9943f721b7">has_more</a>() { <span class="keywordflow">return</span> index_ &lt; data_.length(); }
<a name="l07597"></a>07597  <span class="keyword">private</span>:
<a name="l07598"></a>07598   <a class="code" href="classv8_1_1internal_1_1_vector.html">Vector&lt;const T&gt;</a> data_;
<a name="l07599"></a>07599   <span class="keywordtype">int</span> index_;
<a name="l07600"></a>07600 };
<a name="l07601"></a>07601 
<a name="l07602"></a>07602 
<a name="l07603"></a>07603 <span class="comment">// The Oddball describes objects null, undefined, true, and false.</span>
<a name="l07604"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html">07604</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_oddball.html">Oddball</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l07605"></a>07605  <span class="keyword">public</span>:
<a name="l07606"></a>07606   <span class="comment">// [to_string]: Cached to_string computed at startup.</span>
<a name="l07607"></a>07607   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(to_string, <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>)
<a name="l07608"></a>07608 
<a name="l07609"></a>07609   <span class="comment">// [to_number]: Cached to_number computed at startup.</span>
<a name="l07610"></a>07610   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(to_number, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07611"></a>07611 
<a name="l07612"></a>07612   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kind();
<a name="l07613"></a>07613   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_kind(<a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kind);
<a name="l07614"></a>07614 
<a name="l07615"></a>07615   <span class="comment">// Casting.</span>
<a name="l07616"></a>07616   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_oddball.html">Oddball</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07617"></a>07617 
<a name="l07618"></a>07618   <span class="comment">// Dispatched behavior.</span>
<a name="l07619"></a>07619 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l07620"></a>07620 <span class="preprocessor"></span>  <span class="keywordtype">void</span> OddballVerify();
<a name="l07621"></a>07621 <span class="preprocessor">#endif</span>
<a name="l07622"></a>07622 <span class="preprocessor"></span>
<a name="l07623"></a>07623   <span class="comment">// Initialize the fields.</span>
<a name="l07624"></a>07624   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* Initialize(<span class="keyword">const</span> <span class="keywordtype">char</span>* to_string,
<a name="l07625"></a>07625                                           <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* to_number,
<a name="l07626"></a>07626                                           <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kind);
<a name="l07627"></a>07627 
<a name="l07628"></a>07628   <span class="comment">// Layout description.</span>
<a name="l07629"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#aa6a9637c9e8da1a28f83c788c1027013">07629</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kToStringOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l07630"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a15f1533c8dc4c622d3a14c291103d5e3">07630</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kToNumberOffset = kToStringOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07631"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a3aa86ed02d356c506c27a284e683b865">07631</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kKindOffset = kToNumberOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07632"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a94ef696c3fd95d44b6ace00ae799d890">07632</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kKindOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07633"></a>07633 
<a name="l07634"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a3556ea40330ca7f13d1546b9a5ab278c">07634</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kFalse = 0;
<a name="l07635"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a7dd4be392c0689925b57abb5898c8b47">07635</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kTrue = 1;
<a name="l07636"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a0286390eeab3d5ff7cd0e0dd09712c1b">07636</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kNotBooleanMask = ~1;
<a name="l07637"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a56d93ed85d040bf41eb738a1f0e0c2f2">07637</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kTheHole = 2;
<a name="l07638"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a7e9e260f9a1ee980b4ac12e2d534ff27">07638</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kNull = 3;
<a name="l07639"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a3fa2607976e877ccca4e4b2e23a060a6">07639</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kArgumentMarker = 4;
<a name="l07640"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#a38ddddfd10d8732bcef0714b3bd57008">07640</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kUndefined = 5;
<a name="l07641"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#af181f2f5cc1b00216ed1a2ebacecc40e">07641</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af7faf565f54e78c34be0c228fae4af12">byte</a> kOther = 6;
<a name="l07642"></a>07642 
<a name="l07643"></a>07643   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor</a>&lt;kToStringOffset,
<a name="l07644"></a>07644                               kToNumberOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>,
<a name="l07645"></a><a class="code" href="classv8_1_1internal_1_1_oddball.html#ad1d459bb4618454b50c162aa60785ca0">07645</a>                               kSize&gt; <a class="code" href="classv8_1_1internal_1_1_oddball.html#ad1d459bb4618454b50c162aa60785ca0">BodyDescriptor</a>;
<a name="l07646"></a>07646 
<a name="l07647"></a>07647   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(kKindOffset == <a class="code" href="classv8_1_1internal_1_1_internals.html#a98685d6861a07139720cd296f94f2b73">Internals::kOddballKindOffset</a>);
<a name="l07648"></a>07648   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(kNull == <a class="code" href="classv8_1_1internal_1_1_internals.html#a72243c5512cb5cab9d10b6f29e775180">Internals::kNullOddballKind</a>);
<a name="l07649"></a>07649   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(kUndefined == <a class="code" href="classv8_1_1internal_1_1_internals.html#a39072b9e0ffea4031f4a1c514208b20d">Internals::kUndefinedOddballKind</a>);
<a name="l07650"></a>07650 
<a name="l07651"></a>07651  <span class="keyword">private</span>:
<a name="l07652"></a>07652   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_oddball.html">Oddball</a>);
<a name="l07653"></a>07653 };
<a name="l07654"></a>07654 
<a name="l07655"></a>07655 
<a name="l07656"></a><a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html">07656</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html">JSGlobalPropertyCell</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l07657"></a>07657  <span class="keyword">public</span>:
<a name="l07658"></a>07658   <span class="comment">// [value]: value of the global property.</span>
<a name="l07659"></a>07659   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(value, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07660"></a>07660 
<a name="l07661"></a>07661   <span class="comment">// Casting.</span>
<a name="l07662"></a>07662   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html">JSGlobalPropertyCell</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07663"></a>07663 
<a name="l07664"></a>07664 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l07665"></a>07665 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSGlobalPropertyCellVerify();
<a name="l07666"></a>07666 <span class="preprocessor">#endif</span>
<a name="l07667"></a>07667 <span class="preprocessor"></span><span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l07668"></a>07668 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSGlobalPropertyCellPrint() {
<a name="l07669"></a>07669     JSGlobalPropertyCellPrint(stdout);
<a name="l07670"></a>07670   }
<a name="l07671"></a>07671   <span class="keywordtype">void</span> JSGlobalPropertyCellPrint(FILE* out);
<a name="l07672"></a>07672 <span class="preprocessor">#endif</span>
<a name="l07673"></a>07673 <span class="preprocessor"></span>
<a name="l07674"></a>07674   <span class="comment">// Layout description.</span>
<a name="l07675"></a><a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html#aa94d3572b3703c61747c27c2b3b1eb8b">07675</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kValueOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l07676"></a><a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html#a7fc5d778ffa2e6bc7e55d7bae3255a9c">07676</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kValueOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07677"></a>07677 
<a name="l07678"></a>07678   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor</a>&lt;kValueOffset,
<a name="l07679"></a>07679                               kValueOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>,
<a name="l07680"></a><a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html#aec03f8f4dc9994e28869f4d7c4089a77">07680</a>                               kSize&gt; <a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html#aec03f8f4dc9994e28869f4d7c4089a77">BodyDescriptor</a>;
<a name="l07681"></a>07681 
<a name="l07682"></a>07682  <span class="keyword">private</span>:
<a name="l07683"></a>07683   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_global_property_cell.html">JSGlobalPropertyCell</a>);
<a name="l07684"></a>07684 };
<a name="l07685"></a>07685 
<a name="l07686"></a>07686 
<a name="l07687"></a>07687 <span class="comment">// The JSProxy describes EcmaScript Harmony proxies</span>
<a name="l07688"></a><a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html">07688</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html">JSProxy</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a> {
<a name="l07689"></a>07689  <span class="keyword">public</span>:
<a name="l07690"></a>07690   <span class="comment">// [handler]: The handler property.</span>
<a name="l07691"></a>07691   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(handler, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07692"></a>07692 
<a name="l07693"></a>07693   <span class="comment">// [hash]: The hash code property (undefined if not initialized yet).</span>
<a name="l07694"></a>07694   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(hash, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07695"></a>07695 
<a name="l07696"></a>07696   <span class="comment">// Casting.</span>
<a name="l07697"></a>07697   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html">JSProxy</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07698"></a>07698 
<a name="l07699"></a>07699   <span class="keywordtype">bool</span> HasPropertyWithHandler(<a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* <a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>);
<a name="l07700"></a>07700   <span class="keywordtype">bool</span> HasElementWithHandler(uint32_t index);
<a name="l07701"></a>07701 
<a name="l07702"></a>07702   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* GetPropertyWithHandler(
<a name="l07703"></a>07703       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* receiver,
<a name="l07704"></a>07704       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name);
<a name="l07705"></a>07705   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* GetElementWithHandler(
<a name="l07706"></a>07706       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* receiver,
<a name="l07707"></a>07707       uint32_t index);
<a name="l07708"></a>07708 
<a name="l07709"></a>07709   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetPropertyWithHandler(
<a name="l07710"></a>07710       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l07711"></a>07711       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l07712"></a>07712       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l07713"></a>07713       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l07714"></a>07714   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetElementWithHandler(
<a name="l07715"></a>07715       uint32_t index,
<a name="l07716"></a>07716       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l07717"></a>07717       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode);
<a name="l07718"></a>07718 
<a name="l07719"></a>07719   <span class="comment">// If the handler defines an accessor property, invoke its setter</span>
<a name="l07720"></a>07720   <span class="comment">// (or throw if only a getter exists) and set *found to true. Otherwise false.</span>
<a name="l07721"></a>07721   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetPropertyWithHandlerIfDefiningSetter(
<a name="l07722"></a>07722       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l07723"></a>07723       <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value,
<a name="l07724"></a>07724       <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes,
<a name="l07725"></a>07725       <a class="code" href="namespacev8_1_1internal.html#a574f1e4d93eee9a7aa40e1130b82c5b3">StrictModeFlag</a> strict_mode,
<a name="l07726"></a>07726       <span class="keywordtype">bool</span>* found);
<a name="l07727"></a>07727 
<a name="l07728"></a>07728   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* DeletePropertyWithHandler(
<a name="l07729"></a>07729       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name,
<a name="l07730"></a>07730       <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> mode);
<a name="l07731"></a>07731   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* DeleteElementWithHandler(
<a name="l07732"></a>07732       uint32_t index,
<a name="l07733"></a>07733       <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html#ad389cc1753593f03525894c2946559db">DeleteMode</a> mode);
<a name="l07734"></a>07734 
<a name="l07735"></a>07735   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> GetPropertyAttributeWithHandler(
<a name="l07736"></a>07736       <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* receiver,
<a name="l07737"></a>07737       <a class="code" href="classv8_1_1internal_1_1_string.html">String</a>* name);
<a name="l07738"></a>07738   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> GetElementAttributeWithHandler(
<a name="l07739"></a>07739       <a class="code" href="classv8_1_1internal_1_1_j_s_receiver.html">JSReceiver</a>* receiver,
<a name="l07740"></a>07740       uint32_t index);
<a name="l07741"></a>07741 
<a name="l07742"></a>07742   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* GetIdentityHash(<a class="code" href="namespacev8_1_1internal.html#ada45134a6bd4d129ff7bb532d7b9ddb6">CreationFlag</a> <a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>);
<a name="l07743"></a>07743 
<a name="l07744"></a>07744   <span class="comment">// Turn this into an (empty) JSObject.</span>
<a name="l07745"></a>07745   <span class="keywordtype">void</span> Fix();
<a name="l07746"></a>07746 
<a name="l07747"></a>07747   <span class="comment">// Initializes the body after the handler slot.</span>
<a name="l07748"></a>07748   <span class="keyword">inline</span> <span class="keywordtype">void</span> InitializeBody(<span class="keywordtype">int</span> object_size, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l07749"></a>07749 
<a name="l07750"></a>07750   <span class="comment">// Invoke a trap by name. If the trap does not exist on this&#39;s handler,</span>
<a name="l07751"></a>07751   <span class="comment">// but derived_trap is non-NULL, invoke that instead.  May cause GC.</span>
<a name="l07752"></a>07752   <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> CallTrap(<span class="keyword">const</span> <span class="keywordtype">char</span>* name,
<a name="l07753"></a>07753                           <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> derived_trap,
<a name="l07754"></a>07754                           <span class="keywordtype">int</span> argc,
<a name="l07755"></a>07755                           <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> args[]);
<a name="l07756"></a>07756 
<a name="l07757"></a>07757   <span class="comment">// Dispatched behavior.</span>
<a name="l07758"></a>07758 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l07759"></a>07759 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSProxyPrint() {
<a name="l07760"></a>07760     JSProxyPrint(stdout);
<a name="l07761"></a>07761   }
<a name="l07762"></a>07762   <span class="keywordtype">void</span> JSProxyPrint(FILE* out);
<a name="l07763"></a>07763 <span class="preprocessor">#endif</span>
<a name="l07764"></a>07764 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l07765"></a>07765 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSProxyVerify();
<a name="l07766"></a>07766 <span class="preprocessor">#endif</span>
<a name="l07767"></a>07767 <span class="preprocessor"></span>
<a name="l07768"></a>07768   <span class="comment">// Layout description. We add padding so that a proxy has the same</span>
<a name="l07769"></a>07769   <span class="comment">// size as a virgin JSObject. This is essential for becoming a JSObject</span>
<a name="l07770"></a>07770   <span class="comment">// upon freeze.</span>
<a name="l07771"></a><a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html#aa806e0b972c00bd7011605e4859a4a0e">07771</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHandlerOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l07772"></a><a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html#a168ff8fa92638a10a3cdd1f4701097df">07772</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHashOffset = kHandlerOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07773"></a><a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html#a912bf6dd6649f735f2c049b89c42a3e4">07773</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPaddingOffset = kHashOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07774"></a><a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html#a59ed1c6e05e6ea07645c40c9567bfe8c">07774</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l07775"></a><a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html#a75f253e334d95eb148ef16abb838e25c">07775</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a> = kPaddingOffset;
<a name="l07776"></a><a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html#afaafd345ddb93558d8993503bc14107f">07776</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPaddingSize = kSize - kPaddingOffset;
<a name="l07777"></a>07777 
<a name="l07778"></a>07778   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(kPaddingSize &gt;= 0);
<a name="l07779"></a>07779 
<a name="l07780"></a>07780   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor</a>&lt;kHandlerOffset,
<a name="l07781"></a>07781                               kPaddingOffset,
<a name="l07782"></a><a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html#a8cfabd65e923946f55cda0feb323c474">07782</a>                               kSize&gt; <a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html#a8cfabd65e923946f55cda0feb323c474">BodyDescriptor</a>;
<a name="l07783"></a>07783 
<a name="l07784"></a>07784  <span class="keyword">private</span>:
<a name="l07785"></a>07785   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html">JSProxy</a>);
<a name="l07786"></a>07786 };
<a name="l07787"></a>07787 
<a name="l07788"></a>07788 
<a name="l07789"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html">07789</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html">JSFunctionProxy</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html">JSProxy</a> {
<a name="l07790"></a>07790  <span class="keyword">public</span>:
<a name="l07791"></a>07791   <span class="comment">// [call_trap]: The call trap.</span>
<a name="l07792"></a>07792   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(call_trap, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07793"></a>07793 
<a name="l07794"></a>07794   <span class="comment">// [construct_trap]: The construct trap.</span>
<a name="l07795"></a>07795   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(construct_trap, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07796"></a>07796 
<a name="l07797"></a>07797   <span class="comment">// Casting.</span>
<a name="l07798"></a>07798   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html">JSFunctionProxy</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07799"></a>07799 
<a name="l07800"></a>07800   <span class="comment">// Dispatched behavior.</span>
<a name="l07801"></a>07801 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l07802"></a>07802 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSFunctionProxyPrint() {
<a name="l07803"></a>07803     JSFunctionProxyPrint(stdout);
<a name="l07804"></a>07804   }
<a name="l07805"></a>07805   <span class="keywordtype">void</span> JSFunctionProxyPrint(FILE* out);
<a name="l07806"></a>07806 <span class="preprocessor">#endif</span>
<a name="l07807"></a>07807 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l07808"></a>07808 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSFunctionProxyVerify();
<a name="l07809"></a>07809 <span class="preprocessor">#endif</span>
<a name="l07810"></a>07810 <span class="preprocessor"></span>
<a name="l07811"></a>07811   <span class="comment">// Layout description.</span>
<a name="l07812"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html#ae226debcd352af082df44e03a2453651">07812</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCallTrapOffset = <a class="code" href="classv8_1_1internal_1_1_j_s_proxy.html#a912bf6dd6649f735f2c049b89c42a3e4">JSProxy::kPaddingOffset</a>;
<a name="l07813"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html#a429bc6652f1ad88c79471d5e8bf87d17">07813</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kConstructTrapOffset = kCallTrapOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07814"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html#ab1b87f12d10c53facfcb134481461667">07814</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPaddingOffset = kConstructTrapOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07815"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html#aa9b0396ecbc530aaced314176cfd6d72">07815</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="classv8_1_1internal_1_1_j_s_function.html#a808203d26f81e54fca0c7c039785fbfa">JSFunction::kSize</a>;
<a name="l07816"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html#a6568df29335962404ad0e1ec2fa9dc43">07816</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPaddingSize = kSize - kPaddingOffset;
<a name="l07817"></a>07817 
<a name="l07818"></a>07818   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(kPaddingSize &gt;= 0);
<a name="l07819"></a>07819 
<a name="l07820"></a>07820   <span class="keyword">typedef</span> <a class="code" href="classv8_1_1internal_1_1_fixed_body_descriptor.html">FixedBodyDescriptor</a>&lt;kHandlerOffset,
<a name="l07821"></a>07821                               kConstructTrapOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>,
<a name="l07822"></a><a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html#a3abb2a93eca4f8b6311aa7a09cca422e">07822</a>                               kSize&gt; <a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html#a3abb2a93eca4f8b6311aa7a09cca422e">BodyDescriptor</a>;
<a name="l07823"></a>07823 
<a name="l07824"></a>07824  <span class="keyword">private</span>:
<a name="l07825"></a>07825   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_function_proxy.html">JSFunctionProxy</a>);
<a name="l07826"></a>07826 };
<a name="l07827"></a>07827 
<a name="l07828"></a>07828 
<a name="l07829"></a>07829 <span class="comment">// The JSSet describes EcmaScript Harmony sets</span>
<a name="l07830"></a><a class="code" href="classv8_1_1internal_1_1_j_s_set.html">07830</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_set.html">JSSet</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l07831"></a>07831  <span class="keyword">public</span>:
<a name="l07832"></a>07832   <span class="comment">// [set]: the backing hash set containing keys.</span>
<a name="l07833"></a>07833   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(table, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07834"></a>07834 
<a name="l07835"></a>07835   <span class="comment">// Casting.</span>
<a name="l07836"></a>07836   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_set.html">JSSet</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07837"></a>07837 
<a name="l07838"></a>07838 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l07839"></a>07839 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSSetPrint() {
<a name="l07840"></a>07840     JSSetPrint(stdout);
<a name="l07841"></a>07841   }
<a name="l07842"></a>07842   <span class="keywordtype">void</span> JSSetPrint(FILE* out);
<a name="l07843"></a>07843 <span class="preprocessor">#endif</span>
<a name="l07844"></a>07844 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l07845"></a>07845 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSSetVerify();
<a name="l07846"></a>07846 <span class="preprocessor">#endif</span>
<a name="l07847"></a>07847 <span class="preprocessor"></span>
<a name="l07848"></a><a class="code" href="classv8_1_1internal_1_1_j_s_set.html#adbe9aa4a56e9f3e768ce9fd631118900">07848</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTableOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l07849"></a><a class="code" href="classv8_1_1internal_1_1_j_s_set.html#a4d90650474de0b0775c7c61791d6e570">07849</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kTableOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07850"></a>07850 
<a name="l07851"></a>07851  <span class="keyword">private</span>:
<a name="l07852"></a>07852   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_set.html">JSSet</a>);
<a name="l07853"></a>07853 };
<a name="l07854"></a>07854 
<a name="l07855"></a>07855 
<a name="l07856"></a>07856 <span class="comment">// The JSMap describes EcmaScript Harmony maps</span>
<a name="l07857"></a><a class="code" href="classv8_1_1internal_1_1_j_s_map.html">07857</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_map.html">JSMap</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l07858"></a>07858  <span class="keyword">public</span>:
<a name="l07859"></a>07859   <span class="comment">// [table]: the backing hash table mapping keys to values.</span>
<a name="l07860"></a>07860   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(table, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07861"></a>07861 
<a name="l07862"></a>07862   <span class="comment">// Casting.</span>
<a name="l07863"></a>07863   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_map.html">JSMap</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07864"></a>07864 
<a name="l07865"></a>07865 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l07866"></a>07866 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSMapPrint() {
<a name="l07867"></a>07867     JSMapPrint(stdout);
<a name="l07868"></a>07868   }
<a name="l07869"></a>07869   <span class="keywordtype">void</span> JSMapPrint(FILE* out);
<a name="l07870"></a>07870 <span class="preprocessor">#endif</span>
<a name="l07871"></a>07871 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l07872"></a>07872 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSMapVerify();
<a name="l07873"></a>07873 <span class="preprocessor">#endif</span>
<a name="l07874"></a>07874 <span class="preprocessor"></span>
<a name="l07875"></a><a class="code" href="classv8_1_1internal_1_1_j_s_map.html#af97cf5740bf8bc89b9f73dca896bf325">07875</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTableOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l07876"></a><a class="code" href="classv8_1_1internal_1_1_j_s_map.html#a33ff74505c8959638291294c2524f87c">07876</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kTableOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07877"></a>07877 
<a name="l07878"></a>07878  <span class="keyword">private</span>:
<a name="l07879"></a>07879   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_map.html">JSMap</a>);
<a name="l07880"></a>07880 };
<a name="l07881"></a>07881 
<a name="l07882"></a>07882 
<a name="l07883"></a>07883 <span class="comment">// The JSWeakMap describes EcmaScript Harmony weak maps</span>
<a name="l07884"></a><a class="code" href="classv8_1_1internal_1_1_j_s_weak_map.html">07884</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_weak_map.html">JSWeakMap</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l07885"></a>07885  <span class="keyword">public</span>:
<a name="l07886"></a>07886   <span class="comment">// [table]: the backing hash table mapping keys to values.</span>
<a name="l07887"></a>07887   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(table, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07888"></a>07888 
<a name="l07889"></a>07889   <span class="comment">// [next]: linked list of encountered weak maps during GC.</span>
<a name="l07890"></a>07890   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(next, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07891"></a>07891 
<a name="l07892"></a>07892   <span class="comment">// Casting.</span>
<a name="l07893"></a>07893   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_weak_map.html">JSWeakMap</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07894"></a>07894 
<a name="l07895"></a>07895 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l07896"></a>07896 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSWeakMapPrint() {
<a name="l07897"></a>07897     JSWeakMapPrint(stdout);
<a name="l07898"></a>07898   }
<a name="l07899"></a>07899   <span class="keywordtype">void</span> JSWeakMapPrint(FILE* out);
<a name="l07900"></a>07900 <span class="preprocessor">#endif</span>
<a name="l07901"></a>07901 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l07902"></a>07902 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSWeakMapVerify();
<a name="l07903"></a>07903 <span class="preprocessor">#endif</span>
<a name="l07904"></a>07904 <span class="preprocessor"></span>
<a name="l07905"></a><a class="code" href="classv8_1_1internal_1_1_j_s_weak_map.html#ac2a584bb524a216f87bc97df2672c7c7">07905</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTableOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l07906"></a><a class="code" href="classv8_1_1internal_1_1_j_s_weak_map.html#a533f3e7e47e7dd0ae5d430ec8d795123">07906</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNextOffset = kTableOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07907"></a><a class="code" href="classv8_1_1internal_1_1_j_s_weak_map.html#abda3e3ca0b1ce45ba2e3bfef1a07a701">07907</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kNextOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07908"></a>07908 
<a name="l07909"></a>07909  <span class="keyword">private</span>:
<a name="l07910"></a>07910   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_weak_map.html">JSWeakMap</a>);
<a name="l07911"></a>07911 };
<a name="l07912"></a>07912 
<a name="l07913"></a>07913 
<a name="l07914"></a>07914 <span class="comment">// Foreign describes objects pointing from JavaScript to C structures.</span>
<a name="l07915"></a>07915 <span class="comment">// Since they cannot contain references to JS HeapObjects they can be</span>
<a name="l07916"></a>07916 <span class="comment">// placed in old_data_space.</span>
<a name="l07917"></a><a class="code" href="classv8_1_1internal_1_1_foreign.html">07917</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_foreign.html">Foreign</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a> {
<a name="l07918"></a>07918  <span class="keyword">public</span>:
<a name="l07919"></a>07919   <span class="comment">// [address]: field containing the address.</span>
<a name="l07920"></a>07920   <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> foreign_address();
<a name="l07921"></a>07921   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_foreign_address(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> value);
<a name="l07922"></a>07922 
<a name="l07923"></a>07923   <span class="comment">// Casting.</span>
<a name="l07924"></a>07924   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_foreign.html">Foreign</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07925"></a>07925 
<a name="l07926"></a>07926   <span class="comment">// Dispatched behavior.</span>
<a name="l07927"></a>07927   <span class="keyword">inline</span> <span class="keywordtype">void</span> ForeignIterateBody(ObjectVisitor* v);
<a name="l07928"></a>07928 
<a name="l07929"></a>07929   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> StaticVisitor&gt;
<a name="l07930"></a>07930   <span class="keyword">inline</span> <span class="keywordtype">void</span> ForeignIterateBody();
<a name="l07931"></a>07931 
<a name="l07932"></a>07932 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l07933"></a>07933 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ForeignPrint() {
<a name="l07934"></a>07934     ForeignPrint(stdout);
<a name="l07935"></a>07935   }
<a name="l07936"></a>07936   <span class="keywordtype">void</span> ForeignPrint(FILE* out);
<a name="l07937"></a>07937 <span class="preprocessor">#endif</span>
<a name="l07938"></a>07938 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l07939"></a>07939 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ForeignVerify();
<a name="l07940"></a>07940 <span class="preprocessor">#endif</span>
<a name="l07941"></a>07941 <span class="preprocessor"></span>
<a name="l07942"></a>07942   <span class="comment">// Layout description.</span>
<a name="l07943"></a>07943 
<a name="l07944"></a><a class="code" href="classv8_1_1internal_1_1_foreign.html#af4241dc31655e2432335e9c5e9de11ff">07944</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kForeignAddressOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l07945"></a><a class="code" href="classv8_1_1internal_1_1_foreign.html#a4c89f141a3a79948c4f3b078cf6688cf">07945</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kForeignAddressOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l07946"></a>07946 
<a name="l07947"></a>07947   <a class="code" href="classv8_1_1internal_1_1_heap_object.html#a5de9040870c7cb891b19e5f7b5e3161d">STATIC_CHECK</a>(kForeignAddressOffset == <a class="code" href="classv8_1_1internal_1_1_internals.html#ad4134449ee39b95e5ac035996aa7d66b">Internals::kForeignAddressOffset</a>);
<a name="l07948"></a>07948 
<a name="l07949"></a>07949  <span class="keyword">private</span>:
<a name="l07950"></a>07950   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_foreign.html">Foreign</a>);
<a name="l07951"></a>07951 };
<a name="l07952"></a>07952 
<a name="l07953"></a>07953 
<a name="l07954"></a>07954 <span class="comment">// The JSArray describes JavaScript Arrays</span>
<a name="l07955"></a>07955 <span class="comment">//  Such an array can be in one of two modes:</span>
<a name="l07956"></a>07956 <span class="comment">//    - fast, backing storage is a FixedArray and length &lt;= elements.length();</span>
<a name="l07957"></a>07957 <span class="comment">//       Please note: push and pop can be used to grow and shrink the array.</span>
<a name="l07958"></a>07958 <span class="comment">//    - slow, backing storage is a HashTable with numbers as keys.</span>
<a name="l07959"></a><a class="code" href="classv8_1_1internal_1_1_j_s_array.html">07959</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_array.html">JSArray</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_object.html">JSObject</a> {
<a name="l07960"></a>07960  <span class="keyword">public</span>:
<a name="l07961"></a>07961   <span class="comment">// [length]: The length property.</span>
<a name="l07962"></a>07962   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(length, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l07963"></a>07963 
<a name="l07964"></a>07964   <span class="comment">// Overload the length setter to skip write barrier when the length</span>
<a name="l07965"></a>07965   <span class="comment">// is set to a smi. This matches the set function on FixedArray.</span>
<a name="l07966"></a>07966   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a67b8eea4413f1651bfe1a8b4c74f53d1">set_length</a>(<a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* length);
<a name="l07967"></a>07967 
<a name="l07968"></a>07968   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* JSArrayUpdateLengthFromIndex(uint32_t index,
<a name="l07969"></a>07969                                                             <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* value);
<a name="l07970"></a>07970 
<a name="l07971"></a>07971   <span class="comment">// Initialize the array with the given capacity. The function may</span>
<a name="l07972"></a>07972   <span class="comment">// fail due to out-of-memory situations, but only if the requested</span>
<a name="l07973"></a>07973   <span class="comment">// capacity is non-zero.</span>
<a name="l07974"></a>07974   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* Initialize(<span class="keywordtype">int</span> capacity);
<a name="l07975"></a>07975 
<a name="l07976"></a>07976   <span class="comment">// Initializes the array to a certain length.</span>
<a name="l07977"></a>07977   <span class="keyword">inline</span> <span class="keywordtype">bool</span> AllowsSetElementsLength();
<a name="l07978"></a>07978   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* SetElementsLength(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* length);
<a name="l07979"></a>07979 
<a name="l07980"></a>07980   <span class="comment">// Set the content of the array to the content of storage.</span>
<a name="l07981"></a>07981   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <span class="keyword">inline</span> MaybeObject* SetContent(<a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html">FixedArrayBase</a>* storage);
<a name="l07982"></a>07982 
<a name="l07983"></a>07983   <span class="comment">// Casting.</span>
<a name="l07984"></a>07984   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_j_s_array.html">JSArray</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l07985"></a>07985 
<a name="l07986"></a>07986   <span class="comment">// Uses handles.  Ensures that the fixed array backing the JSArray has at</span>
<a name="l07987"></a>07987   <span class="comment">// least the stated size.</span>
<a name="l07988"></a>07988   <span class="keyword">inline</span> <span class="keywordtype">void</span> EnsureSize(<span class="keywordtype">int</span> minimum_size_of_backing_fixed_array);
<a name="l07989"></a>07989 
<a name="l07990"></a>07990   <span class="comment">// Dispatched behavior.</span>
<a name="l07991"></a>07991 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l07992"></a>07992 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> JSArrayPrint() {
<a name="l07993"></a>07993     JSArrayPrint(stdout);
<a name="l07994"></a>07994   }
<a name="l07995"></a>07995   <span class="keywordtype">void</span> JSArrayPrint(FILE* out);
<a name="l07996"></a>07996 <span class="preprocessor">#endif</span>
<a name="l07997"></a>07997 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l07998"></a>07998 <span class="preprocessor"></span>  <span class="keywordtype">void</span> JSArrayVerify();
<a name="l07999"></a>07999 <span class="preprocessor">#endif</span>
<a name="l08000"></a>08000 <span class="preprocessor"></span>
<a name="l08001"></a>08001   <span class="comment">// Number of element slots to pre-allocate for an empty array.</span>
<a name="l08002"></a><a class="code" href="classv8_1_1internal_1_1_j_s_array.html#a67bc60ae3f9c63e64f3b8cc94d718bc0">08002</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPreallocatedArrayElements = 4;
<a name="l08003"></a>08003 
<a name="l08004"></a>08004   <span class="comment">// Layout description.</span>
<a name="l08005"></a><a class="code" href="classv8_1_1internal_1_1_j_s_array.html#aea530131fca7e137fdd66ad7215a8352">08005</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">JSObject::kHeaderSize</a>;
<a name="l08006"></a><a class="code" href="classv8_1_1internal_1_1_j_s_array.html#ab3779f1079b0ff1ef3ba3ae3fa226ba0">08006</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#a3ef7eb2b8624eacb7386592f0d0e3412">kLengthOffset</a> + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08007"></a>08007 
<a name="l08008"></a>08008  <span class="keyword">private</span>:
<a name="l08009"></a>08009   <span class="comment">// Expand the fixed array backing of a fast-case JSArray to at least</span>
<a name="l08010"></a>08010   <span class="comment">// the requested size.</span>
<a name="l08011"></a>08011   <span class="keywordtype">void</span> Expand(<span class="keywordtype">int</span> minimum_size_of_backing_fixed_array);
<a name="l08012"></a>08012 
<a name="l08013"></a>08013   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_array.html">JSArray</a>);
<a name="l08014"></a>08014 };
<a name="l08015"></a>08015 
<a name="l08016"></a>08016 
<a name="l08017"></a>08017 <span class="comment">// JSRegExpResult is just a JSArray with a specific initial map.</span>
<a name="l08018"></a>08018 <span class="comment">// This initial map adds in-object properties for &quot;index&quot; and &quot;input&quot;</span>
<a name="l08019"></a>08019 <span class="comment">// properties, as assigned by RegExp.prototype.exec, which allows</span>
<a name="l08020"></a>08020 <span class="comment">// faster creation of RegExp exec results.</span>
<a name="l08021"></a>08021 <span class="comment">// This class just holds constants used when creating the result.</span>
<a name="l08022"></a>08022 <span class="comment">// After creation the result must be treated as a JSArray in all regards.</span>
<a name="l08023"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_result.html">08023</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_result.html">JSRegExpResult</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_j_s_array.html">JSArray</a> {
<a name="l08024"></a>08024  <span class="keyword">public</span>:
<a name="l08025"></a>08025   <span class="comment">// Offsets of object fields.</span>
<a name="l08026"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_result.html#a0e1056c3ef480c83d8c00cca5f5c68cf">08026</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIndexOffset = <a class="code" href="classv8_1_1internal_1_1_j_s_array.html#ab3779f1079b0ff1ef3ba3ae3fa226ba0">JSArray::kSize</a>;
<a name="l08027"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_result.html#a061bea65d9c9d770c109386aa3482d61">08027</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInputOffset = kIndexOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08028"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_result.html#add2f94b506eee3084d490de4c67a3bef">08028</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kInputOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08029"></a>08029   <span class="comment">// Indices of in-object properties.</span>
<a name="l08030"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_result.html#a1a10ad481cbf4e7bb27b376d827155ea">08030</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIndexIndex = 0;
<a name="l08031"></a><a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_result.html#a4f1188f12cec956861acdbfbaf20fe8b">08031</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInputIndex = 1;
<a name="l08032"></a>08032  <span class="keyword">private</span>:
<a name="l08033"></a>08033   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_j_s_reg_exp_result.html">JSRegExpResult</a>);
<a name="l08034"></a>08034 };
<a name="l08035"></a>08035 
<a name="l08036"></a>08036 
<a name="l08037"></a>08037 <span class="comment">// An accessor must have a getter, but can have no setter.</span>
<a name="l08038"></a>08038 <span class="comment">//</span>
<a name="l08039"></a>08039 <span class="comment">// When setting a property, V8 searches accessors in prototypes.</span>
<a name="l08040"></a>08040 <span class="comment">// If an accessor was found and it does not have a setter,</span>
<a name="l08041"></a>08041 <span class="comment">// the request is ignored.</span>
<a name="l08042"></a>08042 <span class="comment">//</span>
<a name="l08043"></a>08043 <span class="comment">// If the accessor in the prototype has the READ_ONLY property attribute, then</span>
<a name="l08044"></a>08044 <span class="comment">// a new value is added to the local object when the property is set.</span>
<a name="l08045"></a>08045 <span class="comment">// This shadows the accessor in the prototype.</span>
<a name="l08046"></a><a class="code" href="classv8_1_1internal_1_1_accessor_info.html">08046</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_accessor_info.html">AccessorInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l08047"></a>08047  <span class="keyword">public</span>:
<a name="l08048"></a>08048   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(getter, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08049"></a>08049   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(setter, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08050"></a>08050   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(data, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08051"></a>08051   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a81b49fe6af51fab72b8b2ee86f70d4dd">name</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08052"></a>08052   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>)
<a name="l08053"></a>08053 
<a name="l08054"></a>08054   <span class="keyword">inline</span> <span class="keywordtype">bool</span> all_can_read();
<a name="l08055"></a>08055   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_all_can_read(<span class="keywordtype">bool</span> value);
<a name="l08056"></a>08056 
<a name="l08057"></a>08057   <span class="keyword">inline</span> <span class="keywordtype">bool</span> all_can_write();
<a name="l08058"></a>08058   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_all_can_write(<span class="keywordtype">bool</span> value);
<a name="l08059"></a>08059 
<a name="l08060"></a>08060   <span class="keyword">inline</span> <span class="keywordtype">bool</span> prohibits_overwriting();
<a name="l08061"></a>08061   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_prohibits_overwriting(<span class="keywordtype">bool</span> value);
<a name="l08062"></a>08062 
<a name="l08063"></a>08063   <span class="keyword">inline</span> <a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> property_attributes();
<a name="l08064"></a>08064   <span class="keyword">inline</span> <span class="keywordtype">void</span> set_property_attributes(<a class="code" href="property-details_8h.html#ad8c75160526c9af7c8fa09418542c4e3">PropertyAttributes</a> attributes);
<a name="l08065"></a>08065 
<a name="l08066"></a>08066   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_accessor_info.html">AccessorInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08067"></a>08067 
<a name="l08068"></a>08068 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08069"></a>08069 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> AccessorInfoPrint() {
<a name="l08070"></a>08070     AccessorInfoPrint(stdout);
<a name="l08071"></a>08071   }
<a name="l08072"></a>08072   <span class="keywordtype">void</span> AccessorInfoPrint(FILE* out);
<a name="l08073"></a>08073 <span class="preprocessor">#endif</span>
<a name="l08074"></a>08074 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08075"></a>08075 <span class="preprocessor"></span>  <span class="keywordtype">void</span> AccessorInfoVerify();
<a name="l08076"></a>08076 <span class="preprocessor">#endif</span>
<a name="l08077"></a>08077 <span class="preprocessor"></span>
<a name="l08078"></a><a class="code" href="classv8_1_1internal_1_1_accessor_info.html#a2432493f28b06a6ff274402643c96cd5">08078</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kGetterOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l08079"></a><a class="code" href="classv8_1_1internal_1_1_accessor_info.html#abc65c6b98df53a943293bf870b422260">08079</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSetterOffset = kGetterOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08080"></a><a class="code" href="classv8_1_1internal_1_1_accessor_info.html#a3b175d886897a1f79c9d75900637642d">08080</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataOffset = kSetterOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08081"></a><a class="code" href="classv8_1_1internal_1_1_accessor_info.html#a75d3700bea71b63895455a5d5cc5dae9">08081</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNameOffset = kDataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08082"></a><a class="code" href="classv8_1_1internal_1_1_accessor_info.html#abc6115491f2bb799141ce228267cdeb9">08082</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFlagOffset = kNameOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08083"></a><a class="code" href="classv8_1_1internal_1_1_accessor_info.html#a0fbd2218bb9f31efd29c8b17d4f1908a">08083</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kFlagOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08084"></a>08084 
<a name="l08085"></a>08085  <span class="keyword">private</span>:
<a name="l08086"></a>08086   <span class="comment">// Bit positions in flag.</span>
<a name="l08087"></a>08087   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAllCanReadBit = 0;
<a name="l08088"></a>08088   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAllCanWriteBit = 1;
<a name="l08089"></a>08089   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kProhibitsOverwritingBit = 2;
<a name="l08090"></a>08090   <span class="keyword">class </span>AttributesField: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_bit_field.html">BitField</a>&lt;PropertyAttributes, 3, 3&gt; {};
<a name="l08091"></a>08091 
<a name="l08092"></a>08092   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_accessor_info.html">AccessorInfo</a>);
<a name="l08093"></a>08093 };
<a name="l08094"></a>08094 
<a name="l08095"></a>08095 
<a name="l08096"></a>08096 <span class="comment">// Support for JavaScript accessors: A pair of a getter and a setter. Each</span>
<a name="l08097"></a>08097 <span class="comment">// accessor can either be</span>
<a name="l08098"></a>08098 <span class="comment">//   * a pointer to a JavaScript function or proxy: a real accessor</span>
<a name="l08099"></a>08099 <span class="comment">//   * undefined: considered an accessor by the spec, too, strangely enough</span>
<a name="l08100"></a>08100 <span class="comment">//   * the hole: an accessor which has not been set</span>
<a name="l08101"></a>08101 <span class="comment">//   * a pointer to a map: a transition used to ensure map sharing</span>
<a name="l08102"></a><a class="code" href="classv8_1_1internal_1_1_accessor_pair.html">08102</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_accessor_pair.html">AccessorPair</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l08103"></a>08103  <span class="keyword">public</span>:
<a name="l08104"></a>08104   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(getter, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08105"></a>08105   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(setter, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08106"></a>08106 
<a name="l08107"></a>08107   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_accessor_pair.html">AccessorPair</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08108"></a>08108 
<a name="l08109"></a>08109   <a class="code" href="globals_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> MaybeObject* CopyWithoutTransitions();
<a name="l08110"></a>08110 
<a name="l08111"></a>08111   <span class="comment">// Note: Returns undefined instead in case of a hole.</span>
<a name="l08112"></a>08112   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* GetComponent(<a class="code" href="namespacev8_1_1internal.html#adc34d4f8e7520b193a7d7143cb734744">AccessorComponent</a> component);
<a name="l08113"></a>08113 
<a name="l08114"></a>08114   <span class="comment">// Set both components, skipping arguments which are a JavaScript null.</span>
<a name="l08115"></a><a class="code" href="classv8_1_1internal_1_1_accessor_pair.html#a6e5a2de9676c59e75ff73635f152a27d">08115</a>   <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_accessor_pair.html#a6e5a2de9676c59e75ff73635f152a27d">SetComponents</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* getter, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* setter) {
<a name="l08116"></a>08116     <span class="keywordflow">if</span> (!getter-&gt;IsNull()) set_getter(getter);
<a name="l08117"></a>08117     <span class="keywordflow">if</span> (!setter-&gt;IsNull()) set_setter(setter);
<a name="l08118"></a>08118   }
<a name="l08119"></a>08119 
<a name="l08120"></a><a class="code" href="classv8_1_1internal_1_1_accessor_pair.html#a3776e1f65c6612d9cb544747211bd3f0">08120</a>   <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1_accessor_pair.html#a3776e1f65c6612d9cb544747211bd3f0">ContainsAccessor</a>() {
<a name="l08121"></a>08121     <span class="keywordflow">return</span> IsJSAccessor(getter()) || IsJSAccessor(setter());
<a name="l08122"></a>08122   }
<a name="l08123"></a>08123 
<a name="l08124"></a>08124 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08125"></a>08125 <span class="preprocessor"></span>  <span class="keywordtype">void</span> AccessorPairPrint(FILE* out = stdout);
<a name="l08126"></a>08126 <span class="preprocessor">#endif</span>
<a name="l08127"></a>08127 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08128"></a>08128 <span class="preprocessor"></span>  <span class="keywordtype">void</span> AccessorPairVerify();
<a name="l08129"></a>08129 <span class="preprocessor">#endif</span>
<a name="l08130"></a>08130 <span class="preprocessor"></span>
<a name="l08131"></a><a class="code" href="classv8_1_1internal_1_1_accessor_pair.html#aa7ee07b7098a35f0e1340c33dadb90db">08131</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kGetterOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l08132"></a><a class="code" href="classv8_1_1internal_1_1_accessor_pair.html#adaca2d4fb0dfcf2e29fd37fc5549737b">08132</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSetterOffset = kGetterOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08133"></a><a class="code" href="classv8_1_1internal_1_1_accessor_pair.html#a89c0268865b5203f29820f82b5e46cb5">08133</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kSetterOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08134"></a>08134 
<a name="l08135"></a>08135  <span class="keyword">private</span>:
<a name="l08136"></a>08136   <span class="comment">// Strangely enough, in addition to functions and harmony proxies, the spec</span>
<a name="l08137"></a>08137   <span class="comment">// requires us to consider undefined as a kind of accessor, too:</span>
<a name="l08138"></a>08138   <span class="comment">//    var obj = {};</span>
<a name="l08139"></a>08139   <span class="comment">//    Object.defineProperty(obj, &quot;foo&quot;, {get: undefined});</span>
<a name="l08140"></a>08140   <span class="comment">//    assertTrue(&quot;foo&quot; in obj);</span>
<a name="l08141"></a>08141   <span class="keywordtype">bool</span> IsJSAccessor(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj) {
<a name="l08142"></a>08142     <span class="keywordflow">return</span> obj-&gt;IsSpecFunction() || obj-&gt;IsUndefined();
<a name="l08143"></a>08143   }
<a name="l08144"></a>08144 
<a name="l08145"></a>08145   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_accessor_pair.html">AccessorPair</a>);
<a name="l08146"></a>08146 };
<a name="l08147"></a>08147 
<a name="l08148"></a>08148 
<a name="l08149"></a><a class="code" href="classv8_1_1internal_1_1_access_check_info.html">08149</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_access_check_info.html">AccessCheckInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l08150"></a>08150  <span class="keyword">public</span>:
<a name="l08151"></a>08151   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(named_callback, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08152"></a>08152   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(indexed_callback, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08153"></a>08153   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(data, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08154"></a>08154 
<a name="l08155"></a>08155   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_access_check_info.html">AccessCheckInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08156"></a>08156 
<a name="l08157"></a>08157 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08158"></a>08158 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> AccessCheckInfoPrint() {
<a name="l08159"></a>08159     AccessCheckInfoPrint(stdout);
<a name="l08160"></a>08160   }
<a name="l08161"></a>08161   <span class="keywordtype">void</span> AccessCheckInfoPrint(FILE* out);
<a name="l08162"></a>08162 <span class="preprocessor">#endif</span>
<a name="l08163"></a>08163 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08164"></a>08164 <span class="preprocessor"></span>  <span class="keywordtype">void</span> AccessCheckInfoVerify();
<a name="l08165"></a>08165 <span class="preprocessor">#endif</span>
<a name="l08166"></a>08166 <span class="preprocessor"></span>
<a name="l08167"></a><a class="code" href="classv8_1_1internal_1_1_access_check_info.html#a6cbd64c953819b14e3944340ad05e048">08167</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNamedCallbackOffset   = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l08168"></a><a class="code" href="classv8_1_1internal_1_1_access_check_info.html#a5bcd567490f425a95da4a3dae4e73e11">08168</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIndexedCallbackOffset = kNamedCallbackOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08169"></a><a class="code" href="classv8_1_1internal_1_1_access_check_info.html#a1739da947958ae7735ac674e2aac415b">08169</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataOffset = kIndexedCallbackOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08170"></a><a class="code" href="classv8_1_1internal_1_1_access_check_info.html#a30e7585ebfa4c24c214bc5a9f77ad0c3">08170</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kDataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08171"></a>08171 
<a name="l08172"></a>08172  <span class="keyword">private</span>:
<a name="l08173"></a>08173   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_access_check_info.html">AccessCheckInfo</a>);
<a name="l08174"></a>08174 };
<a name="l08175"></a>08175 
<a name="l08176"></a>08176 
<a name="l08177"></a><a class="code" href="classv8_1_1internal_1_1_interceptor_info.html">08177</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_interceptor_info.html">InterceptorInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l08178"></a>08178  <span class="keyword">public</span>:
<a name="l08179"></a>08179   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(getter, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08180"></a>08180   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(setter, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08181"></a>08181   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(query, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08182"></a>08182   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(deleter, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08183"></a>08183   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(enumerator, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08184"></a>08184   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(data, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08185"></a>08185 
<a name="l08186"></a>08186   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_interceptor_info.html">InterceptorInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08187"></a>08187 
<a name="l08188"></a>08188 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08189"></a>08189 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> InterceptorInfoPrint() {
<a name="l08190"></a>08190     InterceptorInfoPrint(stdout);
<a name="l08191"></a>08191   }
<a name="l08192"></a>08192   <span class="keywordtype">void</span> InterceptorInfoPrint(FILE* out);
<a name="l08193"></a>08193 <span class="preprocessor">#endif</span>
<a name="l08194"></a>08194 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08195"></a>08195 <span class="preprocessor"></span>  <span class="keywordtype">void</span> InterceptorInfoVerify();
<a name="l08196"></a>08196 <span class="preprocessor">#endif</span>
<a name="l08197"></a>08197 <span class="preprocessor"></span>
<a name="l08198"></a><a class="code" href="classv8_1_1internal_1_1_interceptor_info.html#a5a7a09c21536e5bf9e681cb7471c1f93">08198</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kGetterOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l08199"></a><a class="code" href="classv8_1_1internal_1_1_interceptor_info.html#afaa43ccd4e8941f93886c882032b58e1">08199</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSetterOffset = kGetterOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08200"></a><a class="code" href="classv8_1_1internal_1_1_interceptor_info.html#ad34aeb460b38822a4344a7124487a210">08200</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kQueryOffset = kSetterOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08201"></a><a class="code" href="classv8_1_1internal_1_1_interceptor_info.html#a5df7acb53275aec9c83dc91565e9726a">08201</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDeleterOffset = kQueryOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08202"></a><a class="code" href="classv8_1_1internal_1_1_interceptor_info.html#aaf2708a4d9fa94ef7cd075ddcfb093eb">08202</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kEnumeratorOffset = kDeleterOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08203"></a><a class="code" href="classv8_1_1internal_1_1_interceptor_info.html#a83a9480c9ca7a458d77ad277a4f82b86">08203</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataOffset = kEnumeratorOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08204"></a><a class="code" href="classv8_1_1internal_1_1_interceptor_info.html#afd549e28b30209ac6e61b2d6923142c2">08204</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kDataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08205"></a>08205 
<a name="l08206"></a>08206  <span class="keyword">private</span>:
<a name="l08207"></a>08207   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_interceptor_info.html">InterceptorInfo</a>);
<a name="l08208"></a>08208 };
<a name="l08209"></a>08209 
<a name="l08210"></a>08210 
<a name="l08211"></a><a class="code" href="classv8_1_1internal_1_1_call_handler_info.html">08211</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_call_handler_info.html">CallHandlerInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l08212"></a>08212  <span class="keyword">public</span>:
<a name="l08213"></a>08213   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(callback, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08214"></a>08214   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(data, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08215"></a>08215 
<a name="l08216"></a>08216   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_call_handler_info.html">CallHandlerInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08217"></a>08217 
<a name="l08218"></a>08218 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08219"></a>08219 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> CallHandlerInfoPrint() {
<a name="l08220"></a>08220     CallHandlerInfoPrint(stdout);
<a name="l08221"></a>08221   }
<a name="l08222"></a>08222   <span class="keywordtype">void</span> CallHandlerInfoPrint(FILE* out);
<a name="l08223"></a>08223 <span class="preprocessor">#endif</span>
<a name="l08224"></a>08224 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08225"></a>08225 <span class="preprocessor"></span>  <span class="keywordtype">void</span> CallHandlerInfoVerify();
<a name="l08226"></a>08226 <span class="preprocessor">#endif</span>
<a name="l08227"></a>08227 <span class="preprocessor"></span>
<a name="l08228"></a><a class="code" href="classv8_1_1internal_1_1_call_handler_info.html#ad9aed9fb5614164f1b8d192b302790b5">08228</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCallbackOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l08229"></a><a class="code" href="classv8_1_1internal_1_1_call_handler_info.html#aa561bcb66c855ae71541ccd05e8ba070">08229</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDataOffset = kCallbackOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08230"></a><a class="code" href="classv8_1_1internal_1_1_call_handler_info.html#a0a3fbe1ab2ae6a37784983ece1b01d5d">08230</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kDataOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08231"></a>08231 
<a name="l08232"></a>08232  <span class="keyword">private</span>:
<a name="l08233"></a>08233   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_call_handler_info.html">CallHandlerInfo</a>);
<a name="l08234"></a>08234 };
<a name="l08235"></a>08235 
<a name="l08236"></a>08236 
<a name="l08237"></a><a class="code" href="classv8_1_1internal_1_1_template_info.html">08237</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_template_info.html">TemplateInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l08238"></a>08238  <span class="keyword">public</span>:
<a name="l08239"></a>08239   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(tag, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08240"></a>08240   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(property_list, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08241"></a>08241 
<a name="l08242"></a>08242 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l08243"></a>08243 <span class="preprocessor"></span>  <span class="keywordtype">void</span> TemplateInfoVerify();
<a name="l08244"></a>08244 <span class="preprocessor">#endif</span>
<a name="l08245"></a>08245 <span class="preprocessor"></span>
<a name="l08246"></a><a class="code" href="classv8_1_1internal_1_1_template_info.html#a707d7c2573422152cb616cfcd5e615c5">08246</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTagOffset          = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">HeapObject::kHeaderSize</a>;
<a name="l08247"></a><a class="code" href="classv8_1_1internal_1_1_template_info.html#aa81d841263b8c40644c86dbaccccf6b1">08247</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPropertyListOffset = kTagOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08248"></a><a class="code" href="classv8_1_1internal_1_1_template_info.html#adab3309b0eba2ec032212844897b3c00">08248</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">kHeaderSize</a>         = kPropertyListOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08249"></a>08249 
<a name="l08250"></a>08250  <span class="keyword">private</span>:
<a name="l08251"></a>08251   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_template_info.html">TemplateInfo</a>);
<a name="l08252"></a>08252 };
<a name="l08253"></a>08253 
<a name="l08254"></a>08254 
<a name="l08255"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html">08255</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_function_template_info.html">FunctionTemplateInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_template_info.html">TemplateInfo</a> {
<a name="l08256"></a>08256  <span class="keyword">public</span>:
<a name="l08257"></a>08257   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(serial_number, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08258"></a>08258   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(call_code, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08259"></a>08259   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a53b87f01b588b25807726fb12a9c9bf1">property_accessors</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08260"></a>08260   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(prototype_template, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08261"></a>08261   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(parent_template, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08262"></a>08262   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#ae042c09625116064fc505f361a749525">named_property_handler</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08263"></a>08263   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(indexed_property_handler, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08264"></a>08264   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a327206c505828fa439a4c7969e91be59">instance_template</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08265"></a>08265   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(class_name, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08266"></a>08266   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(signature, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08267"></a>08267   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(instance_call_handler, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08268"></a>08268   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a0a32fde08cba06171b33a684a6ff5203">access_check_info</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08269"></a>08269   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#af66616b6f81f11570470384b6a4826a3">flag</a>, <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>)
<a name="l08270"></a>08270 
<a name="l08271"></a>08271   <span class="comment">// Following properties use flag bits.</span>
<a name="l08272"></a>08272   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(hidden_prototype)
<a name="l08273"></a>08273   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(undetectable)
<a name="l08274"></a>08274   <span class="comment">// If the bit is set, object instances created by this function</span>
<a name="l08275"></a>08275   <span class="comment">// requires access check.</span>
<a name="l08276"></a>08276   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a3843646d1a9e1903a8b565f56b6baf98">needs_access_check</a>)
<a name="l08277"></a>08277   <a class="code" href="objects_8h.html#a3ed22cab6435d9c0a72e66c41e4d4486">DECL_BOOLEAN_ACCESSORS</a>(read_only_prototype)
<a name="l08278"></a>08278 
<a name="l08279"></a>08279   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_function_template_info.html">FunctionTemplateInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08280"></a>08280 
<a name="l08281"></a>08281 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08282"></a>08282 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> FunctionTemplateInfoPrint() {
<a name="l08283"></a>08283     FunctionTemplateInfoPrint(stdout);
<a name="l08284"></a>08284   }
<a name="l08285"></a>08285   <span class="keywordtype">void</span> FunctionTemplateInfoPrint(FILE* out);
<a name="l08286"></a>08286 <span class="preprocessor">#endif</span>
<a name="l08287"></a>08287 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08288"></a>08288 <span class="preprocessor"></span>  <span class="keywordtype">void</span> FunctionTemplateInfoVerify();
<a name="l08289"></a>08289 <span class="preprocessor">#endif</span>
<a name="l08290"></a>08290 <span class="preprocessor"></span>
<a name="l08291"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a546ba76897d5fc9f51f3140e7bb4dbfa">08291</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSerialNumberOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">TemplateInfo::kHeaderSize</a>;
<a name="l08292"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a64955d670817f4c46b8418a5e142093b">08292</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCallCodeOffset = kSerialNumberOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08293"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a4ca51d41c049dbc9fd55db24367be397">08293</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPropertyAccessorsOffset = kCallCodeOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08294"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#adb0f454aeb8a89f2d58cb96fd79246a8">08294</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPrototypeTemplateOffset =
<a name="l08295"></a>08295       kPropertyAccessorsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08296"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a55c986ed16644ef6ed27d17c09f2ab3a">08296</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kParentTemplateOffset =
<a name="l08297"></a>08297       kPrototypeTemplateOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08298"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a80ab9a5f2c7652897ef9e13c41e8abc3">08298</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNamedPropertyHandlerOffset =
<a name="l08299"></a>08299       kParentTemplateOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08300"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a10153571866872320285f7f60686ce33">08300</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kIndexedPropertyHandlerOffset =
<a name="l08301"></a>08301       kNamedPropertyHandlerOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08302"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a718d431c763bdeb6f9296f565917bcd5">08302</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInstanceTemplateOffset =
<a name="l08303"></a>08303       kIndexedPropertyHandlerOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08304"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a7599e8be26fa10816008af1ca12a59c6">08304</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kClassNameOffset = kInstanceTemplateOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08305"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a46ed1c6bf24edb069411dcd0a0773047">08305</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSignatureOffset = kClassNameOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08306"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a56173d05992d27484b5782160f795588">08306</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInstanceCallHandlerOffset = kSignatureOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08307"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#aeb29db7f860af834c77262bcc6384d57">08307</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAccessCheckInfoOffset =
<a name="l08308"></a>08308       kInstanceCallHandlerOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08309"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a9287109e0a19b92dd8ddcbd3e5d8aa89">08309</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kFlagOffset = kAccessCheckInfoOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08310"></a><a class="code" href="classv8_1_1internal_1_1_function_template_info.html#a3b835a83d17c1b75f9d619017e7d985b">08310</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kFlagOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08311"></a>08311 
<a name="l08312"></a>08312  <span class="keyword">private</span>:
<a name="l08313"></a>08313   <span class="comment">// Bit position in the flag, from least significant bit position.</span>
<a name="l08314"></a>08314   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHiddenPrototypeBit   = 0;
<a name="l08315"></a>08315   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUndetectableBit      = 1;
<a name="l08316"></a>08316   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNeedsAccessCheckBit  = 2;
<a name="l08317"></a>08317   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kReadOnlyPrototypeBit = 3;
<a name="l08318"></a>08318 
<a name="l08319"></a>08319   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_function_template_info.html">FunctionTemplateInfo</a>);
<a name="l08320"></a>08320 };
<a name="l08321"></a>08321 
<a name="l08322"></a>08322 
<a name="l08323"></a><a class="code" href="classv8_1_1internal_1_1_object_template_info.html">08323</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_object_template_info.html">ObjectTemplateInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_template_info.html">TemplateInfo</a> {
<a name="l08324"></a>08324  <span class="keyword">public</span>:
<a name="l08325"></a>08325   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(constructor, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08326"></a>08326   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(internal_field_count, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08327"></a>08327 
<a name="l08328"></a>08328   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_object_template_info.html">ObjectTemplateInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08329"></a>08329 
<a name="l08330"></a>08330 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08331"></a>08331 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> ObjectTemplateInfoPrint() {
<a name="l08332"></a>08332     ObjectTemplateInfoPrint(stdout);
<a name="l08333"></a>08333   }
<a name="l08334"></a>08334   <span class="keywordtype">void</span> ObjectTemplateInfoPrint(FILE* out);
<a name="l08335"></a>08335 <span class="preprocessor">#endif</span>
<a name="l08336"></a>08336 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08337"></a>08337 <span class="preprocessor"></span>  <span class="keywordtype">void</span> ObjectTemplateInfoVerify();
<a name="l08338"></a>08338 <span class="preprocessor">#endif</span>
<a name="l08339"></a>08339 <span class="preprocessor"></span>
<a name="l08340"></a><a class="code" href="classv8_1_1internal_1_1_object_template_info.html#ac85e930d4eb0afdbceb4a18a9a8c2f7a">08340</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kConstructorOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">TemplateInfo::kHeaderSize</a>;
<a name="l08341"></a><a class="code" href="classv8_1_1internal_1_1_object_template_info.html#ad8de4c8ea2787200b80095e8457146ad">08341</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kInternalFieldCountOffset =
<a name="l08342"></a>08342       kConstructorOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08343"></a><a class="code" href="classv8_1_1internal_1_1_object_template_info.html#ac2127e12b389db233019614294845f3d">08343</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kInternalFieldCountOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08344"></a>08344 };
<a name="l08345"></a>08345 
<a name="l08346"></a>08346 
<a name="l08347"></a><a class="code" href="classv8_1_1internal_1_1_signature_info.html">08347</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_signature_info.html">SignatureInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l08348"></a>08348  <span class="keyword">public</span>:
<a name="l08349"></a>08349   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(receiver, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08350"></a>08350   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(args, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08351"></a>08351 
<a name="l08352"></a>08352   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_signature_info.html">SignatureInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08353"></a>08353 
<a name="l08354"></a>08354 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08355"></a>08355 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> SignatureInfoPrint() {
<a name="l08356"></a>08356     SignatureInfoPrint(stdout);
<a name="l08357"></a>08357   }
<a name="l08358"></a>08358   <span class="keywordtype">void</span> SignatureInfoPrint(FILE* out);
<a name="l08359"></a>08359 <span class="preprocessor">#endif</span>
<a name="l08360"></a>08360 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08361"></a>08361 <span class="preprocessor"></span>  <span class="keywordtype">void</span> SignatureInfoVerify();
<a name="l08362"></a>08362 <span class="preprocessor">#endif</span>
<a name="l08363"></a>08363 <span class="preprocessor"></span>
<a name="l08364"></a><a class="code" href="classv8_1_1internal_1_1_signature_info.html#a80c425ad0133702f36413c98171b56c0">08364</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kReceiverOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">Struct::kHeaderSize</a>;
<a name="l08365"></a><a class="code" href="classv8_1_1internal_1_1_signature_info.html#a2f42b380a78f42fa69dc99ab75564db4">08365</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kArgsOffset     = kReceiverOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08366"></a><a class="code" href="classv8_1_1internal_1_1_signature_info.html#abed16cb7dd61f2f4de4e6690a277639e">08366</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize           = kArgsOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08367"></a>08367 
<a name="l08368"></a>08368  <span class="keyword">private</span>:
<a name="l08369"></a>08369   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(<a class="code" href="classv8_1_1internal_1_1_signature_info.html">SignatureInfo</a>);
<a name="l08370"></a>08370 };
<a name="l08371"></a>08371 
<a name="l08372"></a>08372 
<a name="l08373"></a><a class="code" href="classv8_1_1internal_1_1_type_switch_info.html">08373</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_type_switch_info.html">TypeSwitchInfo</a>: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l08374"></a>08374  <span class="keyword">public</span>:
<a name="l08375"></a>08375   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacegen-postmortem-metadata.html#ad4d13f0f01a94ff8c7ea3b5c73d6a887">types</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>)
<a name="l08376"></a>08376 
<a name="l08377"></a>08377   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_type_switch_info.html">TypeSwitchInfo</a>* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08378"></a>08378 
<a name="l08379"></a>08379 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08380"></a>08380 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> TypeSwitchInfoPrint() {
<a name="l08381"></a>08381     TypeSwitchInfoPrint(stdout);
<a name="l08382"></a>08382   }
<a name="l08383"></a>08383   <span class="keywordtype">void</span> TypeSwitchInfoPrint(FILE* out);
<a name="l08384"></a>08384 <span class="preprocessor">#endif</span>
<a name="l08385"></a>08385 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08386"></a>08386 <span class="preprocessor"></span>  <span class="keywordtype">void</span> TypeSwitchInfoVerify();
<a name="l08387"></a>08387 <span class="preprocessor">#endif</span>
<a name="l08388"></a>08388 <span class="preprocessor"></span>
<a name="l08389"></a><a class="code" href="classv8_1_1internal_1_1_type_switch_info.html#a14c1fbe927f94dc25dd5f9d0c23d025e">08389</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kTypesOffset = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">Struct::kHeaderSize</a>;
<a name="l08390"></a><a class="code" href="classv8_1_1internal_1_1_type_switch_info.html#a970b63a29b0028855a2665245a216a41">08390</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize        = kTypesOffset + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08391"></a>08391 };
<a name="l08392"></a>08392 
<a name="l08393"></a>08393 
<a name="l08394"></a>08394 <span class="preprocessor">#ifdef ENABLE_DEBUGGER_SUPPORT</span>
<a name="l08395"></a>08395 <span class="preprocessor"></span><span class="comment">// The DebugInfo class holds additional information for a function being</span>
<a name="l08396"></a>08396 <span class="comment">// debugged.</span>
<a name="l08397"></a>08397 <span class="keyword">class </span>DebugInfo: <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_struct.html">Struct</a> {
<a name="l08398"></a>08398  <span class="keyword">public</span>:
<a name="l08399"></a>08399   <span class="comment">// The shared function info for the source being debugged.</span>
<a name="l08400"></a>08400   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(shared, <a class="code" href="classv8_1_1internal_1_1_shared_function_info.html">SharedFunctionInfo</a>)
<a name="l08401"></a>08401   <span class="comment">// Code object for the original code.</span>
<a name="l08402"></a>08402   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(original_code, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>)
<a name="l08403"></a>08403   <span class="comment">// Code object for the patched code. This code object is the code object</span>
<a name="l08404"></a>08404   <span class="comment">// currently active for the function.</span>
<a name="l08405"></a>08405   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(<a class="code" href="namespacev8_1_1internal.html#a7500f5d92d93409e192a671bd4425496">code</a>, <a class="code" href="classv8_1_1internal_1_1_code.html">Code</a>)
<a name="l08406"></a>08406   <span class="comment">// Fixed array holding status information for each active break point.</span>
<a name="l08407"></a>08407   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(break_points, <a class="code" href="classv8_1_1internal_1_1_fixed_array.html">FixedArray</a>)
<a name="l08408"></a>08408 
<a name="l08409"></a>08409   <span class="comment">// Check if there is a break point at a code position.</span>
<a name="l08410"></a>08410   <span class="keywordtype">bool</span> HasBreakPoint(<span class="keywordtype">int</span> code_position);
<a name="l08411"></a>08411   <span class="comment">// Get the break point info object for a code position.</span>
<a name="l08412"></a>08412   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* GetBreakPointInfo(<span class="keywordtype">int</span> code_position);
<a name="l08413"></a>08413   <span class="comment">// Clear a break point.</span>
<a name="l08414"></a>08414   <span class="keyword">static</span> <span class="keywordtype">void</span> ClearBreakPoint(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;DebugInfo&gt;</a> debug_info,
<a name="l08415"></a>08415                               <span class="keywordtype">int</span> code_position,
<a name="l08416"></a>08416                               <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> break_point_object);
<a name="l08417"></a>08417   <span class="comment">// Set a break point.</span>
<a name="l08418"></a>08418   <span class="keyword">static</span> <span class="keywordtype">void</span> SetBreakPoint(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;DebugInfo&gt;</a> debug_info, <span class="keywordtype">int</span> code_position,
<a name="l08419"></a>08419                             <span class="keywordtype">int</span> source_position, <span class="keywordtype">int</span> statement_position,
<a name="l08420"></a>08420                             <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> break_point_object);
<a name="l08421"></a>08421   <span class="comment">// Get the break point objects for a code position.</span>
<a name="l08422"></a>08422   <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* GetBreakPointObjects(<span class="keywordtype">int</span> code_position);
<a name="l08423"></a>08423   <span class="comment">// Find the break point info holding this break point object.</span>
<a name="l08424"></a>08424   <span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* FindBreakPointInfo(<a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;DebugInfo&gt;</a> debug_info,
<a name="l08425"></a>08425                                     <a class="code" href="classv8_1_1internal_1_1_handle.html">Handle&lt;Object&gt;</a> break_point_object);
<a name="l08426"></a>08426   <span class="comment">// Get the number of break points for this function.</span>
<a name="l08427"></a>08427   <span class="keywordtype">int</span> GetBreakPointCount();
<a name="l08428"></a>08428 
<a name="l08429"></a>08429   <span class="keyword">static</span> <span class="keyword">inline</span> DebugInfo* <a class="code" href="classv8_1_1internal_1_1_fixed_array_base.html#af508df44fd4a2a195ff4b0fe39190128">cast</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>* obj);
<a name="l08430"></a>08430 
<a name="l08431"></a>08431 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08432"></a>08432 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> DebugInfoPrint() {
<a name="l08433"></a>08433     DebugInfoPrint(stdout);
<a name="l08434"></a>08434   }
<a name="l08435"></a>08435   <span class="keywordtype">void</span> DebugInfoPrint(FILE* out);
<a name="l08436"></a>08436 <span class="preprocessor">#endif</span>
<a name="l08437"></a>08437 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08438"></a>08438 <span class="preprocessor"></span>  <span class="keywordtype">void</span> DebugInfoVerify();
<a name="l08439"></a>08439 <span class="preprocessor">#endif</span>
<a name="l08440"></a>08440 <span class="preprocessor"></span>
<a name="l08441"></a>08441   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSharedFunctionInfoIndex = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">Struct::kHeaderSize</a>;
<a name="l08442"></a>08442   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kOriginalCodeIndex = kSharedFunctionInfoIndex + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08443"></a>08443   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPatchedCodeIndex = kOriginalCodeIndex + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08444"></a>08444   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kActiveBreakPointsCountIndex =
<a name="l08445"></a>08445       kPatchedCodeIndex + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08446"></a>08446   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBreakPointsStateIndex =
<a name="l08447"></a>08447       kActiveBreakPointsCountIndex + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08448"></a>08448   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kBreakPointsStateIndex + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08449"></a>08449 
<a name="l08450"></a>08450  <span class="keyword">private</span>:
<a name="l08451"></a>08451   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNoBreakPointInfo = -1;
<a name="l08452"></a>08452 
<a name="l08453"></a>08453   <span class="comment">// Lookup the index in the break_points array for a code position.</span>
<a name="l08454"></a>08454   <span class="keywordtype">int</span> GetBreakPointInfoIndex(<span class="keywordtype">int</span> code_position);
<a name="l08455"></a>08455 
<a name="l08456"></a>08456   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(DebugInfo);
<a name="l08457"></a>08457 };
<a name="l08458"></a>08458 
<a name="l08459"></a>08459 
<a name="l08460"></a>08460 <span class="comment">// The BreakPointInfo class holds information for break points set in a</span>
<a name="l08461"></a>08461 <span class="comment">// function. The DebugInfo object holds a BreakPointInfo object for each code</span>
<a name="l08462"></a>08462 <span class="comment">// position with one or more break points.</span>
<a name="l08463"></a>08463 <span class="keyword">class </span>BreakPointInfo: <span class="keyword">public</span> Struct {
<a name="l08464"></a>08464  <span class="keyword">public</span>:
<a name="l08465"></a>08465   <span class="comment">// The position in the code for the break point.</span>
<a name="l08466"></a>08466   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(code_position, Smi)
<a name="l08467"></a>08467   <span class="comment">// The position in the source for the break position.</span>
<a name="l08468"></a>08468   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(source_position, Smi)
<a name="l08469"></a>08469   <span class="comment">// The position in the source for the last statement before this break</span>
<a name="l08470"></a>08470   <span class="comment">// position.</span>
<a name="l08471"></a>08471   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(statement_position, Smi)
<a name="l08472"></a>08472   <span class="comment">// List of related JavaScript break points.</span>
<a name="l08473"></a>08473   <a class="code" href="classv8_1_1internal_1_1_external_array.html#adb5ad5508bd686db896880ee1ead45d2">DECL_ACCESSORS</a>(break_point_objects, <a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>)
<a name="l08474"></a>08474 
<a name="l08475"></a>08475   <span class="comment">// Removes a break point.</span>
<a name="l08476"></a>08476   static <span class="keywordtype">void</span> ClearBreakPoint(Handle&lt;BreakPointInfo&gt; info,
<a name="l08477"></a>08477                               Handle&lt;<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>&gt; break_point_object);
<a name="l08478"></a>08478   <span class="comment">// Set a break point.</span>
<a name="l08479"></a>08479   static <span class="keywordtype">void</span> SetBreakPoint(Handle&lt;BreakPointInfo&gt; info,
<a name="l08480"></a>08480                             Handle&lt;<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>&gt; break_point_object);
<a name="l08481"></a>08481   <span class="comment">// Check if break point info has this break point object.</span>
<a name="l08482"></a>08482   static <span class="keywordtype">bool</span> HasBreakPointObject(Handle&lt;BreakPointInfo&gt; info,
<a name="l08483"></a>08483                                   Handle&lt;<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>&gt; break_point_object);
<a name="l08484"></a>08484   <span class="comment">// Get the number of break points for this code position.</span>
<a name="l08485"></a>08485   <span class="keywordtype">int</span> GetBreakPointCount();
<a name="l08486"></a>08486 
<a name="l08487"></a>08487   static inline BreakPointInfo* cast(<a class="code" href="namespacev8_1_1internal.html#a7986609369321bb6f6ecb264c345b5c7">Object</a>* obj);
<a name="l08488"></a>08488 
<a name="l08489"></a>08489 <span class="preprocessor">#ifdef OBJECT_PRINT</span>
<a name="l08490"></a>08490 <span class="preprocessor"></span>  <span class="keyword">inline</span> <span class="keywordtype">void</span> BreakPointInfoPrint() {
<a name="l08491"></a>08491     BreakPointInfoPrint(stdout);
<a name="l08492"></a>08492   }
<a name="l08493"></a>08493   <span class="keywordtype">void</span> BreakPointInfoPrint(FILE* out);
<a name="l08494"></a>08494 <span class="preprocessor">#endif</span>
<a name="l08495"></a>08495 <span class="preprocessor"></span><span class="preprocessor">#ifdef DEBUG</span>
<a name="l08496"></a>08496 <span class="preprocessor"></span>  <span class="keywordtype">void</span> BreakPointInfoVerify();
<a name="l08497"></a>08497 <span class="preprocessor">#endif</span>
<a name="l08498"></a>08498 <span class="preprocessor"></span>
<a name="l08499"></a>08499   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kCodePositionIndex = <a class="code" href="classv8_1_1internal_1_1_external_array.html#a0dd207d630899d66c462211b807fe0cd">Struct::kHeaderSize</a>;
<a name="l08500"></a>08500   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSourcePositionIndex = kCodePositionIndex + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08501"></a>08501   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStatementPositionIndex =
<a name="l08502"></a>08502       kSourcePositionIndex + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08503"></a>08503   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kBreakPointObjectsIndex =
<a name="l08504"></a>08504       kStatementPositionIndex + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08505"></a>08505   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kSize = kBreakPointObjectsIndex + <a class="code" href="namespacev8_1_1internal.html#a023300bfff7e3bace1bbc934a501681c">kPointerSize</a>;
<a name="l08506"></a>08506 
<a name="l08507"></a>08507  <span class="keyword">private</span>:
<a name="l08508"></a>08508   <a class="code" href="globals_8h.html#acfd97435e2829938f396946b00559b71">DISALLOW_IMPLICIT_CONSTRUCTORS</a>(BreakPointInfo);
<a name="l08509"></a>08509 };
<a name="l08510"></a>08510 <span class="preprocessor">#endif  // ENABLE_DEBUGGER_SUPPORT</span>
<a name="l08511"></a>08511 <span class="preprocessor"></span>
<a name="l08512"></a>08512 
<a name="l08513"></a>08513 <span class="preprocessor">#undef DECL_BOOLEAN_ACCESSORS</span>
<a name="l08514"></a>08514 <span class="preprocessor"></span><span class="preprocessor">#undef DECL_ACCESSORS</span>
<a name="l08515"></a>08515 <span class="preprocessor"></span>
<a name="l08516"></a><a class="code" href="objects_8h.html#aebe08482c6fc4a882ccb0d2241250c19">08516</a> <span class="preprocessor">#define VISITOR_SYNCHRONIZATION_TAGS_LIST(V)                            \</span>
<a name="l08517"></a>08517 <span class="preprocessor">  V(kSymbolTable, &quot;symbol_table&quot;, &quot;(Symbols)&quot;)                          \</span>
<a name="l08518"></a>08518 <span class="preprocessor">  V(kExternalStringsTable, &quot;external_strings_table&quot;, &quot;(External strings)&quot;) \</span>
<a name="l08519"></a>08519 <span class="preprocessor">  V(kStrongRootList, &quot;strong_root_list&quot;, &quot;(Strong roots)&quot;)              \</span>
<a name="l08520"></a>08520 <span class="preprocessor">  V(kSymbol, &quot;symbol&quot;, &quot;(Symbol)&quot;)                                      \</span>
<a name="l08521"></a>08521 <span class="preprocessor">  V(kBootstrapper, &quot;bootstrapper&quot;, &quot;(Bootstrapper)&quot;)                    \</span>
<a name="l08522"></a>08522 <span class="preprocessor">  V(kTop, &quot;top&quot;, &quot;(Isolate)&quot;)                                           \</span>
<a name="l08523"></a>08523 <span class="preprocessor">  V(kRelocatable, &quot;relocatable&quot;, &quot;(Relocatable)&quot;)                       \</span>
<a name="l08524"></a>08524 <span class="preprocessor">  V(kDebug, &quot;debug&quot;, &quot;(Debugger)&quot;)                                      \</span>
<a name="l08525"></a>08525 <span class="preprocessor">  V(kCompilationCache, &quot;compilationcache&quot;, &quot;(Compilation cache)&quot;)       \</span>
<a name="l08526"></a>08526 <span class="preprocessor">  V(kHandleScope, &quot;handlescope&quot;, &quot;(Handle scope)&quot;)                      \</span>
<a name="l08527"></a>08527 <span class="preprocessor">  V(kBuiltins, &quot;builtins&quot;, &quot;(Builtins)&quot;)                                \</span>
<a name="l08528"></a>08528 <span class="preprocessor">  V(kGlobalHandles, &quot;globalhandles&quot;, &quot;(Global handles)&quot;)                \</span>
<a name="l08529"></a>08529 <span class="preprocessor">  V(kThreadManager, &quot;threadmanager&quot;, &quot;(Thread manager)&quot;)                \</span>
<a name="l08530"></a>08530 <span class="preprocessor">  V(kExtensions, &quot;Extensions&quot;, &quot;(Extensions)&quot;)</span>
<a name="l08531"></a>08531 <span class="preprocessor"></span>
<a name="l08532"></a><a class="code" href="classv8_1_1internal_1_1_visitor_synchronization.html">08532</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_visitor_synchronization.html">VisitorSynchronization</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_all_static.html">AllStatic</a> {
<a name="l08533"></a>08533  <span class="keyword">public</span>:
<a name="l08534"></a><a class="code" href="objects_8h.html#aec45cbaa4d4b75a9778d538ff4aeb8eb">08534</a> <span class="preprocessor">#define DECLARE_ENUM(enum_item, ignore1, ignore2) enum_item,</span>
<a name="l08535"></a><a class="code" href="classv8_1_1internal_1_1_visitor_synchronization.html#a0971ddb5cd5a8da91d074f648187da7a">08535</a> <span class="preprocessor"></span>  <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1_visitor_synchronization.html#a0971ddb5cd5a8da91d074f648187da7a">SyncTag</a> {
<a name="l08536"></a>08536     <a class="code" href="objects_8h.html#aebe08482c6fc4a882ccb0d2241250c19">VISITOR_SYNCHRONIZATION_TAGS_LIST</a>(<a class="code" href="objects_8h.html#aec45cbaa4d4b75a9778d538ff4aeb8eb">DECLARE_ENUM</a>)
<a name="l08537"></a><a class="code" href="classv8_1_1internal_1_1_visitor_synchronization.html#a0971ddb5cd5a8da91d074f648187da7aa8b5105009b79f2c21d049b480bcd3607">08537</a>     kNumberOfSyncTags
<a name="l08538"></a>08538   };
<a name="l08539"></a>08539 <span class="preprocessor">#undef DECLARE_ENUM</span>
<a name="l08540"></a>08540 <span class="preprocessor"></span>
<a name="l08541"></a><a class="code" href="classv8_1_1internal_1_1_visitor_synchronization.html#a4ceb9fa65252b22e09054e592e5136c5">08541</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> kTags[kNumberOfSyncTags];
<a name="l08542"></a><a class="code" href="classv8_1_1internal_1_1_visitor_synchronization.html#a3869a214fa04d932977fabc5391add87">08542</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> kTagNames[kNumberOfSyncTags];
<a name="l08543"></a>08543 };
<a name="l08544"></a>08544 
<a name="l08545"></a>08545 <span class="comment">// Abstract base class for visiting, and optionally modifying, the</span>
<a name="l08546"></a>08546 <span class="comment">// pointers contained in Objects. Used in GC and serialization/deserialization.</span>
<a name="l08547"></a>08547 <span class="keyword">class </span>ObjectVisitor <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html">BASE_EMBEDDED</a> {
<a name="l08548"></a>08548  <span class="keyword">public</span>:
<a name="l08549"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a9e846cdff46d00067b5e5fd269b86edc">08549</a>   <span class="keyword">virtual</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a9e846cdff46d00067b5e5fd269b86edc">~ObjectVisitor</a>() {}
<a name="l08550"></a>08550 
<a name="l08551"></a>08551   <span class="comment">// Visits a contiguous arrays of pointers in the half-open range</span>
<a name="l08552"></a>08552   <span class="comment">// [start, end). Any or all of the values may be modified on return.</span>
<a name="l08553"></a>08553   <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitPointers(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** <a class="code" href="namespacell__prof.html#a5b7aee10eba26bc62f35b1049906c277">start</a>, <a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** end) = 0;
<a name="l08554"></a>08554 
<a name="l08555"></a>08555   <span class="comment">// To allow lazy clearing of inline caches the visitor has</span>
<a name="l08556"></a>08556   <span class="comment">// a rich interface for iterating over Code objects..</span>
<a name="l08557"></a>08557 
<a name="l08558"></a>08558   <span class="comment">// Visits a code target in the instruction stream.</span>
<a name="l08559"></a>08559   <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitCodeTarget(RelocInfo* rinfo);
<a name="l08560"></a>08560 
<a name="l08561"></a>08561   <span class="comment">// Visits a code entry in a JS function.</span>
<a name="l08562"></a>08562   <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitCodeEntry(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a> entry_address);
<a name="l08563"></a>08563 
<a name="l08564"></a>08564   <span class="comment">// Visits a global property cell reference in the instruction stream.</span>
<a name="l08565"></a>08565   <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitGlobalPropertyCell(RelocInfo* rinfo);
<a name="l08566"></a>08566 
<a name="l08567"></a>08567   <span class="comment">// Visits a runtime entry in the instruction stream.</span>
<a name="l08568"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a6ff1d011dcbcd31da437868c53a983d4">08568</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a6ff1d011dcbcd31da437868c53a983d4">VisitRuntimeEntry</a>(RelocInfo* rinfo) {}
<a name="l08569"></a>08569 
<a name="l08570"></a>08570   <span class="comment">// Visits the resource of an ASCII or two-byte string.</span>
<a name="l08571"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#ab1f565dbdf36867e700daa33e7ea12a3">08571</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitExternalAsciiString(
<a name="l08572"></a>08572       <a class="code" href="classv8_1_1_string_1_1_external_ascii_string_resource.html">v8::String::ExternalAsciiStringResource</a>** resource) {}
<a name="l08573"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a6039f90e16871c79474b2d0826f3ad66">08573</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitExternalTwoByteString(
<a name="l08574"></a>08574       <a class="code" href="classv8_1_1_string_1_1_external_string_resource.html">v8::String::ExternalStringResource</a>** resource) {}
<a name="l08575"></a>08575 
<a name="l08576"></a>08576   <span class="comment">// Visits a debug call target in the instruction stream.</span>
<a name="l08577"></a>08577   <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitDebugTarget(RelocInfo* rinfo);
<a name="l08578"></a>08578 
<a name="l08579"></a>08579   <span class="comment">// Handy shorthand for visiting a single pointer.</span>
<a name="l08580"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a6c79eb72fc76548cd257170c37d75a89">08580</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a6c79eb72fc76548cd257170c37d75a89">VisitPointer</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** p) { VisitPointers(p, p + 1); }
<a name="l08581"></a>08581 
<a name="l08582"></a>08582   <span class="comment">// Visit pointer embedded into a code object.</span>
<a name="l08583"></a>08583   <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitEmbeddedPointer(RelocInfo* rinfo);
<a name="l08584"></a>08584 
<a name="l08585"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a3aff036b6c10345cb593d60b7f62d170">08585</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a3aff036b6c10345cb593d60b7f62d170">VisitSharedFunctionInfo</a>(<a class="code" href="classv8_1_1internal_1_1_shared_function_info.html">SharedFunctionInfo</a>* shared) {}
<a name="l08586"></a>08586 
<a name="l08587"></a>08587   <span class="comment">// Visits a contiguous arrays of external references (references to the C++</span>
<a name="l08588"></a>08588   <span class="comment">// heap) in the half-open range [start, end). Any or all of the values</span>
<a name="l08589"></a>08589   <span class="comment">// may be modified on return.</span>
<a name="l08590"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a51be946853885d523d9015b34e939178">08590</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a51be946853885d523d9015b34e939178">VisitExternalReferences</a>(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a>* <a class="code" href="namespacell__prof.html#a5b7aee10eba26bc62f35b1049906c277">start</a>, <a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a>* end) {}
<a name="l08591"></a>08591 
<a name="l08592"></a>08592   <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitExternalReference(RelocInfo* rinfo);
<a name="l08593"></a>08593 
<a name="l08594"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a0fbfff159980dd825efcd4cb0a92c9d2">08594</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a0fbfff159980dd825efcd4cb0a92c9d2">VisitExternalReference</a>(<a class="code" href="namespacev8_1_1internal.html#a91038d135bfd26927f854d52e3e54379">Address</a>* p) {
<a name="l08595"></a>08595     VisitExternalReferences(p, p + 1);
<a name="l08596"></a>08596   }
<a name="l08597"></a>08597 
<a name="l08598"></a>08598   <span class="comment">// Visits a handle that has an embedder-assigned class ID.</span>
<a name="l08599"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a0f65817da23d7b5280df2482d18adae3">08599</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a0f65817da23d7b5280df2482d18adae3">VisitEmbedderReference</a>(<a class="code" href="classv8_1_1internal_1_1_object.html">Object</a>** p, <a class="code" href="namespaceunibrow.html#a1a9f000a71024f8d15d88a4fa57e1a18">uint16_t</a> class_id) {}
<a name="l08600"></a>08600 
<a name="l08601"></a>08601   <span class="comment">// Intended for serialization/deserialization checking: insert, or</span>
<a name="l08602"></a>08602   <span class="comment">// check for the presence of, a tag at this position in the stream.</span>
<a name="l08603"></a>08603   <span class="comment">// Also used for marking up GC roots in heap snapshots.</span>
<a name="l08604"></a><a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a7af03d57b82b0d3a6602fb6579934b88">08604</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1_b_a_s_e___e_m_b_e_d_d_e_d.html#a7af03d57b82b0d3a6602fb6579934b88">Synchronize</a>(<a class="code" href="classv8_1_1internal_1_1_visitor_synchronization.html#a0971ddb5cd5a8da91d074f648187da7a">VisitorSynchronization::SyncTag</a> tag) {}
<a name="l08605"></a>08605 };
<a name="l08606"></a>08606 
<a name="l08607"></a>08607 
<a name="l08608"></a><a class="code" href="classv8_1_1internal_1_1_struct_body_descriptor.html">08608</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_struct_body_descriptor.html">StructBodyDescriptor</a> : <span class="keyword">public</span>
<a name="l08609"></a>08609   <a class="code" href="classv8_1_1internal_1_1_flexible_body_descriptor.html">FlexibleBodyDescriptor</a>&lt;HeapObject::kHeaderSize&gt; {
<a name="l08610"></a>08610  <span class="keyword">public</span>:
<a name="l08611"></a><a class="code" href="classv8_1_1internal_1_1_struct_body_descriptor.html#ab42a6fbe3735acb940678529b7253339">08611</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1_struct_body_descriptor.html#ab42a6fbe3735acb940678529b7253339">SizeOf</a>(<a class="code" href="classv8_1_1internal_1_1_map.html">Map</a>* map, <a class="code" href="classv8_1_1internal_1_1_heap_object.html">HeapObject</a>* <span class="keywordtype">object</span>) {
<a name="l08612"></a>08612     <span class="keywordflow">return</span> map-&gt;<a class="code" href="classv8_1_1internal_1_1_map.html#a7cd69a3a08d04653aae1738f78cc7709">instance_size</a>();
<a name="l08613"></a>08613   }
<a name="l08614"></a>08614 };
<a name="l08615"></a>08615 
<a name="l08616"></a>08616 
<a name="l08617"></a>08617 <span class="comment">// BooleanBit is a helper class for setting and getting a bit in an</span>
<a name="l08618"></a>08618 <span class="comment">// integer or Smi.</span>
<a name="l08619"></a><a class="code" href="classv8_1_1internal_1_1_boolean_bit.html">08619</a> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1_boolean_bit.html">BooleanBit</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1_all_static.html">AllStatic</a> {
<a name="l08620"></a>08620  <span class="keyword">public</span>:
<a name="l08621"></a><a class="code" href="classv8_1_1internal_1_1_boolean_bit.html#a2d8d2bc008ec849731a3443c44cb9560">08621</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <span class="keyword">get</span>(<a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* smi, <span class="keywordtype">int</span> bit_position) {
<a name="l08622"></a>08622     <span class="keywordflow">return</span> <span class="keyword">get</span>(smi-&gt;value(), bit_position);
<a name="l08623"></a>08623   }
<a name="l08624"></a>08624 
<a name="l08625"></a><a class="code" href="classv8_1_1internal_1_1_boolean_bit.html#a0021135995e316cd5abd7d024da90f3b">08625</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <span class="keyword">get</span>(<span class="keywordtype">int</span> value, <span class="keywordtype">int</span> bit_position) {
<a name="l08626"></a>08626     <span class="keywordflow">return</span> (value &amp; (1 &lt;&lt; bit_position)) != 0;
<a name="l08627"></a>08627   }
<a name="l08628"></a>08628 
<a name="l08629"></a><a class="code" href="classv8_1_1internal_1_1_boolean_bit.html#a67fea84c12d1a39e2dccc59fa59a5d63">08629</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* <span class="keyword">set</span>(<a class="code" href="classv8_1_1internal_1_1_smi.html">Smi</a>* smi, <span class="keywordtype">int</span> bit_position, <span class="keywordtype">bool</span> v) {
<a name="l08630"></a>08630     <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1_smi.html#ab8a06699d9e96c9c50be9bf54c29ea86">Smi::FromInt</a>(<span class="keyword">set</span>(smi-&gt;value(), bit_position, v));
<a name="l08631"></a>08631   }
<a name="l08632"></a>08632 
<a name="l08633"></a><a class="code" href="classv8_1_1internal_1_1_boolean_bit.html#afbfebc642ff88f009b5097ab8374dc64">08633</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> value, <span class="keywordtype">int</span> bit_position, <span class="keywordtype">bool</span> v) {
<a name="l08634"></a>08634     <span class="keywordflow">if</span> (v) {
<a name="l08635"></a>08635       value |= (1 &lt;&lt; bit_position);
<a name="l08636"></a>08636     } <span class="keywordflow">else</span> {
<a name="l08637"></a>08637       value &amp;= ~(1 &lt;&lt; bit_position);
<a name="l08638"></a>08638     }
<a name="l08639"></a>08639     <span class="keywordflow">return</span> value;
<a name="l08640"></a>08640   }
<a name="l08641"></a>08641 };
<a name="l08642"></a>08642 
<a name="l08643"></a>08643 } }  <span class="comment">// namespace v8::internal</span>
<a name="l08644"></a>08644 
<a name="l08645"></a>08645 <span class="preprocessor">#endif  // V8_OBJECTS_H_</span>
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="objects_8h.html">objects.h</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 13:06:12 for V8 API Reference Guide by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
